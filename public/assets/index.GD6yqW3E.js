var h1=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var z6=h1((Q6,rl)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ge={},Ns=[],Rn=()=>{},f1=()=>!1,Dl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yu=t=>t.startsWith("onUpdate:"),Wt=Object.assign,Gu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},d1=Object.prototype.hasOwnProperty,je=(t,e)=>d1.call(t,e),Ae=Array.isArray,Ls=t=>Il(t)==="[object Map]",Mp=t=>Il(t)==="[object Set]",Ce=t=>typeof t=="function",gt=t=>typeof t=="string",Fr=t=>typeof t=="symbol",rt=t=>t!==null&&typeof t=="object",Op=t=>(rt(t)||Ce(t))&&Ce(t.then)&&Ce(t.catch),Vp=Object.prototype.toString,Il=t=>Vp.call(t),p1=t=>Il(t).slice(8,-1),Np=t=>Il(t)==="[object Object]",Ku=t=>gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mi=Wu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},m1=/-(\w)/g,br=Sl(t=>t.replace(m1,(e,n)=>n?n.toUpperCase():"")),g1=/\B([A-Z])/g,Br=Sl(t=>t.replace(g1,"-$1").toLowerCase()),Lp=Sl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sc=Sl(t=>t?`on${Lp(t)}`:""),xr=(t,e)=>!Object.is(t,e),ia=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Up=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},tu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let uf;const Rl=()=>uf||(uf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cr(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=gt(r)?y1(r):Cr(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(gt(t)||rt(t))return t}const _1=/;(?![^(]*\))/g,x1=/:([^]+)/,v1=/\/\*[^]*?\*\//g;function y1(t){const e={};return t.replace(v1,"").split(_1).forEach(n=>{if(n){const r=n.split(x1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function kn(t){let e="";if(gt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const r=kn(t[n]);r&&(e+=r+" ")}else if(rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const E1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",w1=Wu(E1);function Hp(t){return!!t||t===""}const $p=t=>!!(t&&t.__v_isRef===!0),pt=t=>gt(t)?t:t==null?"":Ae(t)||rt(t)&&(t.toString===Vp||!Ce(t.toString))?$p(t)?pt(t.value):JSON.stringify(t,qp,2):String(t),qp=(t,e)=>$p(e)?qp(t,e.value):Ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Rc(r,i)+" =>"]=s,n),{})}:Mp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Rc(n))}:Fr(e)?Rc(e):rt(e)&&!Ae(e)&&!Np(e)?String(e):e,Rc=(t,e="")=>{var n;return Fr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rn;class A1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rn,!e&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=rn;try{return rn=this,e()}finally{rn=n}}}on(){rn=this}off(){rn=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function T1(){return rn}let Ke;const kc=new WeakSet;class jp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rn&&rn.active&&rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kc.has(this)&&(kc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hf(this),Yp(this);const e=Ke,n=gn;Ke=this,gn=!0;try{return this.fn()}finally{Gp(this),Ke=e,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Zu(e);this.deps=this.depsTail=void 0,hf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nu(this)&&this.run()}get dirty(){return nu(this)}}let zp=0,Oi,Vi;function Wp(t,e=!1){if(t.flags|=8,e){t.next=Vi,Vi=t;return}t.next=Oi,Oi=t}function Qu(){zp++}function Xu(){if(--zp>0)return;if(Vi){let e=Vi;for(Vi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Oi;){let e=Oi;for(Oi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Yp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gp(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Zu(r),b1(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function nu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Kp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Gi))return;t.globalVersion=Gi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!nu(t)){t.flags&=-3;return}const n=Ke,r=gn;Ke=t,gn=!0;try{Yp(t);const s=t.fn(t._value);(e.version===0||xr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ke=n,gn=r,Gp(t),t.flags&=-3}}function Zu(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Zu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function b1(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let gn=!0;const Qp=[];function Mr(){Qp.push(gn),gn=!1}function Or(){const t=Qp.pop();gn=t===void 0?!0:t}function hf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ke;Ke=void 0;try{e()}finally{Ke=n}}}let Gi=0;class C1{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ju{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ke||!gn||Ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ke)n=this.activeLink=new C1(Ke,this),Ke.deps?(n.prevDep=Ke.depsTail,Ke.depsTail.nextDep=n,Ke.depsTail=n):Ke.deps=Ke.depsTail=n,Xp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ke.depsTail,n.nextDep=void 0,Ke.depsTail.nextDep=n,Ke.depsTail=n,Ke.deps===n&&(Ke.deps=r)}return n}trigger(e){this.version++,Gi++,this.notify(e)}notify(e){Qu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xu()}}}function Xp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Xp(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ru=new WeakMap,rs=Symbol(""),su=Symbol(""),Ki=Symbol("");function Ot(t,e,n){if(gn&&Ke){let r=ru.get(t);r||ru.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ju),s.map=r,s.key=n),s.track()}}function Yn(t,e,n,r,s,i){const o=ru.get(t);if(!o){Gi++;return}const l=c=>{c&&c.trigger()};if(Qu(),e==="clear")o.forEach(l);else{const c=Ae(t),u=c&&Ku(n);if(c&&n==="length"){const h=Number(r);o.forEach((p,d)=>{(d==="length"||d===Ki||!Fr(d)&&d>=h)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Ki)),e){case"add":c?u&&l(o.get("length")):(l(o.get(rs)),Ls(t)&&l(o.get(su)));break;case"delete":c||(l(o.get(rs)),Ls(t)&&l(o.get(su)));break;case"set":Ls(t)&&l(o.get(rs));break}}Xu()}function Cs(t){const e=qe(t);return e===t?e:(Ot(e,"iterate",Ki),hn(t)?e:e.map(Vt))}function kl(t){return Ot(t=qe(t),"iterate",Ki),t}const D1={__proto__:null,[Symbol.iterator](){return Pc(this,Symbol.iterator,Vt)},concat(...t){return Cs(this).concat(...t.map(e=>Ae(e)?Cs(e):e))},entries(){return Pc(this,"entries",t=>(t[1]=Vt(t[1]),t))},every(t,e){return qn(this,"every",t,e,void 0,arguments)},filter(t,e){return qn(this,"filter",t,e,n=>n.map(Vt),arguments)},find(t,e){return qn(this,"find",t,e,Vt,arguments)},findIndex(t,e){return qn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qn(this,"findLast",t,e,Vt,arguments)},findLastIndex(t,e){return qn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fc(this,"includes",t)},indexOf(...t){return Fc(this,"indexOf",t)},join(t){return Cs(this).join(t)},lastIndexOf(...t){return Fc(this,"lastIndexOf",t)},map(t,e){return qn(this,"map",t,e,void 0,arguments)},pop(){return bi(this,"pop")},push(...t){return bi(this,"push",t)},reduce(t,...e){return ff(this,"reduce",t,e)},reduceRight(t,...e){return ff(this,"reduceRight",t,e)},shift(){return bi(this,"shift")},some(t,e){return qn(this,"some",t,e,void 0,arguments)},splice(...t){return bi(this,"splice",t)},toReversed(){return Cs(this).toReversed()},toSorted(t){return Cs(this).toSorted(t)},toSpliced(...t){return Cs(this).toSpliced(...t)},unshift(...t){return bi(this,"unshift",t)},values(){return Pc(this,"values",Vt)}};function Pc(t,e,n){const r=kl(t),s=r[e]();return r!==t&&!hn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const I1=Array.prototype;function qn(t,e,n,r,s,i){const o=kl(t),l=o!==t&&!hn(t),c=o[e];if(c!==I1[e]){const p=c.apply(t,i);return l?Vt(p):p}let u=n;o!==t&&(l?u=function(p,d){return n.call(this,Vt(p),d,t)}:n.length>2&&(u=function(p,d){return n.call(this,p,d,t)}));const h=c.call(o,u,r);return l&&s?s(h):h}function ff(t,e,n,r){const s=kl(t);let i=n;return s!==t&&(hn(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,Vt(l),c,t)}),s[e](i,...r)}function Fc(t,e,n){const r=qe(t);Ot(r,"iterate",Ki);const s=r[e](...n);return(s===-1||s===!1)&&r0(n[0])?(n[0]=qe(n[0]),r[e](...n)):s}function bi(t,e,n=[]){Mr(),Qu();const r=qe(t)[e].apply(t,n);return Xu(),Or(),r}const S1=Wu("__proto__,__v_isRef,__isVue"),Zp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fr));function R1(t){Fr(t)||(t=String(t));const e=qe(this);return Ot(e,"has",t),e.hasOwnProperty(t)}class Jp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?U1:rm:i?nm:tm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ae(e);if(!s){let c;if(o&&(c=D1[n]))return c;if(n==="hasOwnProperty")return R1}const l=Reflect.get(e,n,Lt(e)?e:r);return(Fr(n)?Zp.has(n):S1(n))||(s||Ot(e,"get",n),i)?l:Lt(l)?o&&Ku(n)?l:l.value:rt(l)?s?sm(l):t0(l):l}}class em extends Jp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=cs(i);if(!hn(r)&&!cs(r)&&(i=qe(i),r=qe(r)),!Ae(e)&&Lt(i)&&!Lt(r))return c?!1:(i.value=r,!0)}const o=Ae(e)&&Ku(n)?Number(n)<e.length:je(e,n),l=Reflect.set(e,n,r,Lt(e)?e:s);return e===qe(s)&&(o?xr(r,i)&&Yn(e,"set",n,r):Yn(e,"add",n,r)),l}deleteProperty(e,n){const r=je(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Yn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Fr(n)||!Zp.has(n))&&Ot(e,"has",n),r}ownKeys(e){return Ot(e,"iterate",Ae(e)?"length":rs),Reflect.ownKeys(e)}}class k1 extends Jp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const P1=new em,F1=new k1,B1=new em(!0),iu=t=>t,Yo=t=>Reflect.getPrototypeOf(t);function M1(t,e,n){return function(...r){const s=this.__v_raw,i=qe(s),o=Ls(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...r),h=n?iu:e?ou:Vt;return!e&&Ot(i,"iterate",c?su:rs),{next(){const{value:p,done:d}=u.next();return d?{value:p,done:d}:{value:l?[h(p[0]),h(p[1])]:h(p),done:d}},[Symbol.iterator](){return this}}}}function Go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function O1(t,e){const n={get(s){const i=this.__v_raw,o=qe(i),l=qe(s);t||(xr(s,l)&&Ot(o,"get",s),Ot(o,"get",l));const{has:c}=Yo(o),u=e?iu:t?ou:Vt;if(c.call(o,s))return u(i.get(s));if(c.call(o,l))return u(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Ot(qe(s),"iterate",rs),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=qe(i),l=qe(s);return t||(xr(s,l)&&Ot(o,"has",s),Ot(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=qe(l),u=e?iu:t?ou:Vt;return!t&&Ot(c,"iterate",rs),l.forEach((h,p)=>s.call(i,u(h),u(p),o))}};return Wt(n,t?{add:Go("add"),set:Go("set"),delete:Go("delete"),clear:Go("clear")}:{add(s){!e&&!hn(s)&&!cs(s)&&(s=qe(s));const i=qe(this);return Yo(i).has.call(i,s)||(i.add(s),Yn(i,"add",s,s)),this},set(s,i){!e&&!hn(i)&&!cs(i)&&(i=qe(i));const o=qe(this),{has:l,get:c}=Yo(o);let u=l.call(o,s);u||(s=qe(s),u=l.call(o,s));const h=c.call(o,s);return o.set(s,i),u?xr(i,h)&&Yn(o,"set",s,i):Yn(o,"add",s,i),this},delete(s){const i=qe(this),{has:o,get:l}=Yo(i);let c=o.call(i,s);c||(s=qe(s),c=o.call(i,s)),l&&l.call(i,s);const u=i.delete(s);return c&&Yn(i,"delete",s,void 0),u},clear(){const s=qe(this),i=s.size!==0,o=s.clear();return i&&Yn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=M1(s,t,e)}),n}function e0(t,e){const n=O1(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(je(n,s)&&s in r?n:r,s,i)}const V1={get:e0(!1,!1)},N1={get:e0(!1,!0)},L1={get:e0(!0,!1)},tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,U1=new WeakMap;function H1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $1(t){return t.__v_skip||!Object.isExtensible(t)?0:H1(p1(t))}function t0(t){return cs(t)?t:n0(t,!1,P1,V1,tm)}function q1(t){return n0(t,!1,B1,N1,nm)}function sm(t){return n0(t,!0,F1,L1,rm)}function n0(t,e,n,r,s){if(!rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=$1(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function Us(t){return cs(t)?Us(t.__v_raw):!!(t&&t.__v_isReactive)}function cs(t){return!!(t&&t.__v_isReadonly)}function hn(t){return!!(t&&t.__v_isShallow)}function r0(t){return t?!!t.__v_raw:!1}function qe(t){const e=t&&t.__v_raw;return e?qe(e):t}function j1(t){return!je(t,"__v_skip")&&Object.isExtensible(t)&&Up(t,"__v_skip",!0),t}const Vt=t=>rt(t)?t0(t):t,ou=t=>rt(t)?sm(t):t;function Lt(t){return t?t.__v_isRef===!0:!1}function Re(t){return z1(t,!1)}function z1(t,e){return Lt(t)?t:new W1(t,e)}class W1{constructor(e,n){this.dep=new Ju,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:qe(e),this._value=n?e:Vt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||hn(e)||cs(e);e=r?e:qe(e),xr(e,n)&&(this._rawValue=e,this._value=r?e:Vt(e),this.dep.trigger())}}function Zr(t){return Lt(t)?t.value:t}const Y1={get:(t,e,n)=>e==="__v_raw"?t:Zr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Lt(s)&&!Lt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function im(t){return Us(t)?t:new Proxy(t,Y1)}class G1{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ju(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return Wp(this,!0),!0}get value(){const e=this.dep.track();return Kp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function K1(t,e,n=!1){let r,s;return Ce(t)?r=t:(r=t.get,s=t.set),new G1(r,s,n)}const Ko={},sl=new WeakMap;let Jr;function Q1(t,e=!1,n=Jr){if(n){let r=sl.get(n);r||sl.set(n,r=[]),r.push(t)}}function X1(t,e,n=Ge){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,u=T=>s?T:hn(T)||s===!1||s===0?Gn(T,1):Gn(T);let h,p,d,g,w=!1,S=!1;if(Lt(t)?(p=()=>t.value,w=hn(t)):Us(t)?(p=()=>u(t),w=!0):Ae(t)?(S=!0,w=t.some(T=>Us(T)||hn(T)),p=()=>t.map(T=>{if(Lt(T))return T.value;if(Us(T))return u(T);if(Ce(T))return c?c(T,2):T()})):Ce(t)?e?p=c?()=>c(t,2):t:p=()=>{if(d){Mr();try{d()}finally{Or()}}const T=Jr;Jr=h;try{return c?c(t,3,[g]):t(g)}finally{Jr=T}}:p=Rn,e&&s){const T=p,P=s===!0?1/0:s;p=()=>Gn(T(),P)}const b=T1(),k=()=>{h.stop(),b&&b.active&&Gu(b.effects,h)};if(i&&e){const T=e;e=(...P)=>{T(...P),k()}}let E=S?new Array(t.length).fill(Ko):Ko;const C=T=>{if(!(!(h.flags&1)||!h.dirty&&!T))if(e){const P=h.run();if(s||w||(S?P.some((B,v)=>xr(B,E[v])):xr(P,E))){d&&d();const B=Jr;Jr=h;try{const v=[P,E===Ko?void 0:S&&E[0]===Ko?[]:E,g];c?c(e,3,v):e(...v),E=P}finally{Jr=B}}}else h.run()};return l&&l(C),h=new jp(p),h.scheduler=o?()=>o(C,!1):C,g=T=>Q1(T,!1,h),d=h.onStop=()=>{const T=sl.get(h);if(T){if(c)c(T,4);else for(const P of T)P();sl.delete(h)}},e?r?C(!0):E=h.run():o?o(C.bind(null,!0),!0):h.run(),k.pause=h.pause.bind(h),k.resume=h.resume.bind(h),k.stop=k,k}function Gn(t,e=1/0,n){if(e<=0||!rt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Lt(t))Gn(t.value,e,n);else if(Ae(t))for(let r=0;r<t.length;r++)Gn(t[r],e,n);else if(Mp(t)||Ls(t))t.forEach(r=>{Gn(r,e,n)});else if(Np(t)){for(const r in t)Gn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Gn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(t,e,n,r){try{return r?t(...r):t()}catch(s){Pl(s,e,n)}}function Bn(t,e,n,r){if(Ce(t)){const s=po(t,e,n,r);return s&&Op(s)&&s.catch(i=>{Pl(i,e,n)}),s}if(Ae(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Bn(t[i],e,n,r));return s}}function Pl(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ge;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,c,u)===!1)return}l=l.parent}if(i){Mr(),po(i,null,10,[t,c,u]),Or();return}}Z1(t,n,s,r,o)}function Z1(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const jt=[];let Cn=-1;const Hs=[];let fr=null,Ss=0;const om=Promise.resolve();let il=null;function au(t){const e=il||om;return t?e.then(this?t.bind(this):t):e}function J1(t){let e=Cn+1,n=jt.length;for(;e<n;){const r=e+n>>>1,s=jt[r],i=Qi(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function s0(t){if(!(t.flags&1)){const e=Qi(t),n=jt[jt.length-1];!n||!(t.flags&2)&&e>=Qi(n)?jt.push(t):jt.splice(J1(e),0,t),t.flags|=1,am()}}function am(){il||(il=om.then(cm))}function ev(t){Ae(t)?Hs.push(...t):fr&&t.id===-1?fr.splice(Ss+1,0,t):t.flags&1||(Hs.push(t),t.flags|=1),am()}function df(t,e,n=Cn+1){for(;n<jt.length;n++){const r=jt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;jt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lm(t){if(Hs.length){const e=[...new Set(Hs)].sort((n,r)=>Qi(n)-Qi(r));if(Hs.length=0,fr){fr.push(...e);return}for(fr=e,Ss=0;Ss<fr.length;Ss++){const n=fr[Ss];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fr=null,Ss=0}}const Qi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function cm(t){try{for(Cn=0;Cn<jt.length;Cn++){const e=jt[Cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),po(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Cn<jt.length;Cn++){const e=jt[Cn];e&&(e.flags&=-2)}Cn=-1,jt.length=0,lm(),il=null,(jt.length||Hs.length)&&cm()}}let un=null,um=null;function ol(t){const e=un;return un=t,um=t&&t.type.__scopeId||null,e}function tv(t,e=un,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&wf(-1);const i=ol(e);let o;try{o=t(...s)}finally{ol(i),r._d&&wf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function i0(t,e){if(un===null)return t;const n=Nl(un),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,c=Ge]=e[s];i&&(Ce(i)&&(i={mounted:i,updated:i}),i.deep&&Gn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Kr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(Mr(),Bn(c,n,8,[t.el,l,t,e]),Or())}}const nv=Symbol("_vte"),rv=t=>t.__isTeleport;function o0(t,e){t.shapeFlag&6&&t.component?(t.transition=e,o0(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function hm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function al(t,e,n,r,s=!1){if(Ae(t)){t.forEach((w,S)=>al(w,e&&(Ae(e)?e[S]:e),n,r,s));return}if(Ni(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&al(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Nl(r.component):r.el,o=s?null:i,{i:l,r:c}=t,u=e&&e.r,h=l.refs===Ge?l.refs={}:l.refs,p=l.setupState,d=qe(p),g=p===Ge?()=>!1:w=>je(d,w);if(u!=null&&u!==c&&(gt(u)?(h[u]=null,g(u)&&(p[u]=null)):Lt(u)&&(u.value=null)),Ce(c))po(c,l,12,[o,h]);else{const w=gt(c),S=Lt(c);if(w||S){const b=()=>{if(t.f){const k=w?g(c)?p[c]:h[c]:c.value;s?Ae(k)&&Gu(k,i):Ae(k)?k.includes(i)||k.push(i):w?(h[c]=[i],g(c)&&(p[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else w?(h[c]=o,g(c)&&(p[c]=o)):S&&(c.value=o,t.k&&(h[t.k]=o))};o?(b.id=-1,nn(b,n)):b()}}}Rl().requestIdleCallback;Rl().cancelIdleCallback;const Ni=t=>!!t.type.__asyncLoader,fm=t=>t.type.__isKeepAlive;function sv(t,e){dm(t,"a",e)}function iv(t,e){dm(t,"da",e)}function dm(t,e,n=zt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Fl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)fm(s.parent.vnode)&&ov(r,e,n,s),s=s.parent}}function ov(t,e,n,r){const s=Fl(e,t,r,!0);Ml(()=>{Gu(r[e],s)},n)}function Fl(t,e,n=zt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Mr();const l=mo(n),c=Bn(e,n,t,o);return l(),Or(),c});return r?s.unshift(i):s.push(i),i}}const ir=t=>(e,n=zt)=>{(!Zi||t==="sp")&&Fl(t,(...r)=>e(...r),n)},av=ir("bm"),Vr=ir("m"),lv=ir("bu"),cv=ir("u"),Bl=ir("bum"),Ml=ir("um"),uv=ir("sp"),hv=ir("rtg"),fv=ir("rtc");function dv(t,e=zt){Fl("ec",t,e)}const pv=Symbol.for("v-ndc");function Kn(t,e,n,r){let s;const i=n,o=Ae(t);if(o||gt(t)){const l=o&&Us(t);let c=!1;l&&(c=!hn(t),t=kl(t)),s=new Array(t.length);for(let u=0,h=t.length;u<h;u++)s[u]=e(c?Vt(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(rt(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const h=l[c];s[c]=e(t[h],h,c,i)}}else s=[];return s}const lu=t=>t?Om(t)?Nl(t):lu(t.parent):null,Li=Wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lu(t.parent),$root:t=>lu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>mm(t),$forceUpdate:t=>t.f||(t.f=()=>{s0(t.update)}),$nextTick:t=>t.n||(t.n=au.bind(t.proxy)),$watch:t=>Ov.bind(t)}),Bc=(t,e)=>t!==Ge&&!t.__isScriptSetup&&je(t,e),mv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Bc(r,e))return o[e]=1,r[e];if(s!==Ge&&je(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&je(u,e))return o[e]=3,i[e];if(n!==Ge&&je(n,e))return o[e]=4,n[e];cu&&(o[e]=0)}}const h=Li[e];let p,d;if(h)return e==="$attrs"&&Ot(t.attrs,"get",""),h(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==Ge&&je(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,je(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Bc(s,e)?(s[e]=n,!0):r!==Ge&&je(r,e)?(r[e]=n,!0):je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Ge&&je(t,o)||Bc(e,o)||(l=i[0])&&je(l,o)||je(r,o)||je(Li,o)||je(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function pf(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let cu=!0;function gv(t){const e=mm(t),n=t.proxy,r=t.ctx;cu=!1,e.beforeCreate&&mf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:u,created:h,beforeMount:p,mounted:d,beforeUpdate:g,updated:w,activated:S,deactivated:b,beforeDestroy:k,beforeUnmount:E,destroyed:C,unmounted:T,render:P,renderTracked:B,renderTriggered:v,errorCaptured:x,serverPrefetch:I,expose:_,inheritAttrs:y,components:R,directives:A,filters:ne}=e;if(u&&_v(u,r,null),o)for(const fe in o){const ue=o[fe];Ce(ue)&&(r[fe]=ue.bind(n))}if(s){const fe=s.call(n,n);rt(fe)&&(t.data=t0(fe))}if(cu=!0,i)for(const fe in i){const ue=i[fe],De=Ce(ue)?ue.bind(n,n):Ce(ue.get)?ue.get.bind(n,n):Rn,Ie=!Ce(ue)&&Ce(ue.set)?ue.set.bind(n):Rn,U=Dr({get:De,set:Ie});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>U.value,set:H=>U.value=H})}if(l)for(const fe in l)pm(l[fe],r,n,fe);if(c){const fe=Ce(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(ue=>{Av(ue,fe[ue])})}h&&mf(h,t,"c");function re(fe,ue){Ae(ue)?ue.forEach(De=>fe(De.bind(n))):ue&&fe(ue.bind(n))}if(re(av,p),re(Vr,d),re(lv,g),re(cv,w),re(sv,S),re(iv,b),re(dv,x),re(fv,B),re(hv,v),re(Bl,E),re(Ml,T),re(uv,I),Ae(_))if(_.length){const fe=t.exposed||(t.exposed={});_.forEach(ue=>{Object.defineProperty(fe,ue,{get:()=>n[ue],set:De=>n[ue]=De})})}else t.exposed||(t.exposed={});P&&t.render===Rn&&(t.render=P),y!=null&&(t.inheritAttrs=y),R&&(t.components=R),A&&(t.directives=A),I&&hm(t)}function _v(t,e,n=Rn){Ae(t)&&(t=uu(t));for(const r in t){const s=t[r];let i;rt(s)?"default"in s?i=oa(s.from||r,s.default,!0):i=oa(s.from||r):i=oa(s),Lt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function mf(t,e,n){Bn(Ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function pm(t,e,n,r){let s=r.includes(".")?Sm(n,r):()=>n[r];if(gt(t)){const i=e[t];Ce(i)&&ss(s,i)}else if(Ce(t))ss(s,t.bind(n));else if(rt(t))if(Ae(t))t.forEach(i=>pm(i,e,n,r));else{const i=Ce(t.handler)?t.handler.bind(n):e[t.handler];Ce(i)&&ss(s,i,t)}}function mm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(u=>ll(c,u,o,!0)),ll(c,e,o)),rt(e)&&i.set(e,c),c}function ll(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ll(t,i,n,!0),s&&s.forEach(o=>ll(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=xv[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const xv={data:gf,props:_f,emits:_f,methods:Ri,computed:Ri,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:Ri,directives:Ri,watch:yv,provide:gf,inject:vv};function gf(t,e){return e?t?function(){return Wt(Ce(t)?t.call(this,this):t,Ce(e)?e.call(this,this):e)}:e:t}function vv(t,e){return Ri(uu(t),uu(e))}function uu(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function qt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ri(t,e){return t?Wt(Object.create(null),t,e):e}function _f(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:Wt(Object.create(null),pf(t),pf(e??{})):e}function yv(t,e){if(!t)return e;if(!e)return t;const n=Wt(Object.create(null),t);for(const r in e)n[r]=qt(t[r],e[r]);return n}function gm(){return{app:null,config:{isNativeTag:f1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ev=0;function wv(t,e){return function(r,s=null){Ce(r)||(r=Wt({},r)),s!=null&&!rt(s)&&(s=null);const i=gm(),o=new WeakSet,l=[];let c=!1;const u=i.app={_uid:Ev++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:ny,get config(){return i.config},set config(h){},use(h,...p){return o.has(h)||(h&&Ce(h.install)?(o.add(h),h.install(u,...p)):Ce(h)&&(o.add(h),h(u,...p))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,p){return p?(i.components[h]=p,u):i.components[h]},directive(h,p){return p?(i.directives[h]=p,u):i.directives[h]},mount(h,p,d){if(!c){const g=u._ceVNode||Jt(r,s);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(g,h,d),c=!0,u._container=h,h.__vue_app__=u,Nl(g.component)}},onUnmount(h){l.push(h)},unmount(){c&&(Bn(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,p){return i.provides[h]=p,u},runWithContext(h){const p=$s;$s=u;try{return h()}finally{$s=p}}};return u}}let $s=null;function Av(t,e){if(zt){let n=zt.provides;const r=zt.parent&&zt.parent.provides;r===n&&(n=zt.provides=Object.create(r)),n[t]=e}}function oa(t,e,n=!1){const r=zt||un;if(r||$s){const s=$s?$s._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ce(e)?e.call(r&&r.proxy):e}}const _m={},xm=()=>Object.create(_m),vm=t=>Object.getPrototypeOf(t)===_m;function Tv(t,e,n,r=!1){const s={},i=xm();t.propsDefaults=Object.create(null),ym(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:q1(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function bv(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=qe(s),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let d=h[p];if(Ol(t.emitsOptions,d))continue;const g=e[d];if(c)if(je(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const w=br(d);s[w]=hu(c,l,w,g,t,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{ym(t,e,s,i)&&(u=!0);let h;for(const p in l)(!e||!je(e,p)&&((h=Br(p))===p||!je(e,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(s[p]=hu(c,l,p,void 0,t,!0)):delete s[p]);if(i!==l)for(const p in i)(!e||!je(e,p))&&(delete i[p],u=!0)}u&&Yn(t.attrs,"set","")}function ym(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Mi(c))continue;const u=e[c];let h;s&&je(s,h=br(c))?!i||!i.includes(h)?n[h]=u:(l||(l={}))[h]=u:Ol(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=qe(n),u=l||Ge;for(let h=0;h<i.length;h++){const p=i[h];n[p]=hu(s,c,p,u[p],t,!je(u,p))}}return o}function hu(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=je(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ce(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=mo(s);r=u[n]=c.call(null,e),h()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Br(n))&&(r=!0))}return r}const Cv=new WeakMap;function Em(t,e,n=!1){const r=n?Cv:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!Ce(t)){const h=p=>{c=!0;const[d,g]=Em(p,e,!0);Wt(o,d),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return rt(t)&&r.set(t,Ns),Ns;if(Ae(i))for(let h=0;h<i.length;h++){const p=br(i[h]);xf(p)&&(o[p]=Ge)}else if(i)for(const h in i){const p=br(h);if(xf(p)){const d=i[h],g=o[p]=Ae(d)||Ce(d)?{type:d}:Wt({},d),w=g.type;let S=!1,b=!0;if(Ae(w))for(let k=0;k<w.length;++k){const E=w[k],C=Ce(E)&&E.name;if(C==="Boolean"){S=!0;break}else C==="String"&&(b=!1)}else S=Ce(w)&&w.name==="Boolean";g[0]=S,g[1]=b,(S||je(g,"default"))&&l.push(p)}}const u=[o,l];return rt(t)&&r.set(t,u),u}function xf(t){return t[0]!=="$"&&!Mi(t)}const wm=t=>t[0]==="_"||t==="$stable",a0=t=>Ae(t)?t.map(Dn):[Dn(t)],Dv=(t,e,n)=>{if(e._n)return e;const r=tv((...s)=>a0(e(...s)),n);return r._c=!1,r},Am=(t,e,n)=>{const r=t._ctx;for(const s in t){if(wm(s))continue;const i=t[s];if(Ce(i))e[s]=Dv(s,i,r);else if(i!=null){const o=a0(i);e[s]=()=>o}}},Tm=(t,e)=>{const n=a0(e);t.slots.default=()=>n},bm=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Iv=(t,e,n)=>{const r=t.slots=xm();if(t.vnode.shapeFlag&32){const s=e._;s?(bm(r,e,n),n&&Up(r,"_",s,!0)):Am(e,r)}else e&&Tm(t,e)},Sv=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ge;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:bm(s,e,n):(i=!e.$stable,Am(e,s)),o=e}else e&&(Tm(t,e),o={default:1});if(i)for(const l in s)!wm(l)&&o[l]==null&&delete s[l]},nn=qv;function Rv(t){return kv(t)}function kv(t,e){const n=Rl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:u,setElementText:h,parentNode:p,nextSibling:d,setScopeId:g=Rn,insertStaticContent:w}=t,S=(F,M,V,G=null,z=null,K=null,ee=void 0,Z=null,X=!!M.dynamicChildren)=>{if(F===M)return;F&&!Ci(F,M)&&(G=tt(F),H(F,z,K,!0),F=null),M.patchFlag===-2&&(X=!1,M.dynamicChildren=null);const{type:W,ref:ce,shapeFlag:J}=M;switch(W){case Vl:b(F,M,V,G);break;case us:k(F,M,V,G);break;case aa:F==null&&E(M,V,G,ee);break;case ut:R(F,M,V,G,z,K,ee,Z,X);break;default:J&1?P(F,M,V,G,z,K,ee,Z,X):J&6?A(F,M,V,G,z,K,ee,Z,X):(J&64||J&128)&&W.process(F,M,V,G,z,K,ee,Z,X,Ct)}ce!=null&&z&&al(ce,F&&F.ref,K,M||F,!M)},b=(F,M,V,G)=>{if(F==null)r(M.el=l(M.children),V,G);else{const z=M.el=F.el;M.children!==F.children&&u(z,M.children)}},k=(F,M,V,G)=>{F==null?r(M.el=c(M.children||""),V,G):M.el=F.el},E=(F,M,V,G)=>{[F.el,F.anchor]=w(F.children,M,V,G,F.el,F.anchor)},C=({el:F,anchor:M},V,G)=>{let z;for(;F&&F!==M;)z=d(F),r(F,V,G),F=z;r(M,V,G)},T=({el:F,anchor:M})=>{let V;for(;F&&F!==M;)V=d(F),s(F),F=V;s(M)},P=(F,M,V,G,z,K,ee,Z,X)=>{M.type==="svg"?ee="svg":M.type==="math"&&(ee="mathml"),F==null?B(M,V,G,z,K,ee,Z,X):I(F,M,z,K,ee,Z,X)},B=(F,M,V,G,z,K,ee,Z)=>{let X,W;const{props:ce,shapeFlag:J,transition:he,dirs:_e}=F;if(X=F.el=o(F.type,K,ce&&ce.is,ce),J&8?h(X,F.children):J&16&&x(F.children,X,null,G,z,Mc(F,K),ee,Z),_e&&Kr(F,null,G,"created"),v(X,F,F.scopeId,ee,G),ce){for(const xe in ce)xe!=="value"&&!Mi(xe)&&i(X,xe,null,ce[xe],K,G);"value"in ce&&i(X,"value",null,ce.value,K),(W=ce.onVnodeBeforeMount)&&bn(W,G,F)}_e&&Kr(F,null,G,"beforeMount");const de=Pv(z,he);de&&he.beforeEnter(X),r(X,M,V),((W=ce&&ce.onVnodeMounted)||de||_e)&&nn(()=>{W&&bn(W,G,F),de&&he.enter(X),_e&&Kr(F,null,G,"mounted")},z)},v=(F,M,V,G,z)=>{if(V&&g(F,V),G)for(let K=0;K<G.length;K++)g(F,G[K]);if(z){let K=z.subTree;if(M===K||km(K.type)&&(K.ssContent===M||K.ssFallback===M)){const ee=z.vnode;v(F,ee,ee.scopeId,ee.slotScopeIds,z.parent)}}},x=(F,M,V,G,z,K,ee,Z,X=0)=>{for(let W=X;W<F.length;W++){const ce=F[W]=Z?dr(F[W]):Dn(F[W]);S(null,ce,M,V,G,z,K,ee,Z)}},I=(F,M,V,G,z,K,ee)=>{const Z=M.el=F.el;let{patchFlag:X,dynamicChildren:W,dirs:ce}=M;X|=F.patchFlag&16;const J=F.props||Ge,he=M.props||Ge;let _e;if(V&&Qr(V,!1),(_e=he.onVnodeBeforeUpdate)&&bn(_e,V,M,F),ce&&Kr(M,F,V,"beforeUpdate"),V&&Qr(V,!0),(J.innerHTML&&he.innerHTML==null||J.textContent&&he.textContent==null)&&h(Z,""),W?_(F.dynamicChildren,W,Z,V,G,Mc(M,z),K):ee||ue(F,M,Z,null,V,G,Mc(M,z),K,!1),X>0){if(X&16)y(Z,J,he,V,z);else if(X&2&&J.class!==he.class&&i(Z,"class",null,he.class,z),X&4&&i(Z,"style",J.style,he.style,z),X&8){const de=M.dynamicProps;for(let xe=0;xe<de.length;xe++){const Se=de[xe],_t=J[Se],ht=he[Se];(ht!==_t||Se==="value")&&i(Z,Se,_t,ht,z,V)}}X&1&&F.children!==M.children&&h(Z,M.children)}else!ee&&W==null&&y(Z,J,he,V,z);((_e=he.onVnodeUpdated)||ce)&&nn(()=>{_e&&bn(_e,V,M,F),ce&&Kr(M,F,V,"updated")},G)},_=(F,M,V,G,z,K,ee)=>{for(let Z=0;Z<M.length;Z++){const X=F[Z],W=M[Z],ce=X.el&&(X.type===ut||!Ci(X,W)||X.shapeFlag&70)?p(X.el):V;S(X,W,ce,null,G,z,K,ee,!0)}},y=(F,M,V,G,z)=>{if(M!==V){if(M!==Ge)for(const K in M)!Mi(K)&&!(K in V)&&i(F,K,M[K],null,z,G);for(const K in V){if(Mi(K))continue;const ee=V[K],Z=M[K];ee!==Z&&K!=="value"&&i(F,K,Z,ee,z,G)}"value"in V&&i(F,"value",M.value,V.value,z)}},R=(F,M,V,G,z,K,ee,Z,X)=>{const W=M.el=F?F.el:l(""),ce=M.anchor=F?F.anchor:l("");let{patchFlag:J,dynamicChildren:he,slotScopeIds:_e}=M;_e&&(Z=Z?Z.concat(_e):_e),F==null?(r(W,V,G),r(ce,V,G),x(M.children||[],V,ce,z,K,ee,Z,X)):J>0&&J&64&&he&&F.dynamicChildren?(_(F.dynamicChildren,he,V,z,K,ee,Z),(M.key!=null||z&&M===z.subTree)&&Cm(F,M,!0)):ue(F,M,V,ce,z,K,ee,Z,X)},A=(F,M,V,G,z,K,ee,Z,X)=>{M.slotScopeIds=Z,F==null?M.shapeFlag&512?z.ctx.activate(M,V,G,ee,X):ne(M,V,G,z,K,ee,X):ie(F,M,X)},ne=(F,M,V,G,z,K,ee)=>{const Z=F.component=Qv(F,G,z);if(fm(F)&&(Z.ctx.renderer=Ct),Xv(Z,!1,ee),Z.asyncDep){if(z&&z.registerDep(Z,re,ee),!F.el){const X=Z.subTree=Jt(us);k(null,X,M,V)}}else re(Z,F,M,V,z,K,ee)},ie=(F,M,V)=>{const G=M.component=F.component;if(Hv(F,M,V))if(G.asyncDep&&!G.asyncResolved){fe(G,M,V);return}else G.next=M,G.update();else M.el=F.el,G.vnode=M},re=(F,M,V,G,z,K,ee)=>{const Z=()=>{if(F.isMounted){let{next:J,bu:he,u:_e,parent:de,vnode:xe}=F;{const ot=Dm(F);if(ot){J&&(J.el=xe.el,fe(F,J,ee)),ot.asyncDep.then(()=>{F.isUnmounted||Z()});return}}let Se=J,_t;Qr(F,!1),J?(J.el=xe.el,fe(F,J,ee)):J=xe,he&&ia(he),(_t=J.props&&J.props.onVnodeBeforeUpdate)&&bn(_t,de,J,xe),Qr(F,!0);const ht=yf(F),xt=F.subTree;F.subTree=ht,S(xt,ht,p(xt.el),tt(xt),F,z,K),J.el=ht.el,Se===null&&$v(F,ht.el),_e&&nn(_e,z),(_t=J.props&&J.props.onVnodeUpdated)&&nn(()=>bn(_t,de,J,xe),z)}else{let J;const{el:he,props:_e}=M,{bm:de,m:xe,parent:Se,root:_t,type:ht}=F,xt=Ni(M);Qr(F,!1),de&&ia(de),!xt&&(J=_e&&_e.onVnodeBeforeMount)&&bn(J,Se,M),Qr(F,!0);{_t.ce&&_t.ce._injectChildStyle(ht);const ot=F.subTree=yf(F);S(null,ot,V,G,F,z,K),M.el=ot.el}if(xe&&nn(xe,z),!xt&&(J=_e&&_e.onVnodeMounted)){const ot=M;nn(()=>bn(J,Se,ot),z)}(M.shapeFlag&256||Se&&Ni(Se.vnode)&&Se.vnode.shapeFlag&256)&&F.a&&nn(F.a,z),F.isMounted=!0,M=V=G=null}};F.scope.on();const X=F.effect=new jp(Z);F.scope.off();const W=F.update=X.run.bind(X),ce=F.job=X.runIfDirty.bind(X);ce.i=F,ce.id=F.uid,X.scheduler=()=>s0(ce),Qr(F,!0),W()},fe=(F,M,V)=>{M.component=F;const G=F.vnode.props;F.vnode=M,F.next=null,bv(F,M.props,G,V),Sv(F,M.children,V),Mr(),df(F),Or()},ue=(F,M,V,G,z,K,ee,Z,X=!1)=>{const W=F&&F.children,ce=F?F.shapeFlag:0,J=M.children,{patchFlag:he,shapeFlag:_e}=M;if(he>0){if(he&128){Ie(W,J,V,G,z,K,ee,Z,X);return}else if(he&256){De(W,J,V,G,z,K,ee,Z,X);return}}_e&8?(ce&16&&Me(W,z,K),J!==W&&h(V,J)):ce&16?_e&16?Ie(W,J,V,G,z,K,ee,Z,X):Me(W,z,K,!0):(ce&8&&h(V,""),_e&16&&x(J,V,G,z,K,ee,Z,X))},De=(F,M,V,G,z,K,ee,Z,X)=>{F=F||Ns,M=M||Ns;const W=F.length,ce=M.length,J=Math.min(W,ce);let he;for(he=0;he<J;he++){const _e=M[he]=X?dr(M[he]):Dn(M[he]);S(F[he],_e,V,null,z,K,ee,Z,X)}W>ce?Me(F,z,K,!0,!1,J):x(M,V,G,z,K,ee,Z,X,J)},Ie=(F,M,V,G,z,K,ee,Z,X)=>{let W=0;const ce=M.length;let J=F.length-1,he=ce-1;for(;W<=J&&W<=he;){const _e=F[W],de=M[W]=X?dr(M[W]):Dn(M[W]);if(Ci(_e,de))S(_e,de,V,null,z,K,ee,Z,X);else break;W++}for(;W<=J&&W<=he;){const _e=F[J],de=M[he]=X?dr(M[he]):Dn(M[he]);if(Ci(_e,de))S(_e,de,V,null,z,K,ee,Z,X);else break;J--,he--}if(W>J){if(W<=he){const _e=he+1,de=_e<ce?M[_e].el:G;for(;W<=he;)S(null,M[W]=X?dr(M[W]):Dn(M[W]),V,de,z,K,ee,Z,X),W++}}else if(W>he)for(;W<=J;)H(F[W],z,K,!0),W++;else{const _e=W,de=W,xe=new Map;for(W=de;W<=he;W++){const ft=M[W]=X?dr(M[W]):Dn(M[W]);ft.key!=null&&xe.set(ft.key,W)}let Se,_t=0;const ht=he-de+1;let xt=!1,ot=0;const Tn=new Array(ht);for(W=0;W<ht;W++)Tn[W]=0;for(W=_e;W<=J;W++){const ft=F[W];if(_t>=ht){H(ft,z,K,!0);continue}let Yt;if(ft.key!=null)Yt=xe.get(ft.key);else for(Se=de;Se<=he;Se++)if(Tn[Se-de]===0&&Ci(ft,M[Se])){Yt=Se;break}Yt===void 0?H(ft,z,K,!0):(Tn[Yt-de]=W+1,Yt>=ot?ot=Yt:xt=!0,S(ft,M[Yt],V,null,z,K,ee,Z,X),_t++)}const lr=xt?Fv(Tn):Ns;for(Se=lr.length-1,W=ht-1;W>=0;W--){const ft=de+W,Yt=M[ft],vs=ft+1<ce?M[ft+1].el:G;Tn[W]===0?S(null,Yt,V,vs,z,K,ee,Z,X):xt&&(Se<0||W!==lr[Se]?U(Yt,V,vs,2):Se--)}}},U=(F,M,V,G,z=null)=>{const{el:K,type:ee,transition:Z,children:X,shapeFlag:W}=F;if(W&6){U(F.component.subTree,M,V,G);return}if(W&128){F.suspense.move(M,V,G);return}if(W&64){ee.move(F,M,V,Ct);return}if(ee===ut){r(K,M,V);for(let J=0;J<X.length;J++)U(X[J],M,V,G);r(F.anchor,M,V);return}if(ee===aa){C(F,M,V);return}if(G!==2&&W&1&&Z)if(G===0)Z.beforeEnter(K),r(K,M,V),nn(()=>Z.enter(K),z);else{const{leave:J,delayLeave:he,afterLeave:_e}=Z,de=()=>r(K,M,V),xe=()=>{J(K,()=>{de(),_e&&_e()})};he?he(K,de,xe):xe()}else r(K,M,V)},H=(F,M,V,G=!1,z=!1)=>{const{type:K,props:ee,ref:Z,children:X,dynamicChildren:W,shapeFlag:ce,patchFlag:J,dirs:he,cacheIndex:_e}=F;if(J===-2&&(z=!1),Z!=null&&al(Z,null,V,F,!0),_e!=null&&(M.renderCache[_e]=void 0),ce&256){M.ctx.deactivate(F);return}const de=ce&1&&he,xe=!Ni(F);let Se;if(xe&&(Se=ee&&ee.onVnodeBeforeUnmount)&&bn(Se,M,F),ce&6)Le(F.component,V,G);else{if(ce&128){F.suspense.unmount(V,G);return}de&&Kr(F,null,M,"beforeUnmount"),ce&64?F.type.remove(F,M,V,Ct,G):W&&!W.hasOnce&&(K!==ut||J>0&&J&64)?Me(W,M,V,!1,!0):(K===ut&&J&384||!z&&ce&16)&&Me(X,M,V),G&&$(F)}(xe&&(Se=ee&&ee.onVnodeUnmounted)||de)&&nn(()=>{Se&&bn(Se,M,F),de&&Kr(F,null,M,"unmounted")},V)},$=F=>{const{type:M,el:V,anchor:G,transition:z}=F;if(M===ut){Y(V,G);return}if(M===aa){T(F);return}const K=()=>{s(V),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(F.shapeFlag&1&&z&&!z.persisted){const{leave:ee,delayLeave:Z}=z,X=()=>ee(V,K);Z?Z(F.el,K,X):X()}else K()},Y=(F,M)=>{let V;for(;F!==M;)V=d(F),s(F),F=V;s(M)},Le=(F,M,V)=>{const{bum:G,scope:z,job:K,subTree:ee,um:Z,m:X,a:W}=F;vf(X),vf(W),G&&ia(G),z.stop(),K&&(K.flags|=8,H(ee,F,M,V)),Z&&nn(Z,M),nn(()=>{F.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Me=(F,M,V,G=!1,z=!1,K=0)=>{for(let ee=K;ee<F.length;ee++)H(F[ee],M,V,G,z)},tt=F=>{if(F.shapeFlag&6)return tt(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const M=d(F.anchor||F.el),V=M&&M[nv];return V?d(V):M};let we=!1;const An=(F,M,V)=>{F==null?M._vnode&&H(M._vnode,null,null,!0):S(M._vnode||null,F,M,null,null,null,V),M._vnode=F,we||(we=!0,df(),lm(),we=!1)},Ct={p:S,um:H,m:U,r:$,mt:ne,mc:x,pc:ue,pbc:_,n:tt,o:t};return{render:An,hydrate:void 0,createApp:wv(An)}}function Mc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Pv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cm(t,e,n=!1){const r=t.children,s=e.children;if(Ae(r)&&Ae(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=dr(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Cm(o,l)),l.type===Vl&&(l.el=o.el)}}function Fv(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<u?i=l+1:o=l;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Dm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dm(e)}function vf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Bv=Symbol.for("v-scx"),Mv=()=>oa(Bv);function ss(t,e,n){return Im(t,e,n)}function Im(t,e,n=Ge){const{immediate:r,deep:s,flush:i,once:o}=n,l=Wt({},n),c=e&&r||!e&&i!=="post";let u;if(Zi){if(i==="sync"){const g=Mv();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=Rn,g.resume=Rn,g.pause=Rn,g}}const h=zt;l.call=(g,w,S)=>Bn(g,h,w,S);let p=!1;i==="post"?l.scheduler=g=>{nn(g,h&&h.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(g,w)=>{w?g():s0(g)}),l.augmentJob=g=>{e&&(g.flags|=4),p&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const d=X1(t,e,l);return Zi&&(u?u.push(d):c&&d()),d}function Ov(t,e,n){const r=this.proxy,s=gt(t)?t.includes(".")?Sm(r,t):()=>r[t]:t.bind(r,r);let i;Ce(e)?i=e:(i=e.handler,n=e);const o=mo(this),l=Im(s,i.bind(r),n);return o(),l}function Sm(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Vv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${br(e)}Modifiers`]||t[`${Br(e)}Modifiers`];function Nv(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ge;let s=n;const i=e.startsWith("update:"),o=i&&Vv(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>gt(h)?h.trim():h)),o.number&&(s=n.map(tu)));let l,c=r[l=Sc(e)]||r[l=Sc(br(e))];!c&&i&&(c=r[l=Sc(Br(e))]),c&&Bn(c,t,6,s);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Bn(u,t,6,s)}}function Rm(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!Ce(t)){const c=u=>{const h=Rm(u,e,!0);h&&(l=!0,Wt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(rt(t)&&r.set(t,null),null):(Ae(i)?i.forEach(c=>o[c]=null):Wt(o,i),rt(t)&&r.set(t,o),o)}function Ol(t,e){return!t||!Dl(e)?!1:(e=e.slice(2).replace(/Once$/,""),je(t,e[0].toLowerCase()+e.slice(1))||je(t,Br(e))||je(t,e))}function yf(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:p,data:d,setupState:g,ctx:w,inheritAttrs:S}=t,b=ol(t);let k,E;try{if(n.shapeFlag&4){const T=s||r,P=T;k=Dn(u.call(P,T,h,p,g,d,w)),E=l}else{const T=e;k=Dn(T.length>1?T(p,{attrs:l,slots:o,emit:c}):T(p,null)),E=e.props?l:Lv(l)}}catch(T){Ui.length=0,Pl(T,t,1),k=Jt(us)}let C=k;if(E&&S!==!1){const T=Object.keys(E),{shapeFlag:P}=C;T.length&&P&7&&(i&&T.some(Yu)&&(E=Uv(E,i)),C=Ks(C,E,!1,!0))}return n.dirs&&(C=Ks(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&o0(C,n.transition),k=C,ol(b),k}const Lv=t=>{let e;for(const n in t)(n==="class"||n==="style"||Dl(n))&&((e||(e={}))[n]=t[n]);return e},Uv=(t,e)=>{const n={};for(const r in t)(!Yu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Hv(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ef(r,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const d=h[p];if(o[d]!==r[d]&&!Ol(u,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Ef(r,o,u):!0:!!o;return!1}function Ef(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Ol(n,i))return!0}return!1}function $v({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const km=t=>t.__isSuspense;function qv(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):ev(t)}const ut=Symbol.for("v-fgt"),Vl=Symbol.for("v-txt"),us=Symbol.for("v-cmt"),aa=Symbol.for("v-stc"),Ui=[];let sn=null;function ge(t=!1){Ui.push(sn=t?null:[])}function jv(){Ui.pop(),sn=Ui[Ui.length-1]||null}let Xi=1;function wf(t,e=!1){Xi+=t,t<0&&sn&&e&&(sn.hasOnce=!0)}function Pm(t){return t.dynamicChildren=Xi>0?sn||Ns:null,jv(),Xi>0&&sn&&sn.push(t),t}function ve(t,e,n,r,s,i){return Pm(L(t,e,n,r,s,i,!0))}function Gs(t,e,n,r,s){return Pm(Jt(t,e,n,r,s,!0))}function Fm(t){return t?t.__v_isVNode===!0:!1}function Ci(t,e){return t.type===e.type&&t.key===e.key}const Bm=({key:t})=>t??null,la=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?gt(t)||Lt(t)||Ce(t)?{i:un,r:t,k:e,f:!!n}:t:null);function L(t,e=null,n=null,r=0,s=null,i=t===ut?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Bm(e),ref:e&&la(e),scopeId:um,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:un};return l?(l0(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=gt(n)?8:16),Xi>0&&!o&&sn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&sn.push(c),c}const Jt=zv;function zv(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===pv)&&(t=us),Fm(t)){const l=Ks(t,e,!0);return n&&l0(l,n),Xi>0&&!i&&sn&&(l.shapeFlag&6?sn[sn.indexOf(t)]=l:sn.push(l)),l.patchFlag=-2,l}if(ty(t)&&(t=t.__vccOpts),e){e=Wv(e);let{class:l,style:c}=e;l&&!gt(l)&&(e.class=kn(l)),rt(c)&&(r0(c)&&!Ae(c)&&(c=Wt({},c)),e.style=Cr(c))}const o=gt(t)?1:km(t)?128:rv(t)?64:rt(t)?4:Ce(t)?2:0;return L(t,e,n,r,s,o,i,!0)}function Wv(t){return t?r0(t)||vm(t)?Wt({},t):t:null}function Ks(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,u=e?Yv(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Bm(u),ref:e&&e.ref?n&&i?Ae(i)?i.concat(la(e)):[i,la(e)]:la(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ut?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ks(t.ssContent),ssFallback:t.ssFallback&&Ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&o0(h,c.clone(h)),h}function ca(t=" ",e=0){return Jt(Vl,null,t,e)}function Mm(t,e){const n=Jt(aa,null,t);return n.staticCount=e,n}function Tt(t="",e=!1){return e?(ge(),Gs(us,null,t)):Jt(us,null,t)}function Dn(t){return t==null||typeof t=="boolean"?Jt(us):Ae(t)?Jt(ut,null,t.slice()):Fm(t)?dr(t):Jt(Vl,null,String(t))}function dr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ks(t)}function l0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),l0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!vm(e)?e._ctx=un:s===3&&un&&(un.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ce(e)?(e={default:e,_ctx:un},n=32):(e=String(e),r&64?(n=16,e=[ca(e)]):n=8);t.children=e,t.shapeFlag|=n}function Yv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=kn([e.class,r.class]));else if(s==="style")e.style=Cr([e.style,r.style]);else if(Dl(s)){const i=e[s],o=r[s];o&&i!==o&&!(Ae(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function bn(t,e,n,r=null){Bn(t,e,7,[n,r])}const Gv=gm();let Kv=0;function Qv(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Gv,i={uid:Kv++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new A1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Em(r,s),emitsOptions:Rm(r,s),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:r.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Nv.bind(null,i),t.ce&&t.ce(i),i}let zt=null,cl,fu;{const t=Rl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};cl=e("__VUE_INSTANCE_SETTERS__",n=>zt=n),fu=e("__VUE_SSR_SETTERS__",n=>Zi=n)}const mo=t=>{const e=zt;return cl(t),t.scope.on(),()=>{t.scope.off(),cl(e)}},Af=()=>{zt&&zt.scope.off(),cl(null)};function Om(t){return t.vnode.shapeFlag&4}let Zi=!1;function Xv(t,e=!1,n=!1){e&&fu(e);const{props:r,children:s}=t.vnode,i=Om(t);Tv(t,r,i,e),Iv(t,s,n);const o=i?Zv(t,e):void 0;return e&&fu(!1),o}function Zv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mv);const{setup:r}=n;if(r){Mr();const s=t.setupContext=r.length>1?ey(t):null,i=mo(t),o=po(r,t,0,[t.props,s]),l=Op(o);if(Or(),i(),(l||t.sp)&&!Ni(t)&&hm(t),l){if(o.then(Af,Af),e)return o.then(c=>{Tf(t,c)}).catch(c=>{Pl(c,t,0)});t.asyncDep=o}else Tf(t,o)}else Vm(t)}function Tf(t,e,n){Ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:rt(e)&&(t.setupState=im(e)),Vm(t)}function Vm(t,e,n){const r=t.type;t.render||(t.render=r.render||Rn);{const s=mo(t);Mr();try{gv(t)}finally{Or(),s()}}}const Jv={get(t,e){return Ot(t,"get",""),t[e]}};function ey(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Jv),slots:t.slots,emit:t.emit,expose:e}}function Nl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(im(j1(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Li)return Li[n](t)},has(e,n){return n in e||n in Li}})):t.proxy}function ty(t){return Ce(t)&&"__vccOpts"in t}const Dr=(t,e)=>K1(t,e,Zi),ny="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let du;const bf=typeof window<"u"&&window.trustedTypes;if(bf)try{du=bf.createPolicy("vue",{createHTML:t=>t})}catch{}const Nm=du?t=>du.createHTML(t):t=>t,ry="http://www.w3.org/2000/svg",sy="http://www.w3.org/1998/Math/MathML",zn=typeof document<"u"?document:null,Cf=zn&&zn.createElement("template"),iy={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?zn.createElementNS(ry,t):e==="mathml"?zn.createElementNS(sy,t):n?zn.createElement(t,{is:n}):zn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>zn.createTextNode(t),createComment:t=>zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Cf.innerHTML=Nm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Cf.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},oy=Symbol("_vtc");function ay(t,e,n){const r=t[oy];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Df=Symbol("_vod"),ly=Symbol("_vsh"),cy=Symbol(""),uy=/(^|;)\s*display\s*:/;function hy(t,e,n){const r=t.style,s=gt(n);let i=!1;if(n&&!s){if(e)if(gt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ua(r,l,"")}else for(const o in e)n[o]==null&&ua(r,o,"");for(const o in n)o==="display"&&(i=!0),ua(r,o,n[o])}else if(s){if(e!==n){const o=r[cy];o&&(n+=";"+o),r.cssText=n,i=uy.test(n)}}else e&&t.removeAttribute("style");Df in t&&(t[Df]=i?r.display:"",t[ly]&&(r.display="none"))}const If=/\s*!important$/;function ua(t,e,n){if(Ae(n))n.forEach(r=>ua(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=fy(t,e);If.test(n)?t.setProperty(Br(r),n.replace(If,""),"important"):t[r]=n}}const Sf=["Webkit","Moz","ms"],Oc={};function fy(t,e){const n=Oc[e];if(n)return n;let r=br(e);if(r!=="filter"&&r in t)return Oc[e]=r;r=Lp(r);for(let s=0;s<Sf.length;s++){const i=Sf[s]+r;if(i in t)return Oc[e]=i}return e}const Rf="http://www.w3.org/1999/xlink";function kf(t,e,n,r,s,i=w1(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Rf,e.slice(6,e.length)):t.setAttributeNS(Rf,e,n):n==null||i&&!Hp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Fr(n)?String(n):n)}function Pf(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Nm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Hp(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Rs(t,e,n,r){t.addEventListener(e,n,r)}function dy(t,e,n,r){t.removeEventListener(e,n,r)}const Ff=Symbol("_vei");function py(t,e,n,r,s=null){const i=t[Ff]||(t[Ff]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=my(e);if(r){const u=i[e]=xy(r,s);Rs(t,l,u,c)}else o&&(dy(t,l,o,c),i[e]=void 0)}}const Bf=/(?:Once|Passive|Capture)$/;function my(t){let e;if(Bf.test(t)){e={};let r;for(;r=t.match(Bf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Br(t.slice(2)),e]}let Vc=0;const gy=Promise.resolve(),_y=()=>Vc||(gy.then(()=>Vc=0),Vc=Date.now());function xy(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bn(vy(r,n.value),e,5,[r])};return n.value=t,n.attached=_y(),n}function vy(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Mf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yy=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?ay(t,r,o):e==="style"?hy(t,n,r):Dl(e)?Yu(e)||py(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ey(t,e,r,o))?(Pf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kf(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!gt(r))?Pf(t,br(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),kf(t,e,r,o))};function Ey(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mf(e)&&Ce(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Mf(e)&&gt(n)?!1:e in t}const Of=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>ia(e,n):e};function wy(t){t.target.composing=!0}function Vf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nc=Symbol("_assign"),c0={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Nc]=Of(s);const i=r||s.props&&s.props.type==="number";Rs(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=tu(l)),t[Nc](l)}),n&&Rs(t,"change",()=>{t.value=t.value.trim()}),e||(Rs(t,"compositionstart",wy),Rs(t,"compositionend",Vf),Rs(t,"change",Vf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Nc]=Of(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?tu(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},Ay=["ctrl","shift","alt","meta"],Ty={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ay.some(n=>t[`${n}Key`]&&!e.includes(n))},ha=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const l=Ty[e[o]];if(l&&l(s,e))return}return t(s,...i)})},by={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Br(s.key);if(e.some(o=>o===i||by[o]===i))return t(s)})},Cy=Wt({patchProp:yy},iy);let Nf;function Dy(){return Nf||(Nf=Rv(Cy))}const Iy=(...t)=>{const e=Dy().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Ry(r);if(!s)return;const i=e._component;!Ce(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Sy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Sy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ry(t){return gt(t)?document.querySelector(t):t}const ky={class:"text-sm opacity-50"},Py={__name:"SessionTimer",setup(t){const e=Re(0);let n;const r=()=>{const i=parseInt(localStorage.getItem("sessionStartTime"));if(!i)return;const o=Date.now(),c=10*60*1e3-(o-i);e.value=Math.max(0,c)},s=Dr(()=>{const i=Math.floor(e.value/6e4),o=Math.floor(e.value%6e4/1e3);return`${i}:${o.toString().padStart(2,"0")}`});return Vr(()=>{r(),n=setInterval(r,1e3)}),Bl(()=>{n&&clearInterval(n)}),(i,o)=>(ge(),ve("div",ky," expires in: "+pt(s.value),1))}};var Lf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Fy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Um={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let d=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(d=64)),r.push(n[h],n[p],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new By;const d=i<<2|l>>4;if(r.push(d),u!==64){const g=l<<4&240|u>>2;if(r.push(g),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class By extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const My=function(t){const e=Lm(t);return Um.encodeByteArray(e,!0)},ul=function(t){return My(t).replace(/\./g,"")},Oy=function(t){try{return Um.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=()=>Vy().__FIREBASE_DEFAULTS__,Ly=()=>{if(typeof process>"u"||typeof Lf>"u")return;const t=Lf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oy(t[1]);return e&&JSON.parse(e)},u0=()=>{try{return Ny()||Ly()||Uy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hy=t=>{var e,n;return(n=(e=u0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hm=t=>{const e=Hy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$m=()=>{var t;return(t=u0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ul(JSON.stringify(n)),ul(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jy(){var t;const e=(t=u0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zy(){return!jy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wy(){try{return typeof indexedDB=="object"}catch{return!1}}function Yy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Gy,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ky(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ps(s,l,r)}}function Ky(t,e){return t.replace(Qy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Qy=/\{\$([^}]+)}/g;function pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Uf(i)&&Uf(o)){if(!pu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Uf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $y;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jy(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zy(t){return t===es?void 0:t}function Jy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const tE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},nE=Ve.INFO,rE={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=nE,this._logHandler=sE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const iE=(t,e)=>e.some(n=>t instanceof n);let Hf,$f;function oE(){return Hf||(Hf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aE(){return $f||($f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wm=new WeakMap,mu=new WeakMap,Ym=new WeakMap,Lc=new WeakMap,h0=new WeakMap;function lE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wm.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function cE(t){if(mu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});mu.set(t,e)}let gu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ym.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uE(t){gu=t(gu)}function hE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uc(this),e,...n);return Ym.set(r,e.sort?e.sort():[e]),vr(r)}:aE().includes(t)?function(...e){return t.apply(Uc(this),e),vr(Wm.get(this))}:function(...e){return vr(t.apply(Uc(this),e))}}function fE(t){return typeof t=="function"?hE(t):(t instanceof IDBTransaction&&cE(t),iE(t,oE())?new Proxy(t,gu):t)}function vr(t){if(t instanceof IDBRequest)return lE(t);if(Lc.has(t))return Lc.get(t);const e=fE(t);return e!==t&&(Lc.set(t,e),h0.set(e,t)),e}const Uc=t=>h0.get(t);function dE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=vr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(vr(o.result),c.oldVersion,c.newVersion,vr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const pE=["get","getKey","getAll","getAllKeys","count"],mE=["put","add","delete","clear"],Hc=new Map;function qf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pE.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Hc.set(e,i),i}uE(t=>({...t,get:(e,n,r)=>qf(e,n)||t.get(e,n,r),has:(e,n)=>!!qf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_E(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _E(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _u="@firebase/app",jf="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new zm("@firebase/app"),xE="@firebase/app-compat",vE="@firebase/analytics-compat",yE="@firebase/analytics",EE="@firebase/app-check-compat",wE="@firebase/app-check",AE="@firebase/auth",TE="@firebase/auth-compat",bE="@firebase/database",CE="@firebase/data-connect",DE="@firebase/database-compat",IE="@firebase/functions",SE="@firebase/functions-compat",RE="@firebase/installations",kE="@firebase/installations-compat",PE="@firebase/messaging",FE="@firebase/messaging-compat",BE="@firebase/performance",ME="@firebase/performance-compat",OE="@firebase/remote-config",VE="@firebase/remote-config-compat",NE="@firebase/storage",LE="@firebase/storage-compat",UE="@firebase/firestore",HE="@firebase/vertexai",$E="@firebase/firestore-compat",qE="firebase",jE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]",zE={[_u]:"fire-core",[xE]:"fire-core-compat",[yE]:"fire-analytics",[vE]:"fire-analytics-compat",[wE]:"fire-app-check",[EE]:"fire-app-check-compat",[AE]:"fire-auth",[TE]:"fire-auth-compat",[bE]:"fire-rtdb",[CE]:"fire-data-connect",[DE]:"fire-rtdb-compat",[IE]:"fire-fn",[SE]:"fire-fn-compat",[RE]:"fire-iid",[kE]:"fire-iid-compat",[PE]:"fire-fcm",[FE]:"fire-fcm-compat",[BE]:"fire-perf",[ME]:"fire-perf-compat",[OE]:"fire-rc",[VE]:"fire-rc-compat",[NE]:"fire-gcs",[LE]:"fire-gcs-compat",[UE]:"fire-fst",[$E]:"fire-fst-compat",[HE]:"fire-vertex","fire-js":"fire-js",[qE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,WE=new Map,vu=new Map;function zf(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ji(t){const e=t.name;if(vu.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;vu.set(e,t);for(const n of hl.values())zf(n,t);for(const n of WE.values())zf(n,t);return!0}function Gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new jm("app","Firebase",YE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=jE;function Qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw yr.create("bad-app-name",{appName:String(s)});if(n||(n=$m()),!n)throw yr.create("no-options");const i=hl.get(s);if(i){if(pu(n,i.options)&&pu(r,i.config))return i;throw yr.create("duplicate-app",{appName:s})}const o=new eE(s);for(const c of vu.values())o.addComponent(c);const l=new GE(n,r,o);return hl.set(s,l),l}function Xm(t=xu){const e=hl.get(t);if(!e&&t===xu&&$m())return Qm();if(!e)throw yr.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let s=(r=zE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(l.join(" "));return}Ji(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebase-heartbeat-database",QE=1,eo="firebase-heartbeat-store";let $c=null;function Zm(){return $c||($c=dE(KE,QE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),$c}async function XE(t){try{const n=(await Zm()).transaction(eo),r=await n.objectStore(eo).get(Jm(t));return await n.done,r}catch(e){if(e instanceof ps)tr.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function Wf(t,e){try{const r=(await Zm()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,Jm(t)),await r.done}catch(n){if(n instanceof ps)tr.warn(n.message);else{const r=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(r.message)}}}function Jm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1024,JE=30*24*60*60*1e3;class e2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=JE}),this._storage.overwrite(this._heartbeatsCache))}catch(r){tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yf(),{heartbeatsToSend:r,unsentEntries:s}=t2(this._heartbeatsCache.heartbeats),i=ul(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return tr.warn(n),""}}}function Yf(){return new Date().toISOString().substring(0,10)}function t2(t,e=ZE){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Gf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wy()?Yy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gf(t){return ul(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){Ji(new Qs("platform-logger",e=>new gE(e),"PRIVATE")),Ji(new Qs("heartbeat",e=>new e2(e),"PRIVATE")),Er(_u,jf,t),Er(_u,jf,"esm2017"),Er("fire-js","")}r2("");var s2="firebase",i2="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(s2,i2,"app");var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,eg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,x){function I(){}I.prototype=x.prototype,v.D=x.prototype,v.prototype=new I,v.prototype.constructor=v,v.C=function(_,y,R){for(var A=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)A[ne-2]=arguments[ne];return x.prototype[y].apply(_,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,x,I){I||(I=0);var _=Array(16);if(typeof x=="string")for(var y=0;16>y;++y)_[y]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(y=0;16>y;++y)_[y]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=v.g[0],I=v.g[1],y=v.g[2];var R=v.g[3],A=x+(R^I&(y^R))+_[0]+3614090360&4294967295;x=I+(A<<7&4294967295|A>>>25),A=R+(y^x&(I^y))+_[1]+3905402710&4294967295,R=x+(A<<12&4294967295|A>>>20),A=y+(I^R&(x^I))+_[2]+606105819&4294967295,y=R+(A<<17&4294967295|A>>>15),A=I+(x^y&(R^x))+_[3]+3250441966&4294967295,I=y+(A<<22&4294967295|A>>>10),A=x+(R^I&(y^R))+_[4]+4118548399&4294967295,x=I+(A<<7&4294967295|A>>>25),A=R+(y^x&(I^y))+_[5]+1200080426&4294967295,R=x+(A<<12&4294967295|A>>>20),A=y+(I^R&(x^I))+_[6]+2821735955&4294967295,y=R+(A<<17&4294967295|A>>>15),A=I+(x^y&(R^x))+_[7]+4249261313&4294967295,I=y+(A<<22&4294967295|A>>>10),A=x+(R^I&(y^R))+_[8]+1770035416&4294967295,x=I+(A<<7&4294967295|A>>>25),A=R+(y^x&(I^y))+_[9]+2336552879&4294967295,R=x+(A<<12&4294967295|A>>>20),A=y+(I^R&(x^I))+_[10]+4294925233&4294967295,y=R+(A<<17&4294967295|A>>>15),A=I+(x^y&(R^x))+_[11]+2304563134&4294967295,I=y+(A<<22&4294967295|A>>>10),A=x+(R^I&(y^R))+_[12]+1804603682&4294967295,x=I+(A<<7&4294967295|A>>>25),A=R+(y^x&(I^y))+_[13]+4254626195&4294967295,R=x+(A<<12&4294967295|A>>>20),A=y+(I^R&(x^I))+_[14]+2792965006&4294967295,y=R+(A<<17&4294967295|A>>>15),A=I+(x^y&(R^x))+_[15]+1236535329&4294967295,I=y+(A<<22&4294967295|A>>>10),A=x+(y^R&(I^y))+_[1]+4129170786&4294967295,x=I+(A<<5&4294967295|A>>>27),A=R+(I^y&(x^I))+_[6]+3225465664&4294967295,R=x+(A<<9&4294967295|A>>>23),A=y+(x^I&(R^x))+_[11]+643717713&4294967295,y=R+(A<<14&4294967295|A>>>18),A=I+(R^x&(y^R))+_[0]+3921069994&4294967295,I=y+(A<<20&4294967295|A>>>12),A=x+(y^R&(I^y))+_[5]+3593408605&4294967295,x=I+(A<<5&4294967295|A>>>27),A=R+(I^y&(x^I))+_[10]+38016083&4294967295,R=x+(A<<9&4294967295|A>>>23),A=y+(x^I&(R^x))+_[15]+3634488961&4294967295,y=R+(A<<14&4294967295|A>>>18),A=I+(R^x&(y^R))+_[4]+3889429448&4294967295,I=y+(A<<20&4294967295|A>>>12),A=x+(y^R&(I^y))+_[9]+568446438&4294967295,x=I+(A<<5&4294967295|A>>>27),A=R+(I^y&(x^I))+_[14]+3275163606&4294967295,R=x+(A<<9&4294967295|A>>>23),A=y+(x^I&(R^x))+_[3]+4107603335&4294967295,y=R+(A<<14&4294967295|A>>>18),A=I+(R^x&(y^R))+_[8]+1163531501&4294967295,I=y+(A<<20&4294967295|A>>>12),A=x+(y^R&(I^y))+_[13]+2850285829&4294967295,x=I+(A<<5&4294967295|A>>>27),A=R+(I^y&(x^I))+_[2]+4243563512&4294967295,R=x+(A<<9&4294967295|A>>>23),A=y+(x^I&(R^x))+_[7]+1735328473&4294967295,y=R+(A<<14&4294967295|A>>>18),A=I+(R^x&(y^R))+_[12]+2368359562&4294967295,I=y+(A<<20&4294967295|A>>>12),A=x+(I^y^R)+_[5]+4294588738&4294967295,x=I+(A<<4&4294967295|A>>>28),A=R+(x^I^y)+_[8]+2272392833&4294967295,R=x+(A<<11&4294967295|A>>>21),A=y+(R^x^I)+_[11]+1839030562&4294967295,y=R+(A<<16&4294967295|A>>>16),A=I+(y^R^x)+_[14]+4259657740&4294967295,I=y+(A<<23&4294967295|A>>>9),A=x+(I^y^R)+_[1]+2763975236&4294967295,x=I+(A<<4&4294967295|A>>>28),A=R+(x^I^y)+_[4]+1272893353&4294967295,R=x+(A<<11&4294967295|A>>>21),A=y+(R^x^I)+_[7]+4139469664&4294967295,y=R+(A<<16&4294967295|A>>>16),A=I+(y^R^x)+_[10]+3200236656&4294967295,I=y+(A<<23&4294967295|A>>>9),A=x+(I^y^R)+_[13]+681279174&4294967295,x=I+(A<<4&4294967295|A>>>28),A=R+(x^I^y)+_[0]+3936430074&4294967295,R=x+(A<<11&4294967295|A>>>21),A=y+(R^x^I)+_[3]+3572445317&4294967295,y=R+(A<<16&4294967295|A>>>16),A=I+(y^R^x)+_[6]+76029189&4294967295,I=y+(A<<23&4294967295|A>>>9),A=x+(I^y^R)+_[9]+3654602809&4294967295,x=I+(A<<4&4294967295|A>>>28),A=R+(x^I^y)+_[12]+3873151461&4294967295,R=x+(A<<11&4294967295|A>>>21),A=y+(R^x^I)+_[15]+530742520&4294967295,y=R+(A<<16&4294967295|A>>>16),A=I+(y^R^x)+_[2]+3299628645&4294967295,I=y+(A<<23&4294967295|A>>>9),A=x+(y^(I|~R))+_[0]+4096336452&4294967295,x=I+(A<<6&4294967295|A>>>26),A=R+(I^(x|~y))+_[7]+1126891415&4294967295,R=x+(A<<10&4294967295|A>>>22),A=y+(x^(R|~I))+_[14]+2878612391&4294967295,y=R+(A<<15&4294967295|A>>>17),A=I+(R^(y|~x))+_[5]+4237533241&4294967295,I=y+(A<<21&4294967295|A>>>11),A=x+(y^(I|~R))+_[12]+1700485571&4294967295,x=I+(A<<6&4294967295|A>>>26),A=R+(I^(x|~y))+_[3]+2399980690&4294967295,R=x+(A<<10&4294967295|A>>>22),A=y+(x^(R|~I))+_[10]+4293915773&4294967295,y=R+(A<<15&4294967295|A>>>17),A=I+(R^(y|~x))+_[1]+2240044497&4294967295,I=y+(A<<21&4294967295|A>>>11),A=x+(y^(I|~R))+_[8]+1873313359&4294967295,x=I+(A<<6&4294967295|A>>>26),A=R+(I^(x|~y))+_[15]+4264355552&4294967295,R=x+(A<<10&4294967295|A>>>22),A=y+(x^(R|~I))+_[6]+2734768916&4294967295,y=R+(A<<15&4294967295|A>>>17),A=I+(R^(y|~x))+_[13]+1309151649&4294967295,I=y+(A<<21&4294967295|A>>>11),A=x+(y^(I|~R))+_[4]+4149444226&4294967295,x=I+(A<<6&4294967295|A>>>26),A=R+(I^(x|~y))+_[11]+3174756917&4294967295,R=x+(A<<10&4294967295|A>>>22),A=y+(x^(R|~I))+_[2]+718787259&4294967295,y=R+(A<<15&4294967295|A>>>17),A=I+(R^(y|~x))+_[9]+3951481745&4294967295,v.g[0]=v.g[0]+x&4294967295,v.g[1]=v.g[1]+(y+(A<<21&4294967295|A>>>11))&4294967295,v.g[2]=v.g[2]+y&4294967295,v.g[3]=v.g[3]+R&4294967295}r.prototype.u=function(v,x){x===void 0&&(x=v.length);for(var I=x-this.blockSize,_=this.B,y=this.h,R=0;R<x;){if(y==0)for(;R<=I;)s(this,v,R),R+=this.blockSize;if(typeof v=="string"){for(;R<x;)if(_[y++]=v.charCodeAt(R++),y==this.blockSize){s(this,_),y=0;break}}else for(;R<x;)if(_[y++]=v[R++],y==this.blockSize){s(this,_),y=0;break}}this.h=y,this.o+=x},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var x=1;x<v.length-8;++x)v[x]=0;var I=8*this.o;for(x=v.length-8;x<v.length;++x)v[x]=I&255,I/=256;for(this.u(v),v=Array(16),x=I=0;4>x;++x)for(var _=0;32>_;_+=8)v[I++]=this.g[x]>>>_&255;return v};function i(v,x){var I=l;return Object.prototype.hasOwnProperty.call(I,v)?I[v]:I[v]=x(v)}function o(v,x){this.h=x;for(var I=[],_=!0,y=v.length-1;0<=y;y--){var R=v[y]|0;_&&R==x||(I[y]=R,_=!1)}this.g=I}var l={};function c(v){return-128<=v&&128>v?i(v,function(x){return new o([x|0],0>x?-1:0)}):new o([v|0],0>v?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return b(u(-v));for(var x=[],I=1,_=0;v>=I;_++)x[_]=v/I|0,I*=4294967296;return new o(x,0)}function h(v,x){if(v.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v.charAt(0)=="-")return b(h(v.substring(1),x));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),_=p,y=0;y<v.length;y+=8){var R=Math.min(8,v.length-y),A=parseInt(v.substring(y,y+R),x);8>R?(R=u(Math.pow(x,R)),_=_.j(R).add(u(A))):(_=_.j(I),_=_.add(u(A)))}return _}var p=c(0),d=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-b(this).m();for(var v=0,x=1,I=0;I<this.g.length;I++){var _=this.i(I);v+=(0<=_?_:4294967296+_)*x,x*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w(this))return"0";if(S(this))return"-"+b(this).toString(v);for(var x=u(Math.pow(v,6)),I=this,_="";;){var y=T(I,x).g;I=k(I,y.j(x));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(v);if(I=y,w(I))return R+_;for(;6>R.length;)R="0"+R;_=R+_}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function w(v){if(v.h!=0)return!1;for(var x=0;x<v.g.length;x++)if(v.g[x]!=0)return!1;return!0}function S(v){return v.h==-1}t.l=function(v){return v=k(this,v),S(v)?-1:w(v)?0:1};function b(v){for(var x=v.g.length,I=[],_=0;_<x;_++)I[_]=~v.g[_];return new o(I,~v.h).add(d)}t.abs=function(){return S(this)?b(this):this},t.add=function(v){for(var x=Math.max(this.g.length,v.g.length),I=[],_=0,y=0;y<=x;y++){var R=_+(this.i(y)&65535)+(v.i(y)&65535),A=(R>>>16)+(this.i(y)>>>16)+(v.i(y)>>>16);_=A>>>16,R&=65535,A&=65535,I[y]=A<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function k(v,x){return v.add(b(x))}t.j=function(v){if(w(this)||w(v))return p;if(S(this))return S(v)?b(this).j(b(v)):b(b(this).j(v));if(S(v))return b(this.j(b(v)));if(0>this.l(g)&&0>v.l(g))return u(this.m()*v.m());for(var x=this.g.length+v.g.length,I=[],_=0;_<2*x;_++)I[_]=0;for(_=0;_<this.g.length;_++)for(var y=0;y<v.g.length;y++){var R=this.i(_)>>>16,A=this.i(_)&65535,ne=v.i(y)>>>16,ie=v.i(y)&65535;I[2*_+2*y]+=A*ie,E(I,2*_+2*y),I[2*_+2*y+1]+=R*ie,E(I,2*_+2*y+1),I[2*_+2*y+1]+=A*ne,E(I,2*_+2*y+1),I[2*_+2*y+2]+=R*ne,E(I,2*_+2*y+2)}for(_=0;_<x;_++)I[_]=I[2*_+1]<<16|I[2*_];for(_=x;_<2*x;_++)I[_]=0;return new o(I,0)};function E(v,x){for(;(v[x]&65535)!=v[x];)v[x+1]+=v[x]>>>16,v[x]&=65535,x++}function C(v,x){this.g=v,this.h=x}function T(v,x){if(w(x))throw Error("division by zero");if(w(v))return new C(p,p);if(S(v))return x=T(b(v),x),new C(b(x.g),b(x.h));if(S(x))return x=T(v,b(x)),new C(b(x.g),x.h);if(30<v.g.length){if(S(v)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var I=d,_=x;0>=_.l(v);)I=P(I),_=P(_);var y=B(I,1),R=B(_,1);for(_=B(_,2),I=B(I,2);!w(_);){var A=R.add(_);0>=A.l(v)&&(y=y.add(I),R=A),_=B(_,1),I=B(I,1)}return x=k(v,y.j(x)),new C(y,x)}for(y=p;0<=v.l(x);){for(I=Math.max(1,Math.floor(v.m()/x.m())),_=Math.ceil(Math.log(I)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),R=u(I),A=R.j(x);S(A)||0<A.l(v);)I-=_,R=u(I),A=R.j(x);w(R)&&(R=d),y=y.add(R),v=k(v,A)}return new C(y,v)}t.A=function(v){return T(this,v).h},t.and=function(v){for(var x=Math.max(this.g.length,v.g.length),I=[],_=0;_<x;_++)I[_]=this.i(_)&v.i(_);return new o(I,this.h&v.h)},t.or=function(v){for(var x=Math.max(this.g.length,v.g.length),I=[],_=0;_<x;_++)I[_]=this.i(_)|v.i(_);return new o(I,this.h|v.h)},t.xor=function(v){for(var x=Math.max(this.g.length,v.g.length),I=[],_=0;_<x;_++)I[_]=this.i(_)^v.i(_);return new o(I,this.h^v.h)};function P(v){for(var x=v.g.length+1,I=[],_=0;_<x;_++)I[_]=v.i(_)<<1|v.i(_-1)>>>31;return new o(I,v.h)}function B(v,x){var I=x>>5;x%=32;for(var _=v.g.length-I,y=[],R=0;R<_;R++)y[R]=0<x?v.i(R+I)>>>x|v.i(R+I+1)<<32-x:v.i(R+I);return new o(y,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eg=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,is=o}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tg,ki,ng,fa,yu,rg,sg,ig;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qo=="object"&&Qo];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var m=r;a=a.split(".");for(var D=0;D<a.length-1;D++){var O=a[D];if(!(O in m))break e;m=m[O]}a=a[a.length-1],D=m[a],f=f(D),f!=D&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function i(a,f){a instanceof String&&(a+="");var m=0,D=!1,O={next:function(){if(!D&&m<a.length){var N=m++;return{value:f(N,a[N]),done:!1}}return D=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(a){return a||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function u(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function h(a,f,m){return a.call.apply(a.bind,arguments)}function p(a,f,m){if(!a)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,D),a.apply(f,O)}}return function(){return a.apply(f,arguments)}}function d(a,f,m){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,d.apply(null,arguments)}function g(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var D=m.slice();return D.push.apply(D,arguments),a.apply(this,D)}}function w(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(D,O,N){for(var te=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)te[Ye-2]=arguments[Ye];return f.prototype[O].apply(D,te)}}function S(a){const f=a.length;if(0<f){const m=Array(f);for(let D=0;D<f;D++)m[D]=a[D];return m}return[]}function b(a,f){for(let m=1;m<arguments.length;m++){const D=arguments[m];if(c(D)){const O=a.length||0,N=D.length||0;a.length=O+N;for(let te=0;te<N;te++)a[O+te]=D[te]}else a.push(D)}}class k{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function T(a){return T[" "](a),a}T[" "]=function(){};var P=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function B(a,f,m){for(const D in a)f.call(m,a[D],D,a)}function v(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function x(a){const f={};for(const m in a)f[m]=a[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,f){let m,D;for(let O=1;O<arguments.length;O++){D=arguments[O];for(m in D)a[m]=D[m];for(let N=0;N<I.length;N++)m=I[N],Object.prototype.hasOwnProperty.call(D,m)&&(a[m]=D[m])}}function y(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function R(a){l.setTimeout(()=>{throw a},0)}function A(){var a=De;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ne{constructor(){this.h=this.g=null}add(f,m){const D=ie.get();D.set(f,m),this.h?this.h.next=D:this.g=D,this.h=D}}var ie=new k(()=>new re,a=>a.reset());class re{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ue=!1,De=new ne,Ie=()=>{const a=l.Promise.resolve(void 0);fe=()=>{a.then(U)}};var U=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(m){R(m)}var f=ie;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}ue=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,f),l.removeEventListener("test",m,f)}catch{}return a}();function Le(a,f){if($.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,D=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(P){e:{try{T(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Me[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Le.aa.h.call(this)}}w(Le,$);var Me={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),we=0;function An(a,f,m,D,O){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!D,this.ha=O,this.key=++we,this.da=this.fa=!1}function Ct(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ln(a){this.src=a,this.g={},this.h=0}Ln.prototype.add=function(a,f,m,D,O){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var te=M(a,f,D,O);return-1<te?(f=a[te],m||(f.fa=!1)):(f=new An(f,this.src,N,!!D,O),f.fa=m,a.push(f)),f};function F(a,f){var m=f.type;if(m in a.g){var D=a.g[m],O=Array.prototype.indexOf.call(D,f,void 0),N;(N=0<=O)&&Array.prototype.splice.call(D,O,1),N&&(Ct(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function M(a,f,m,D){for(var O=0;O<a.length;++O){var N=a[O];if(!N.da&&N.listener==f&&N.capture==!!m&&N.ha==D)return O}return-1}var V="closure_lm_"+(1e6*Math.random()|0),G={};function z(a,f,m,D,O){if(Array.isArray(f)){for(var N=0;N<f.length;N++)z(a,f[N],m,D,O);return null}return m=_e(m),a&&a[tt]?a.K(f,m,u(D)?!!D.capture:!!D,O):K(a,f,m,!1,D,O)}function K(a,f,m,D,O,N){if(!f)throw Error("Invalid event type");var te=u(O)?!!O.capture:!!O,Ye=J(a);if(Ye||(a[V]=Ye=new Ln(a)),m=Ye.add(f,m,D,te,N),m.proxy)return m;if(D=ee(),m.proxy=D,D.src=a,D.listener=m,a.addEventListener)Y||(O=te),O===void 0&&(O=!1),a.addEventListener(f.toString(),D,O);else if(a.attachEvent)a.attachEvent(W(f.toString()),D);else if(a.addListener&&a.removeListener)a.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ee(){function a(m){return f.call(a.src,a.listener,m)}const f=ce;return a}function Z(a,f,m,D,O){if(Array.isArray(f))for(var N=0;N<f.length;N++)Z(a,f[N],m,D,O);else D=u(D)?!!D.capture:!!D,m=_e(m),a&&a[tt]?(a=a.i,f=String(f).toString(),f in a.g&&(N=a.g[f],m=M(N,m,D,O),-1<m&&(Ct(N[m]),Array.prototype.splice.call(N,m,1),N.length==0&&(delete a.g[f],a.h--)))):a&&(a=J(a))&&(f=a.g[f.toString()],a=-1,f&&(a=M(f,m,D,O)),(m=-1<a?f[a]:null)&&X(m))}function X(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[tt])F(f.i,a);else{var m=a.type,D=a.proxy;f.removeEventListener?f.removeEventListener(m,D,a.capture):f.detachEvent?f.detachEvent(W(m),D):f.addListener&&f.removeListener&&f.removeListener(D),(m=J(f))?(F(m,a),m.h==0&&(m.src=null,f[V]=null)):Ct(a)}}}function W(a){return a in G?G[a]:G[a]="on"+a}function ce(a,f){if(a.da)a=!0;else{f=new Le(f,this);var m=a.listener,D=a.ha||a.src;a.fa&&X(a),a=m.call(D,f)}return a}function J(a){return a=a[V],a instanceof Ln?a:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(a){return typeof a=="function"?a:(a[he]||(a[he]=function(f){return a.handleEvent(f)}),a[he])}function de(){H.call(this),this.i=new Ln(this),this.M=this,this.F=null}w(de,H),de.prototype[tt]=!0,de.prototype.removeEventListener=function(a,f,m,D){Z(this,a,f,m,D)};function xe(a,f){var m,D=a.F;if(D)for(m=[];D;D=D.F)m.push(D);if(a=a.M,D=f.type||f,typeof f=="string")f=new $(f,a);else if(f instanceof $)f.target=f.target||a;else{var O=f;f=new $(D,a),_(f,O)}if(O=!0,m)for(var N=m.length-1;0<=N;N--){var te=f.g=m[N];O=Se(te,D,!0,f)&&O}if(te=f.g=a,O=Se(te,D,!0,f)&&O,O=Se(te,D,!1,f)&&O,m)for(N=0;N<m.length;N++)te=f.g=m[N],O=Se(te,D,!1,f)&&O}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],D=0;D<m.length;D++)Ct(m[D]);delete a.g[f],a.h--}}this.F=null},de.prototype.K=function(a,f,m,D){return this.i.add(String(a),f,!1,m,D)},de.prototype.L=function(a,f,m,D){return this.i.add(String(a),f,!0,m,D)};function Se(a,f,m,D){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,N=0;N<f.length;++N){var te=f[N];if(te&&!te.da&&te.capture==m){var Ye=te.listener,It=te.ha||te.src;te.fa&&F(a.i,te),O=Ye.call(It,D)!==!1&&O}}return O&&!D.defaultPrevented}function _t(a,f,m){if(typeof a=="function")m&&(a=d(a,m));else if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function ht(a){a.g=_t(()=>{a.g=null,a.i&&(a.i=!1,ht(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class xt extends H{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(a){H.call(this),this.h=a,this.g={}}w(ot,H);var Tn=[];function lr(a){B(a.g,function(f,m){this.g.hasOwnProperty(m)&&X(f)},a),a.g={}}ot.prototype.N=function(){ot.aa.N.call(this),lr(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=l.JSON.stringify,Yt=l.JSON.parse,vs=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ys(){}ys.prototype.h=null;function So(a){return a.h||(a.h=a.i())}function di(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Es(){$.call(this,"d")}w(Es,$);function pi(){$.call(this,"c")}w(pi,$);var Un={},Ro=null;function jr(){return Ro=Ro||new de}Un.La="serverreachability";function ko(a){$.call(this,Un.La,a)}w(ko,$);function zr(a){const f=jr();xe(f,new ko(f))}Un.STAT_EVENT="statevent";function mi(a,f){$.call(this,Un.STAT_EVENT,a),this.stat=f}w(mi,$);function Dt(a){const f=jr();xe(f,new mi(f,a))}Un.Ma="timingevent";function gi(a,f){$.call(this,Un.Ma,a),this.size=f}w(gi,$);function vt(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Gt(){this.g=!0}Gt.prototype.xa=function(){this.g=!1};function Po(a,f,m,D,O,N){a.info(function(){if(a.g)if(N)for(var te="",Ye=N.split("&"),It=0;It<Ye.length;It++){var Ue=Ye[It].split("=");if(1<Ue.length){var Pt=Ue[0];Ue=Ue[1];var Ft=Pt.split("_");te=2<=Ft.length&&Ft[1]=="type"?te+(Pt+"="+Ue+"&"):te+(Pt+"=redacted&")}}else te=null;else te=N;return"XMLHTTP REQ ("+D+") [attempt "+O+"]: "+f+`
`+m+`
`+te})}function gc(a,f,m,D,O,N,te){a.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+O+"]: "+f+`
`+m+`
`+N+" "+te})}function ws(a,f,m,D){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+zx(a,m)+(D?" "+D:"")})}function jx(a,f){a.info(function(){return"TIMEOUT: "+f})}Gt.prototype.info=function(){};function zx(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var D=m[a];if(!(2>D.length)){var O=D[1];if(Array.isArray(O)&&!(1>O.length)){var N=O[0];if(N!="noop"&&N!="stop"&&N!="close")for(var te=1;te<O.length;te++)O[te]=""}}}}return ft(m)}catch{return f}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Th={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_c;function Bo(){}w(Bo,ys),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},_c=new Bo;function cr(a,f,m,D){this.j=a,this.i=f,this.l=m,this.R=D||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bh}function bh(){this.i=null,this.g="",this.h=!1}var Ch={},xc={};function vc(a,f,m){a.L=1,a.v=No(Hn(f)),a.m=m,a.P=!0,Dh(a,null)}function Dh(a,f){a.F=Date.now(),Mo(a),a.A=Hn(a.v);var m=a.A,D=a.R;Array.isArray(D)||(D=[String(D)]),Hh(m.i,"t",D),a.C=0,m=a.j.J,a.h=new bh,a.g=of(a.j,m?f:null,!a.m),0<a.O&&(a.M=new xt(d(a.Y,a,a.g),a.O)),f=a.U,m=a.g,D=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Tn[0]=O.toString()),O=Tn);for(var N=0;N<O.length;N++){var te=z(m,O[N],D||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=a.H?x(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),zr(),Po(a.i,a.u,a.A,a.l,a.R,a.m)}cr.prototype.ca=function(a){a=a.target;const f=this.M;f&&$n(a)==3?f.j():this.Y(a)},cr.prototype.Y=function(a){try{if(a==this.g)e:{const Ft=$n(this.g);var f=this.g.Ba();const bs=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Gh(this.g)))){this.J||Ft!=4||f==7||(f==8||0>=bs?zr(3):zr(2)),yc(this);var m=this.g.Z();this.X=m;t:if(Ih(this)){var D=Gh(this.g);a="";var O=D.length,N=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),_i(this);var te="";break t}this.h.i=new l.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,a+=this.h.i.decode(D[f],{stream:!(N&&f==O-1)});D.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=m==200,gc(this.i,this.u,this.A,this.l,this.R,Ft,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,It=this.g;if((Ye=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ye)){var Ue=Ye;break t}}Ue=null}if(m=Ue)ws(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ec(this,m);else{this.o=!1,this.s=3,Dt(12),Wr(this),_i(this);break e}}if(this.P){m=!0;let pn;for(;!this.J&&this.C<te.length;)if(pn=Wx(this,te),pn==xc){Ft==4&&(this.s=4,Dt(14),m=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Ch){this.s=4,Dt(15),ws(this.i,this.l,te,"[Invalid Chunk]"),m=!1;break}else ws(this.i,this.l,pn,null),Ec(this,pn);if(Ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||te.length!=0||this.h.h||(this.s=1,Dt(16),m=!1),this.o=this.o&&m,!m)ws(this.i,this.l,te,"[Invalid Chunked Response]"),Wr(this),_i(this);else if(0<te.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Dc(Pt),Pt.M=!0,Dt(11))}}else ws(this.i,this.l,te,null),Ec(this,te);Ft==4&&Wr(this),this.o&&!this.J&&(Ft==4?tf(this.j,this):(this.o=!1,Mo(this)))}else c1(this.g),m==400&&0<te.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Wr(this),_i(this)}}}catch{}finally{}};function Ih(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Wx(a,f){var m=a.C,D=f.indexOf(`
`,m);return D==-1?xc:(m=Number(f.substring(m,D)),isNaN(m)?Ch:(D+=1,D+m>f.length?xc:(f=f.slice(D,D+m),a.C=D+m,f)))}cr.prototype.cancel=function(){this.J=!0,Wr(this)};function Mo(a){a.S=Date.now()+a.I,Sh(a,a.I)}function Sh(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=vt(d(a.ba,a),f)}function yc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}cr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(jx(this.i,this.A),this.L!=2&&(zr(),Dt(17)),Wr(this),this.s=2,_i(this)):Sh(this,this.S-a)};function _i(a){a.j.G==0||a.J||tf(a.j,a)}function Wr(a){yc(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,lr(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Ec(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||wc(m.h,a))){if(!a.K&&wc(m.h,a)&&m.G==3){try{var D=m.Da.g.parse(f)}catch{D=null}if(Array.isArray(D)&&D.length==3){var O=D;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)jo(m),$o(m);else break e;Cc(m),Dt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=vt(d(m.Za,m),6e3));if(1>=Ph(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Gr(m,11)}else if((a.K||m.g==a)&&jo(m),!E(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let Ue=O[f];if(m.T=Ue[0],Ue=Ue[1],m.G==2)if(Ue[0]=="c"){m.K=Ue[1],m.ia=Ue[2];const Pt=Ue[3];Pt!=null&&(m.la=Pt,m.j.info("VER="+m.la));const Ft=Ue[4];Ft!=null&&(m.Aa=Ft,m.j.info("SVER="+m.Aa));const bs=Ue[5];bs!=null&&typeof bs=="number"&&0<bs&&(D=1.5*bs,m.L=D,m.j.info("backChannelRequestTimeoutMs_="+D)),D=m;const pn=a.g;if(pn){const Wo=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var N=D.h;N.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ac(N,N.h),N.h=null))}if(D.D){const Ic=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(D.ya=Ic,Qe(D.I,D.D,Ic))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),D=m;var te=a;if(D.qa=sf(D,D.J?D.ia:null,D.W),te.K){Fh(D.h,te);var Ye=te,It=D.L;It&&(Ye.I=It),Ye.B&&(yc(Ye),Mo(Ye)),D.g=te}else Jh(D);0<m.i.length&&qo(m)}else Ue[0]!="stop"&&Ue[0]!="close"||Gr(m,7);else m.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Gr(m,7):bc(m):Ue[0]!="noop"&&m.l&&m.l.ta(Ue),m.v=0)}}zr(4)}catch{}}var Yx=class{constructor(a,f){this.g=a,this.map=f}};function Rh(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ph(a){return a.h?1:a.g?a.g.size:0}function wc(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Ac(a,f){a.g?a.g.add(f):a.h=f}function Fh(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Rh.prototype.cancel=function(){if(this.i=Bh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Bh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return S(a.i)}function Gx(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],m=a.length,D=0;D<m;D++)f.push(a[D]);return f}f=[],m=0;for(D in a)f[m++]=a[D];return f}function Kx(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const D in a)f[m++]=D;return f}}}function Mh(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Kx(a),D=Gx(a),O=D.length,N=0;N<O;N++)f.call(void 0,D[N],m&&m[N],a)}var Oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qx(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var D=a[m].indexOf("="),O=null;if(0<=D){var N=a[m].substring(0,D);O=a[m].substring(D+1)}else N=a[m];f(N,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Yr){this.h=a.h,Oo(this,a.j),this.o=a.o,this.g=a.g,Vo(this,a.s),this.l=a.l;var f=a.i,m=new yi;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Vh(this,m),this.m=a.m}else a&&(f=String(a).match(Oh))?(this.h=!1,Oo(this,f[1]||"",!0),this.o=xi(f[2]||""),this.g=xi(f[3]||"",!0),Vo(this,f[4]),this.l=xi(f[5]||"",!0),Vh(this,f[6]||"",!0),this.m=xi(f[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Yr.prototype.toString=function(){var a=[],f=this.j;f&&a.push(vi(f,Nh,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(vi(f,Nh,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(vi(m,m.charAt(0)=="/"?Jx:Zx,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",vi(m,t1)),a.join("")};function Hn(a){return new Yr(a)}function Oo(a,f,m){a.j=m?xi(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Vo(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Vh(a,f,m){f instanceof yi?(a.i=f,n1(a.i,a.h)):(m||(f=vi(f,e1)),a.i=new yi(f,a.h))}function Qe(a,f,m){a.i.set(f,m)}function No(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xi(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vi(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,Xx),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xx(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Nh=/[#\/\?@]/g,Zx=/[#\?:]/g,Jx=/[#\?]/g,e1=/[#\?@]/g,t1=/#/g;function yi(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function ur(a){a.g||(a.g=new Map,a.h=0,a.i&&Qx(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=yi.prototype,t.add=function(a,f){ur(this),this.i=null,a=As(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function Lh(a,f){ur(a),f=As(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Uh(a,f){return ur(a),f=As(a,f),a.g.has(f)}t.forEach=function(a,f){ur(this),this.g.forEach(function(m,D){m.forEach(function(O){a.call(f,O,D,this)},this)},this)},t.na=function(){ur(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let D=0;D<f.length;D++){const O=a[D];for(let N=0;N<O.length;N++)m.push(f[D])}return m},t.V=function(a){ur(this);let f=[];if(typeof a=="string")Uh(this,a)&&(f=f.concat(this.g.get(As(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},t.set=function(a,f){return ur(this),this.i=null,a=As(this,a),Uh(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Hh(a,f,m){Lh(a,f),0<m.length&&(a.i=null,a.g.set(As(a,f),S(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var D=f[m];const N=encodeURIComponent(String(D)),te=this.V(D);for(D=0;D<te.length;D++){var O=N;te[D]!==""&&(O+="="+encodeURIComponent(String(te[D]))),a.push(O)}}return this.i=a.join("&")};function As(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function n1(a,f){f&&!a.j&&(ur(a),a.i=null,a.g.forEach(function(m,D){var O=D.toLowerCase();D!=O&&(Lh(this,D),Hh(this,O,m))},a)),a.j=f}function r1(a,f){const m=new Gt;if(l.Image){const D=new Image;D.onload=g(hr,m,"TestLoadImage: loaded",!0,f,D),D.onerror=g(hr,m,"TestLoadImage: error",!1,f,D),D.onabort=g(hr,m,"TestLoadImage: abort",!1,f,D),D.ontimeout=g(hr,m,"TestLoadImage: timeout",!1,f,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=a}else f(!1)}function s1(a,f){const m=new Gt,D=new AbortController,O=setTimeout(()=>{D.abort(),hr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:D.signal}).then(N=>{clearTimeout(O),N.ok?hr(m,"TestPingServer: ok",!0,f):hr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),hr(m,"TestPingServer: error",!1,f)})}function hr(a,f,m,D,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),D(m)}catch{}}function i1(){this.g=new vs}function o1(a,f,m){const D=m||"";try{Mh(a,function(O,N){let te=O;u(O)&&(te=ft(O)),f.push(D+N+"="+encodeURIComponent(te))})}catch(O){throw f.push(D+"type="+encodeURIComponent("_badmap")),O}}function Lo(a){this.l=a.Ub||null,this.j=a.eb||!1}w(Lo,ys),Lo.prototype.g=function(){return new Uo(this.l,this.j)},Lo.prototype.i=function(a){return function(){return a}}({});function Uo(a,f){de.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Uo,de),t=Uo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,wi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$h(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function $h(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ei(this):wi(this),this.readyState==3&&$h(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ei(this))},t.Qa=function(a){this.g&&(this.response=a,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(a){a.readyState=4,a.l=null,a.j=null,a.v=null,wi(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function wi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function qh(a){let f="";return B(a,function(m,D){f+=D,f+=":",f+=m,f+=`\r
`}),f}function Tc(a,f,m){e:{for(D in m){var D=!1;break e}D=!0}D||(m=qh(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Qe(a,f,m))}function at(a){de.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(at,de);var a1=/^https?$/i,l1=["POST","PUT"];t=at.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,m,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_c.g(),this.v=this.o?So(this.o):So(_c),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(N){jh(this,N);return}if(a=m||"",m=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var O in D)m.set(O,D[O]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const N of D.keys())m.set(N,D.get(N));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(m.keys()).find(N=>N.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(l1,f,void 0))||D||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,te]of m)this.g.setRequestHeader(N,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yh(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){jh(this,N)}};function jh(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,zh(a),Ho(a)}function zh(a){a.A||(a.A=!0,xe(a,"complete"),xe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,xe(this,"complete"),xe(this,"abort"),Ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ho(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wh(this):this.bb())},t.bb=function(){Wh(this)};function Wh(a){if(a.h&&typeof o<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)_t(a.Ea,0,a);else if(xe(a,"readystatechange"),$n(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var D;if(D=te===0){var O=String(a.D).match(Oh)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),D=!a1.test(O?O.toLowerCase():"")}m=D}if(m)xe(a,"complete"),xe(a,"success");else{a.m=6;try{var N=2<$n(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",zh(a)}}finally{Ho(a)}}}}function Ho(a,f){if(a.g){Yh(a);const m=a.g,D=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||xe(a,"ready");try{m.onreadystatechange=D}catch{}}}function Yh(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Yt(f)}};function Gh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function c1(a){const f={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<a.length;D++){if(E(a[D]))continue;var m=y(a[D]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const N=f[O]||[];f[O]=N,N.push(m)}v(f,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function Kh(a){this.Aa=0,this.i=[],this.j=new Gt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ai("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ai("baseRetryDelayMs",5e3,a),this.cb=Ai("retryDelaySeedMs",1e4,a),this.Wa=Ai("forwardChannelMaxRetries",2,a),this.wa=Ai("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Rh(a&&a.concurrentRequestLimit),this.Da=new i1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kh.prototype,t.la=8,t.G=1,t.connect=function(a,f,m,D){Dt(0),this.W=a,this.H=f||{},m&&D!==void 0&&(this.H.OSID=m,this.H.OAID=D),this.F=this.X,this.I=sf(this,null,this.W),qo(this)};function bc(a){if(Qh(a),a.G==3){var f=a.U++,m=Hn(a.I);if(Qe(m,"SID",a.K),Qe(m,"RID",f),Qe(m,"TYPE","terminate"),Ti(a,m),f=new cr(a,a.j,f),f.L=2,f.v=No(Hn(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=f.v,m=!0),m||(f.g=of(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Mo(f)}rf(a)}function $o(a){a.g&&(Dc(a),a.g.cancel(),a.g=null)}function Qh(a){$o(a),a.u&&(l.clearTimeout(a.u),a.u=null),jo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function qo(a){if(!kh(a.h)&&!a.s){a.s=!0;var f=a.Ga;fe||Ie(),ue||(fe(),ue=!0),De.add(f,a),a.B=0}}function u1(a,f){return Ph(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=vt(d(a.Ga,a,f),nf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new cr(this,this.j,a);let N=this.o;if(this.S&&(N?(N=x(N),_(N,this.S)):N=this.S),this.m!==null||this.O||(O.H=N,N=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var D=this.i[m];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(f+=D,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Zh(this,O,f),m=Hn(this.I),Qe(m,"RID",a),Qe(m,"CVER",22),this.D&&Qe(m,"X-HTTP-Session-Id",this.D),Ti(this,m),N&&(this.O?f="headers="+encodeURIComponent(String(qh(N)))+"&"+f:this.m&&Tc(m,this.m,N)),Ac(this.h,O),this.Ua&&Qe(m,"TYPE","init"),this.P?(Qe(m,"$req",f),Qe(m,"SID","null"),O.T=!0,vc(O,m,null)):vc(O,m,f),this.G=2}}else this.G==3&&(a?Xh(this,a):this.i.length==0||kh(this.h)||Xh(this))};function Xh(a,f){var m;f?m=f.l:m=a.U++;const D=Hn(a.I);Qe(D,"SID",a.K),Qe(D,"RID",m),Qe(D,"AID",a.T),Ti(a,D),a.m&&a.o&&Tc(D,a.m,a.o),m=new cr(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Zh(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ac(a.h,m),vc(m,D,f)}function Ti(a,f){a.H&&B(a.H,function(m,D){Qe(f,D,m)}),a.l&&Mh({},function(m,D){Qe(f,D,m)})}function Zh(a,f,m){m=Math.min(a.i.length,m);var D=a.l?d(a.l.Na,a.l,a):null;e:{var O=a.i;let N=-1;for(;;){const te=["count="+m];N==-1?0<m?(N=O[0].g,te.push("ofs="+N)):N=0:te.push("ofs="+N);let Ye=!0;for(let It=0;It<m;It++){let Ue=O[It].g;const Pt=O[It].map;if(Ue-=N,0>Ue)N=Math.max(0,O[It].g-100),Ye=!1;else try{o1(Pt,te,"req"+Ue+"_")}catch{D&&D(Pt)}}if(Ye){D=te.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,D}function Jh(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;fe||Ie(),ue||(fe(),ue=!0),De.add(f,a),a.v=0}}function Cc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=vt(d(a.Fa,a),nf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=vt(d(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),$o(this),ef(this))};function Dc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ef(a){a.g=new cr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Hn(a.qa);Qe(f,"RID","rpc"),Qe(f,"SID",a.K),Qe(f,"AID",a.T),Qe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Qe(f,"TO",a.ja),Qe(f,"TYPE","xmlhttp"),Ti(a,f),a.m&&a.o&&Tc(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=No(Hn(f)),m.m=null,m.P=!0,Dh(m,a)}t.Za=function(){this.C!=null&&(this.C=null,$o(this),Cc(this),Dt(19))};function jo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function tf(a,f){var m=null;if(a.g==f){jo(a),Dc(a),a.g=null;var D=2}else if(wc(a.h,f))m=f.D,Fh(a.h,f),D=1;else return;if(a.G!=0){if(f.o)if(D==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=a.B;D=jr(),xe(D,new gi(D,m)),qo(a)}else Jh(a);else if(O=f.s,O==3||O==0&&0<f.X||!(D==1&&u1(a,f)||D==2&&Cc(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),O){case 1:Gr(a,5);break;case 4:Gr(a,10);break;case 3:Gr(a,6);break;default:Gr(a,2)}}}function nf(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function Gr(a,f){if(a.j.info("Error code "+f),f==2){var m=d(a.fb,a),D=a.Xa;const O=!D;D=new Yr(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oo(D,"https"),No(D),O?r1(D.toString(),m):s1(D.toString(),m)}else Dt(2);a.G=0,a.l&&a.l.sa(f),rf(a),Qh(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function rf(a){if(a.G=0,a.ka=[],a.l){const f=Bh(a.h);(f.length!=0||a.i.length!=0)&&(b(a.ka,f),b(a.ka,a.i),a.h.i.length=0,S(a.i),a.i.length=0),a.l.ra()}}function sf(a,f,m){var D=m instanceof Yr?Hn(m):new Yr(m);if(D.g!="")f&&(D.g=f+"."+D.g),Vo(D,D.s);else{var O=l.location;D=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var N=new Yr(null);D&&Oo(N,D),f&&(N.g=f),O&&Vo(N,O),m&&(N.l=m),D=N}return m=a.D,f=a.ya,m&&f&&Qe(D,m,f),Qe(D,"VER",a.la),Ti(a,D),D}function of(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new at(new Lo({eb:m})):new at(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}t=af.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(a,f){return new tn(a,f)};function tn(a,f){de.call(this),this.g=new Kh(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!E(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ts(this)}w(tn,de),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){bc(this.g)},tn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=ft(a),a=m);f.i.push(new Yx(f.Ya++,a)),f.G==3&&qo(f)},tn.prototype.N=function(){this.g.l=null,delete this.j,bc(this.g),delete this.g,tn.aa.N.call(this)};function lf(a){Es.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}w(lf,Es);function cf(){pi.call(this),this.status=1}w(cf,pi);function Ts(a){this.g=a}w(Ts,af),Ts.prototype.ua=function(){xe(this.g,"a")},Ts.prototype.ta=function(a){xe(this.g,new lf(a))},Ts.prototype.sa=function(a){xe(this.g,new cf)},Ts.prototype.ra=function(){xe(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ig=function(){return new zo},sg=function(){return jr()},rg=Un,yu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,fa=Fo,Th.COMPLETE="complete",ng=Th,di.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",de.prototype.listen=de.prototype.K,ki=di,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,tg=at}).apply(typeof Qo<"u"?Qo:typeof self<"u"?self:typeof window<"u"?window:{});const Qf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let si="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new zm("@firebase/firestore");function ks(){return hs.logLevel}function oe(t,...e){if(hs.logLevel<=Ve.DEBUG){const n=e.map(f0);hs.debug(`Firestore (${si}): ${t}`,...n)}}function nr(t,...e){if(hs.logLevel<=Ve.ERROR){const n=e.map(f0);hs.error(`Firestore (${si}): ${t}`,...n)}}function Xs(t,...e){if(hs.logLevel<=Ve.WARN){const n=e.map(f0);hs.warn(`Firestore (${si}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${si}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function ze(t,e){t||ye()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l2{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new og(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Mt(e)}}class c2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new h2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=d2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Et(0,0))}static max(){return new Ee(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return to.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof to?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends to{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends to{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Xe.fromString(e))}static fromName(e){return new me(Xe.fromString(e).popFirst(5))}static empty(){return new me(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Xe(e.slice()))}}function m2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new Ir(s,me.empty(),e)}function g2(t){return new Ir(t.readTime,t.key,-1)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(Ee.min(),me.empty(),-1)}static max(){return new Ir(Ee.max(),me.empty(),-1)}}function _2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==x2)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function y2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ll.oe=-1;function Ul(t){return t==null}function fl(t){return t===0&&1/t==-1/0}function E2(t){return typeof t=="number"&&Number.isInteger(t)&&!fl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xf(e)),e=A2(t.get(n),e);return Xf(e)}function A2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Xf(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}}class Xo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jf(this.data.getIterator())}getIteratorFrom(e){return new Jf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Jf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new on([])}unionWith(e){let n=new wt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cg("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(ze(!!t),typeof t=="string"){let e=0;const n=T2.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hl(t){const e=t.mapValue.fields.__previous_value__;return d0(e)?Hl(e):e}function no(t){const e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d0(t)?4:D2(t)?9007199254740991:C2(t)?10:11:ye()}function Mn(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return no(t).isEqual(no(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Sr(s.timestampValue),l=Sr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Rr(s.bytesValue).isEqual(Rr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),l=ct(i.doubleValue);return o===l?fl(o)===fl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Zf(o)!==Zf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Mn(o[c],l[c])))return!1;return!0}(t,e);default:return ye()}}function so(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=kr(t),r=kr(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ct(i.integerValue||i.doubleValue),c=ct(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ed(t.timestampValue,e.timestampValue);case 4:return ed(no(t),no(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Rr(i),c=Rr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Fe(l[u],c[u]);if(h!==0)return h}return Fe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Fe(ct(i.latitude),ct(o.latitude));return l!==0?l:Fe(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return td(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,h;const p=i.fields||{},d=o.fields||{},g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=(c=d.value)===null||c===void 0?void 0:c.arrayValue,S=Fe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:td(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Zo.mapValue&&o===Zo.mapValue)return 0;if(i===Zo.mapValue)return 1;if(o===Zo.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const d=Fe(c[p],h[p]);if(d!==0)return d;const g=Js(l[c[p]],u[h[p]]);if(g!==0)return g}return Fe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ye()}}function ed(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Sr(t),r=Sr(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function td(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Js(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function ei(t){return Eu(t)}function Eu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Eu(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Eu(n.fields[o])}`;return s+"}"}(t.mapValue):ye()}function da(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hl(t);return e?16+da(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+da(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Nr(r.fields,(i,o)=>{s+=i.length+da(o)}),s}(t.mapValue);default:throw ye()}}function nd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wu(t){return!!t&&"integerValue"in t}function p0(t){return!!t&&"arrayValue"in t}function rd(t){return!!t&&"nullValue"in t}function sd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pa(t){return!!t&&"mapValue"in t}function C2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$i(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$i(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=$i(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Nr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zt($i(this.value))}}function ug(t){const e=[];return Nr(t.fields,(n,r)=>{const s=new Rt([n]);if(pa(r)){const i=ug(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nt(e,0,Ee.min(),Ee.min(),Ee.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,Ee.min(),Ee.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,Ee.min(),Ee.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.position=e,this.inclusive=n}}function id(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=Js(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function od(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n="asc"){this.field=e,this.dir=n}}function I2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{}class mt extends hg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R2(e,n,r):n==="array-contains"?new F2(e,r):n==="in"?new B2(e,r):n==="not-in"?new M2(e,r):n==="array-contains-any"?new O2(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k2(e,r):new P2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Js(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends hg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vn(e,n)}matches(e){return fg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fg(t){return t.op==="and"}function dg(t){return S2(t)&&fg(t)}function S2(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function Au(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+ei(t.value);if(dg(t))return t.filters.map(e=>Au(e)).join(",");{const e=t.filters.map(n=>Au(n)).join(",");return`${t.op}(${e})`}}function pg(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)}(t,e):t instanceof vn?function(r,s){return s instanceof vn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&pg(o,s.filters[l]),!0):!1}(t,e):void ye()}function mg(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ei(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(mg).join(" ,")+"}"}(t):"Filter"}class R2 extends mt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class k2 extends mt{constructor(e,n){super(e,"in",n),this.keys=gg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P2 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=gg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class F2 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p0(n)&&so(n.arrayValue,this.value)}}class B2 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&so(this.value.arrayValue,n)}}class M2 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!so(this.value.arrayValue,n)}}class O2 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>so(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function ad(t,e=null,n=[],r=[],s=null,i=null,o=null){return new V2(t,e,n,r,s,i,o)}function m0(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Au(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ei(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ei(r)).join(",")),e.ue=n}return e.ue}function g0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!od(t.startAt,e.startAt)&&od(t.endAt,e.endAt)}function Tu(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function N2(t,e,n,r,s,i,o,l){return new ai(t,e,n,r,s,i,o,l)}function $l(t){return new ai(t)}function ld(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _g(t){return t.collectionGroup!==null}function qi(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new wt(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new io(i,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new io(Rt.keyField(),r))}return e.ce}function Pn(t){const e=Te(t);return e.le||(e.le=L2(e,qi(t))),e.le}function L2(t,e){if(t.limitType==="F")return ad(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new io(s.field,i)});const n=t.endAt?new dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dl(t.startAt.position,t.startAt.inclusive):null;return ad(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bu(t,e){const n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pl(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ql(t,e){return g0(Pn(t),Pn(e))&&t.limitType===e.limitType}function xg(t){return`${m0(Pn(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mg(s)).join(", ")}]`),Ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ei(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ei(s)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function jl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=id(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,qi(r),s)||r.endAt&&!function(o,l,c){const u=id(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,qi(r),s))}(t,e)}function U2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vg(t){return(e,n)=>{let r=!1;for(const s of qi(t)){const i=H2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function H2(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Js(c,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return lg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new st(me.comparator);function rr(){return $2}const yg=new st(me.comparator);function Pi(...t){let e=yg;for(const n of t)e=e.insert(n.key,n);return e}function Eg(t){let e=yg;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return ji()}function wg(){return ji()}function ji(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const q2=new st(me.comparator),j2=new wt(me.comparator);function ke(...t){let e=j2;for(const n of t)e=e.add(n);return e}const z2=new wt(Fe);function W2(){return z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function Ag(t){return{integerValue:""+t}}function Y2(t,e){return E2(e)?Ag(e):_0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this._=void 0}}function G2(t,e,n){return t instanceof oo?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&d0(i)&&(i=Hl(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ao?bg(t,e):t instanceof lo?Cg(t,e):function(s,i){const o=Tg(s,i),l=cd(o)+cd(s.Pe);return wu(o)&&wu(s.Pe)?Ag(l):_0(s.serializer,l)}(t,e)}function K2(t,e,n){return t instanceof ao?bg(t,e):t instanceof lo?Cg(t,e):n}function Tg(t,e){return t instanceof ml?function(r){return wu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oo extends zl{}class ao extends zl{constructor(e){super(),this.elements=e}}function bg(t,e){const n=Dg(e);for(const r of t.elements)n.some(s=>Mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class lo extends zl{constructor(e){super(),this.elements=e}}function Cg(t,e){let n=Dg(e);for(const r of t.elements)n=n.filter(s=>!Mn(s,r));return{arrayValue:{values:n}}}class ml extends zl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cd(t){return ct(t.integerValue||t.doubleValue)}function Dg(t){return p0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.field=e,this.transform=n}}function X2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ao&&s instanceof ao||r instanceof lo&&s instanceof lo?Zs(r.elements,s.elements,Mn):r instanceof ml&&s instanceof ml?Mn(r.Pe,s.Pe):r instanceof oo&&s instanceof oo}(t.transform,e.transform)}class Z2{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ma(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wl{}function Ig(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rg(t.key,_n.none()):new go(t.key,t.data,_n.none());{const n=t.data,r=Zt.empty();let s=new wt(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Lr(t.key,r,new on(s.toArray()),_n.none())}}function J2(t,e,n){t instanceof go?function(s,i,o){const l=s.value.clone(),c=hd(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(s,i,o){if(!ma(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=hd(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Sg(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zi(t,e,n,r){return t instanceof go?function(i,o,l,c){if(!ma(i.precondition,o))return l;const u=i.value.clone(),h=fd(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lr?function(i,o,l,c){if(!ma(i.precondition,o))return l;const u=fd(i.fieldTransforms,c,o),h=o.data;return h.setAll(Sg(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,l){return ma(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function ew(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Tg(r.transform,s||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function ud(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zs(r,s,(i,o)=>X2(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class go extends Wl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lr extends Wl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hd(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,K2(o,l,n[s]))}return r}function fd(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,G2(i,o,e))}return r}class Rg extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tw extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&J2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wg();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=Ig(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,r)=>ud(n,r))&&Zs(this.baseMutations,e.baseMutations,(n,r)=>ud(n,r))}}class x0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return q2}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new x0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Oe;function iw(t){switch(t){default:return ye();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function kg(t){if(t===void 0)return nr("GRPC error has no .code"),q.UNKNOWN;switch(t){case dt.OK:return q.OK;case dt.CANCELLED:return q.CANCELLED;case dt.UNKNOWN:return q.UNKNOWN;case dt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case dt.INTERNAL:return q.INTERNAL;case dt.UNAVAILABLE:return q.UNAVAILABLE;case dt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case dt.NOT_FOUND:return q.NOT_FOUND;case dt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case dt.ABORTED:return q.ABORTED;case dt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case dt.DATA_LOSS:return q.DATA_LOSS;default:return ye()}}(Oe=dt||(dt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new is([4294967295,4294967295],0);function dd(t){const e=ow().encode(t),n=new eg;return n.update(e),new Uint8Array(n.digest())}function pd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new is([n,r],0),new is([s,i],0)]}class v0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fi(`Invalid padding: ${n}`);if(r<0)throw new Fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=is.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(is.fromNumber(r)));return s.compare(aw)===1&&(s=new is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=dd(e),[r,s]=pd(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new v0(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=dd(e),[r,s]=pd(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yl(Ee.min(),s,new st(Fe),rr(),ke())}}class _o{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _o(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Pg{constructor(e,n){this.targetId=e,this.me=n}}class Fg{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class md{constructor(){this.fe=0,this.ge=gd(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new _o(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=gd()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lw{constructor(e){this.Le=e,this.Be=new Map,this.ke=rr(),this.qe=Jo(),this.Qe=Jo(),this.Ke=new st(Fe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(Tu(i))if(r===0){const o=new me(i.path);this.We(n,o,Nt.newNoDocument(o,Ee.min()))}else ze(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Rr(r).toUint8Array()}catch(c){if(c instanceof cg)return Xs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new v0(o,s,i)}catch(c){return Xs(c instanceof Fi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&Tu(l.target)){const c=new me(l.target.path);this.st(c).has(o)||this.ot(o,c)||this.We(o,c,Nt.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ke();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Yl(e,n,this.Ke,this.ke,r);return this.ke=rr(),this.qe=Jo(),this.Qe=Jo(),this.Ke=new st(Fe),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new md,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new wt(Fe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(Fe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new md),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jo(){return new st(me.comparator)}function gd(){return new st(me.comparator)}const cw={asc:"ASCENDING",desc:"DESCENDING"},uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hw={and:"AND",or:"OR"};class fw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cu(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dw(t,e){return gl(t,e.toTimestamp())}function Fn(t){return ze(!!t),Ee.fromTimestamp(function(n){const r=Sr(n);return new Et(r.seconds,r.nanos)}(t))}function y0(t,e){return Du(t,e).canonicalString()}function Du(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Mg(t){const e=Xe.fromString(t);return ze(Ug(e)),e}function Iu(t,e){return y0(t.databaseId,e.path)}function qc(t,e){const n=Mg(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(Vg(n))}function Og(t,e){return y0(t.databaseId,e)}function pw(t){const e=Mg(t);return e.length===4?Xe.emptyPath():Vg(e)}function Su(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vg(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _d(t,e,n){return{name:Iu(t,e),fields:n.value.mapValue.fields}}function mw(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ze(h===void 0||typeof h=="string"),kt.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?q.UNKNOWN:kg(u.code);return new ae(h,u.message||"")}(o);n=new Fg(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qc(t,r.document.name),i=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):Ee.min(),l=new Zt({mapValue:{fields:r.document.fields}}),c=Nt.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ga(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qc(t,r.document),i=r.readTime?Fn(r.readTime):Ee.min(),o=Nt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ga([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qc(t,r.document),i=r.removedTargetIds||[];n=new ga([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new sw(s,i),l=r.targetId;n=new Pg(l,o)}}return n}function gw(t,e){let n;if(e instanceof go)n={update:_d(t,e.key,e.value)};else if(e instanceof Rg)n={delete:Iu(t,e.key)};else if(e instanceof Lr)n={update:_d(t,e.key,e.data),updateMask:bw(e.fieldMask)};else{if(!(e instanceof tw))return ye();n={verify:Iu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof oo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ao)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ml)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dw(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function _w(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Fn(s.updateTime):Fn(i);return o.isEqual(Ee.min())&&(o=Fn(i)),new Z2(o,s.transformResults||[])}(n,e))):[]}function xw(t,e){return{documents:[Og(t,e.path)]}}function vw(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Og(t,s);const i=function(u){if(u.length!==0)return Lg(vn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:Fs(d.field),direction:ww(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Cu(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function yw(t){let e=pw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const d=Ng(p);return d instanceof vn&&dg(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(d=>function(w){return new io(Bs(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let l=null;n.limit&&(l=function(p){let d;return d=typeof p=="object"?p.value:p,Ul(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(p){const d=!!p.before,g=p.values||[];return new dl(g,d)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const d=!p.before,g=p.values||[];return new dl(g,d)}(n.endAt)),N2(e,s,o,i,l,"F",c,u)}function Ew(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ng(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bs(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bs(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bs(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bs(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Bs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>Ng(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function ww(t){return cw[t]}function Aw(t){return uw[t]}function Tw(t){return hw[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Bs(t){return Rt.fromServerFormat(t.fieldPath)}function Lg(t){return t instanceof mt?function(n){if(n.op==="=="){if(sd(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(rd(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sd(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(rd(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:Aw(n.op),value:n.value}}}(t):t instanceof vn?function(n){const r=n.getFilters().map(s=>Lg(s));return r.length===1?r[0]:{compositeFilter:{op:Tw(n.op),filters:r}}}(t):ye()}function bw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ug(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),l=kt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.ht=e}}function Dw(t){const e=yw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.ln=new Sw}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ir.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Sw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ti(0)}static Qn(){return new ti(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class Rw{constructor(e){this.Gn=e,this.buffer=new wt(vd),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kw{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oi(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ii(n)}await this.Yn(3e5)})}}class Pw{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Ll.oe);const r=new Rw(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(xd)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xd):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),ks()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Fw(t,e){return new Pw(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zi(r.mutation,s,on.empty(),Et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pi();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=rr();const o=ji(),l=function(){return ji()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Lr)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),zi(h.mutation,u,h.mutation.getFieldMask(),Et.now())):o.set(u.key,on.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return l.set(u,new Mw(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ji();let s=new st((o,l)=>o-l),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||on.empty();h=l.applyToLocalView(u,h),r.set(c,h);const p=(s.get(l.batchId)||ke()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=wg();h.forEach(d=>{if(!i.has(d)){const g=Ig(n.get(d),r.get(d));g!==null&&p.set(d,g),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_g(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(ts());let l=-1,c=i;return o.next(u=>j.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{c=c.insert(h,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ke())).next(h=>({batchId:l,changes:Eg(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=Pi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pi();return this.indexManager.getCollectionParents(e,i).next(l=>j.forEach(l,c=>{const u=function(p,d){return new ai(d,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,d)=>{o=o.insert(p,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Nt.newInvalidDocument(h)))});let l=Pi();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&zi(h.mutation,u,on.empty(),Et.now()),jl(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fn(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:Dw(s.bundledQuery),readTime:Fn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.overlays=new st(me.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=ts(),i=n.length+1,o=new me(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new st((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ts(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=ts(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return j.resolve(l)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rw(n,r));let i=this.Er.get(n);i===void 0&&(i=ke(),this.Er.set(n,i)),this.Er.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.dr=new wt(At.Ar),this.Rr=new wt(At.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new At(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new At(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new me(new Xe([])),r=new At(n,e),s=new At(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new Xe([])),r=new At(n,e),s=new At(n,e+1);let i=ke();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new At(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||Fe(e.br,n.br)}static Vr(e,n){return Fe(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new wt(At.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nw(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.vr=this.vr.add(new At(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),s=new At(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const l=this.Cr(o.br);i.push(l)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Fe);return n.forEach(s=>{const i=new At(s,0),o=new At(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],l=>{r=r.add(l.br)})}),j.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new At(new me(i),0);let l=new wt(Fe);return this.vr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.br)),!0)},o),j.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return j.forEach(n.mutations,s=>{const i=new At(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new At(n,0),s=this.vr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.Nr=e,this.docs=function(){return new st(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rr();const o=n.path,l=new me(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_2(g2(h),r)<=0||(s.has(h.key)||jl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Lr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $w(this)}getSize(e){return j.resolve(this.size)}}class $w extends Bw{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.persistence=e,this.Br=new ms(n=>m0(n),g0),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new E0,this.targetCount=0,this.Qr=ti.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ti(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Ll(0),this.Ur=!1,this.Ur=!0,this.Wr=new Lw,this.referenceDelegate=e(this),this.Gr=new qw(this),this.indexManager=new Iw,this.remoteDocumentCache=function(s){return new Hw(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Cw(n),this.jr=new Vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new Uw(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const s=new jw(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return j.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class jw extends v2{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Zr=new E0,this.Xr=null}static ei(e){return new w0(e)}get ti(){if(this.Xr)return this.Xr;throw ye()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,r=>{const s=me.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class _l{constructor(e,n){this.persistence=e,this.ri=new ms(r=>w2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Fw(this,n)}static ei(e,n){return new _l(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,n).next(l=>{l||(r++,i.removeEntry(o,Ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=da(e.data.value)),n}ir(e,n,r){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new A0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return zy()?8:y2(qy())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zw;return this.ts(e,n,o).next(l=>{if(i.result=l,this.Hi)return this.ns(e,n,o,l.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(ks()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(ks()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ks()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):j.resolve())}Xi(e,n){if(ld(n))return j.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pl(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.rs(n,l);return this.ss(n,u,o,c.readTime)?this.Xi(e,pl(n,null,"F")):this.os(e,u,n,c)}))})))}es(e,n,r,s){return ld(n)||s.isEqual(Ee.min())?j.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?j.resolve(null):(ks()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ps(n)),this.os(e,o,n,m2(s,-1)).next(l=>l))})}rs(e,n){let r=new wt(vg(e));return n.forEach((s,i)=>{jl(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return ks()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ir.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new st(Fe),this.cs=new ms(i=>m0(i),g0),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ow(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Gw(t,e,n,r){return new Yw(t,e,n,r)}async function $g(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ke();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:l}))})})}function Kw(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,d=p.keys();let g=j.resolve();return d.forEach(w=>{g=g.next(()=>h.getEntry(c,w)).next(S=>{const b=u.docVersions.get(w);ze(b!==null),S.version.compareTo(b)<0&&(p.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ke();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qg(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Qw(t,e){const n=Te(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const l=[];e.targetChanges.forEach((h,p)=>{const d=s.get(p);if(!d)return;l.push(n.Gr.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(i,h.addedDocuments,p)));let g=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(p,g),function(S,b,k){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(d,g,h)&&l.push(n.Gr.updateTargetData(i,g))});let c=rr(),u=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Xw(i,o,e.documentUpdates).next(h=>{c=h.Is,u=h.Es})),!r.isEqual(Ee.min())){const h=n.Gr.getLastRemoteSnapshotVersion(i).next(p=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return j.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.us=s,i))}function Xw(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rr();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Is:o,Es:s}})}function Zw(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jw(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Ru(t,e,n){const r=Te(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!oi(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function yd(t,e,n){const r=Te(t);let s=Ee.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const p=Te(c),d=p.cs.get(h);return d!==void 0?j.resolve(p.us.get(d)):p.Gr.getTargetData(u,h)}(r,o,Pn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:ke())).next(l=>(eA(r,U2(e),l),{documents:l,ds:i})))}function eA(t,e,n){let r=t.ls.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}class Ed{constructor(){this.activeTargetIds=W2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tA{constructor(){this._o=new Ed,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ed,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea=null;function jc(){return ea===null?ea=function(){return 268435456+Math.round(2147483648*Math.random())}():ea++,"0x"+ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class iA extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const l=jc(),c=this.No(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,i,o),this.Bo(n,c,u,s).then(h=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Xs("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}ko(n,r,s,i,o,l){return this.Oo(n,r,s,i,o)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+si}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=rA[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const i=jc();return new Promise((o,l)=>{const c=new tg;c.setWithCredentials(!0),c.listenOnce(ng.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fa.NO_ERROR:const h=c.getResponseJson();oe(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case fa.TIMEOUT:oe(Bt,`RPC '${e}' ${i} timed out`),l(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case fa.HTTP_ERROR:const p=c.getStatus();if(oe(Bt,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const w=function(b){const k=b.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(k)>=0?k:q.UNKNOWN}(g.status);l(new ae(w,g.message))}else l(new ae(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ae(q.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{oe(Bt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);oe(Bt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}qo(e,n,r){const s=jc(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ig(),l=sg(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");oe(Bt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=o.createWebChannel(h,c);let d=!1,g=!1;const w=new sA({Eo:b=>{g?oe(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(d||(oe(Bt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),d=!0),oe(Bt,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Ao:()=>p.close()}),S=(b,k,E)=>{b.listen(k,C=>{try{E(C)}catch(T){setTimeout(()=>{throw T},0)}})};return S(p,ki.EventType.OPEN,()=>{g||(oe(Bt,`RPC '${e}' stream ${s} transport opened.`),w.So())}),S(p,ki.EventType.CLOSE,()=>{g||(g=!0,oe(Bt,`RPC '${e}' stream ${s} transport closed`),w.Do())}),S(p,ki.EventType.ERROR,b=>{g||(g=!0,Xs(Bt,`RPC '${e}' stream ${s} transport errored:`,b),w.Do(new ae(q.UNAVAILABLE,"The operation could not be completed")))}),S(p,ki.EventType.MESSAGE,b=>{var k;if(!g){const E=b.data[0];ze(!!E);const C=E,T=(C==null?void 0:C.error)||((k=C[0])===null||k===void 0?void 0:k.error);if(T){oe(Bt,`RPC '${e}' stream ${s} received error:`,T);const P=T.status;let B=function(I){const _=dt[I];if(_!==void 0)return kg(_)}(P),v=T.message;B===void 0&&(B=q.INTERNAL,v="Unknown error status: "+P+" with message "+T.message),g=!0,w.Do(new ae(B,v)),p.close()}else oe(Bt,`RPC '${e}' stream ${s} received:`,E),w.vo(E)}}),S(l,rg.STAT_EVENT,b=>{b.stat===yu.PROXY?oe(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===yu.NOPROXY&&oe(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){return new fw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s,i,o,l,c){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new jg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new ae(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oA extends zg{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=mw(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Fn(o.readTime):Ee.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Su(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Tu(c)?{documents:xw(i,c)}:{query:vw(i,c).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Bg(i,o.resumeToken);const u=Cu(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ee.min())>0){l.readTime=gl(i,o.snapshotVersion.toTimestamp());const u=Cu(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Ew(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Su(this.serializer),n.removeTarget=e,this.c_(n)}}class aA extends zg{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=_w(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Su(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gw(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,Du(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(q.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,Du(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(q.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class cA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(nr(n),this.C_=!1):oe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{gs(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Te(c);u.k_.add(4),await xo(u),u.K_.set("Unknown"),u.k_.delete(4),await Kl(u)}(this))})}),this.K_=new cA(r,s)}}async function Kl(t){if(gs(t))for(const e of t.q_)await e(!0)}async function xo(t){for(const e of t.q_)await e(!1)}function Wg(t,e){const n=Te(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),D0(n)?C0(n):li(n).s_()&&b0(n,e))}function T0(t,e){const n=Te(t),r=li(n);n.B_.delete(e),r.s_()&&Yg(n,e),n.B_.size===0&&(r.s_()?r.a_():gs(n)&&n.K_.set("Unknown"))}function b0(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}li(t).V_(e)}function Yg(t,e){t.U_.xe(e),li(t).m_(e)}function C0(t){t.U_=new lw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),li(t).start(),t.K_.F_()}function D0(t){return gs(t)&&!li(t).i_()&&t.B_.size>0}function gs(t){return Te(t).k_.size===0}function Gg(t){t.U_=void 0}async function hA(t){t.K_.set("Online")}async function fA(t){t.B_.forEach((e,n)=>{b0(t,e)})}async function dA(t,e){Gg(t),D0(t)?(t.K_.O_(e),C0(t)):t.K_.set("Unknown")}async function pA(t,e,n){if(t.K_.set("Online"),e instanceof Fg&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.B_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.B_.delete(l),s.U_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xl(t,r)}else if(e instanceof ga?t.U_.$e(e):e instanceof Pg?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Ee.min()))try{const r=await qg(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.U_.it(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.B_.get(u);h&&i.B_.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.B_.get(c);if(!h)return;i.B_.set(c,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),Yg(i,c);const p=new mr(h.target,c,u,h.sequenceNumber);b0(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await xl(t,r)}}async function xl(t,e,n){if(!oi(e))throw e;t.k_.add(1),await xo(t),t.K_.set("Offline"),n||(n=()=>qg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Kl(t)})}function Kg(t,e){return e().catch(n=>xl(t,n,e))}async function Ql(t){const e=Te(t),n=Pr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;mA(e);)try{const s=await Zw(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,gA(e,s)}catch(s){await xl(e,s)}Qg(e)&&Xg(e)}function mA(t){return gs(t)&&t.L_.length<10}function gA(t,e){t.L_.push(e);const n=Pr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Qg(t){return gs(t)&&!Pr(t).i_()&&t.L_.length>0}function Xg(t){Pr(t).start()}async function _A(t){Pr(t).w_()}async function xA(t){const e=Pr(t);for(const n of t.L_)e.g_(n.mutations)}async function vA(t,e,n){const r=t.L_.shift(),s=x0.from(r,e,n);await Kg(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ql(t)}async function yA(t,e){e&&Pr(t).f_&&await async function(r,s){if(function(o){return iw(o)&&o!==q.ABORTED}(s.code)){const i=r.L_.shift();Pr(r).__(),await Kg(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ql(r)}}(t,e),Qg(t)&&Xg(t)}async function Ad(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.k_.add(3),await xo(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Kl(n)}async function EA(t,e){const n=Te(t);e?(n.k_.delete(2),await Kl(n)):e||(n.k_.add(2),await xo(n),n.K_.set("Unknown"))}function li(t){return t.W_||(t.W_=function(n,r,s){const i=Te(n);return i.b_(),new oA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:hA.bind(null,t),mo:fA.bind(null,t),po:dA.bind(null,t),R_:pA.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),D0(t)?C0(t):t.K_.set("Unknown")):(await t.W_.stop(),Gg(t))})),t.W_}function Pr(t){return t.G_||(t.G_=function(n,r,s){const i=Te(n);return i.b_(),new aA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:_A.bind(null,t),po:yA.bind(null,t),p_:xA.bind(null,t),y_:vA.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Ql(t)):(await t.G_.stop(),t.L_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new I0(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(nr("AsyncQueue",`${e}: ${t}`),oi(t))return new ae(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Pi(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.z_=new st(me.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ye():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ni{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ni(e,n,qs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class AA{constructor(){this.queries=bd(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=Te(n),i=s.queries;s.queries=bd(),i.forEach((o,l)=>{for(const c of l.J_)c.onError(r)})})(this,new ae(q.ABORTED,"Firestore shutting down"))}}function bd(){return new ms(t=>xg(t),ql)}async function Zg(t,e){const n=Te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new wA,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=S0(o,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&R0(n)}async function Jg(t,e){const n=Te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TA(t,e){const n=Te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.J_)l.ta(s)&&(r=!0);o.H_=s}}r&&R0(n)}function bA(t,e,n){const r=Te(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function R0(t){t.X_.forEach(e=>{e.next()})}var ku,Cd;(Cd=ku||(ku={})).na="default",Cd.Cache="cache";class e_{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ni(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ku.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.key=e}}class n_{constructor(e){this.key=e}}class CA{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=vg(e),this.ma=new qs(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Td,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const d=s.get(h),g=jl(this.query,p)?p:null,w=!!d&&this.mutatedKeys.has(d.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;d&&g?d.data.isEqual(g.data)?w!==S&&(r.track({type:3,doc:g}),b=!0):this.ya(d,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.Va(g,c)>0||u&&this.Va(g,u)<0)&&(l=!0)):!d&&g?(r.track({type:0,doc:g}),b=!0):d&&!g&&(r.track({type:1,doc:d}),b=!0,(c||u)&&(l=!0)),b&&(g?(o=o.add(g),i=S?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:l,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,p)=>function(g,w){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return S(g)-S(w)}(h.type,p.type)||this.Va(h.doc,p.doc)),this.wa(r),s=s!=null&&s;const l=n&&!s?this.Sa():[],c=this.Ra.size===0&&this.current&&!s?1:0,u=c!==this.Aa;return this.Aa=c,o.length!==0||u?{snapshot:new ni(this.query,e.ma,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Td,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new n_(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new t_(r))}),n}va(e){this.da=e.ds,this.Ra=ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ni.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class DA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IA{constructor(e){this.key=e,this.Fa=!1}}class SA{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ms(l=>xg(l),ql),this.Oa=new Map,this.Na=new Set,this.La=new st(me.comparator),this.Ba=new Map,this.ka=new E0,this.qa={},this.Qa=new Map,this.Ka=ti.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function RA(t,e,n=!0){const r=l_(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await r_(r,e,n,!0),s}async function kA(t,e){const n=l_(t);await r_(n,e,!0,!1)}async function r_(t,e,n,r){const s=await Jw(t.localStore,Pn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await PA(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Wg(t.remoteStore,s),l}async function PA(t,e,n,r,s){t.Ua=(p,d,g)=>async function(S,b,k,E){let C=b.view.ga(k);C.ss&&(C=await yd(S.localStore,b.query,!1).then(({documents:v})=>b.view.ga(v,C)));const T=E&&E.targetChanges.get(b.targetId),P=E&&E.targetMismatches.get(b.targetId)!=null,B=b.view.applyChanges(C,S.isPrimaryClient,T,P);return Id(S,b.targetId,B.ba),B.snapshot}(t,p,d,g);const i=await yd(t.localStore,e,!0),o=new CA(e,i.ds),l=o.ga(i.documents),c=_o.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);Id(t,n,u.ba);const h=new DA(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function FA(t,e,n){const r=Te(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!ql(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ru(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&T0(r.remoteStore,s.targetId),Pu(r,s.targetId)}).catch(ii)):(Pu(r,s.targetId),await Ru(r.localStore,s.targetId,!0))}async function BA(t,e){const n=Te(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T0(n.remoteStore,r.targetId))}async function MA(t,e,n){const r=$A(t);try{const s=await function(o,l){const c=Te(o),u=Et.now(),h=l.reduce((g,w)=>g.add(w.key),ke());let p,d;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=rr(),S=ke();return c.hs.getEntries(g,h).next(b=>{w=b,w.forEach((k,E)=>{E.isValidDocument()||(S=S.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(b=>{p=b;const k=[];for(const E of l){const C=ew(E,p.get(E.key).overlayedDocument);C!=null&&k.push(new Lr(E.key,C,ug(C.value.mapValue),_n.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,k,l)}).next(b=>{d=b;const k=b.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(g,b.batchId,k)})}).then(()=>({batchId:d.batchId,changes:Eg(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.qa[o.currentUser.toKey()];u||(u=new st(Fe)),u=u.insert(l,c),o.qa[o.currentUser.toKey()]=u}(r,s.batchId,n),await vo(r,s.changes),await Ql(r.remoteStore)}catch(s){const i=S0(s,"Failed to persist write");n.reject(i)}}async function s_(t,e){const n=Te(t);try{const r=await Qw(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ba.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?ze(o.Fa):s.removedDocuments.size>0&&(ze(o.Fa),o.Fa=!1))}),await vo(n,r,e)}catch(r){await ii(r)}}function Dd(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const l=o.view.ea(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Te(o);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const d of p.J_)d.ea(l)&&(u=!0)}),u&&R0(c)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OA(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new st(me.comparator);o=o.insert(i,Nt.newNoDocument(i,Ee.min()));const l=ke().add(i),c=new Yl(Ee.min(),new Map,new st(Fe),o,l);await s_(r,c),r.La=r.La.remove(i),r.Ba.delete(e),k0(r)}else await Ru(r.localStore,e,!1).then(()=>Pu(r,e,n)).catch(ii)}async function VA(t,e){const n=Te(t),r=e.batch.batchId;try{const s=await Kw(n.localStore,e);o_(n,r,null),i_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vo(n,s)}catch(s){await ii(s)}}async function NA(t,e,n){const r=Te(t);try{const s=await function(o,l){const c=Te(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(ze(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);o_(r,e,n),i_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vo(r,s)}catch(s){await ii(s)}}function i_(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function o_(t,e,n){const r=Te(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Pu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||a_(t,r)})}function a_(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(T0(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),k0(t))}function Id(t,e,n){for(const r of n)r instanceof t_?(t.ka.addReference(r.key,e),LA(t,r)):r instanceof n_?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||a_(t,r.key)):ye()}function LA(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.Na.add(r),k0(t))}function k0(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new me(Xe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new IA(n)),t.La=t.La.insert(n,r),Wg(t.remoteStore,new mr(Pn($l(n.path)),r,"TargetPurposeLimboResolution",Ll.oe))}}async function vo(t,e,n){const r=Te(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((l,c)=>{o.push(r.Ua(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=A0.zi(c.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(c,u){const h=Te(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(u,d=>j.forEach(d.Wi,g=>h.persistence.referenceDelegate.addReference(p,d.targetId,g)).next(()=>j.forEach(d.Gi,g=>h.persistence.referenceDelegate.removeReference(p,d.targetId,g)))))}catch(p){if(!oi(p))throw p;oe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const d=p.targetId;if(!p.fromCache){const g=h.us.get(d),w=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(w);h.us=h.us.insert(d,S)}}}(r.localStore,i))}async function UA(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await $g(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(l=>{l.forEach(c=>{c.reject(new ae(q.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vo(n,r.Ts)}}function HA(t,e){const n=Te(t),r=n.Ba.get(e);if(r&&r.Fa)return ke().add(r.key);{let s=ke();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const l=n.xa.get(o);s=s.unionWith(l.view.fa)}return s}}function l_(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OA.bind(null,e),e.Ma.R_=TA.bind(null,e.eventManager),e.Ma.Wa=bA.bind(null,e.eventManager),e}function $A(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NA.bind(null,e),e}class vl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gl(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Gw(this.persistence,new Ww,e.initialUser,this.serializer)}ja(e){return new Hg(w0.ei,this.serializer)}za(e){return new tA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vl.provider={build:()=>new vl};class qA extends vl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof _l);const r=this.persistence.referenceDelegate.garbageCollector;return new kw(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Hg(r=>_l.ei(r,n),this.serializer)}}class Fu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UA.bind(null,this.syncEngine),await EA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AA}()}createDatastore(e){const n=Gl(e.databaseInfo.databaseId),r=function(i){return new iA(i)}(e.databaseInfo);return function(i,o,l,c){return new lA(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new uA(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Dd(this.syncEngine,n,0),function(){return wd.p()?new wd:new nA}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,h){const p=new SA(s,i,o,l,c,u);return h&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Te(s);oe("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await xo(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fu.provider={build:()=>new Fu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wc(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $g(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zA(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ad(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ad(e.remoteStore,s)),t._onlineComponents=e}async function zA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await Wc(t,new vl)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Wc(t,new qA(void 0));return t._offlineComponents}async function u_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Sd(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Sd(t,new Fu))),t._onlineComponents}function WA(t){return u_(t).then(e=>e.syncEngine)}async function Bu(t){const e=await u_(t),n=e.eventManager;return n.onListen=RA.bind(null,e.syncEngine),n.onUnlisten=FA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BA.bind(null,e.syncEngine),n}function YA(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new c_({next:d=>{h.eu(),o.enqueueAndForget(()=>Jg(i,p));const g=d.docs.has(l);!g&&d.fromCache?u.reject(new ae(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&c&&c.source==="server"?u.reject(new ae(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),p=new e_($l(l.path),h,{includeMetadataChanges:!0,ua:!0});return Zg(i,p)}(await Bu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GA(t,e,n,r){if(e===!0&&r===!0)throw new ae(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kd(t){if(!me.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pd(t){if(me.isDocumentKey(t))throw new ae(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xl(t);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KA(t,e){if(e<=0)throw new ae(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o2;switch(r.type){case"firstParty":return new u2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rd.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Rd.delete(n),r.terminate())}(this),Promise.resolve()}}function QA(t,e,n,r={}){var s;const i=(t=xn(t,Zl))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Mt.MOCK_USER;else{l=qm(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(u)}t._authCredentials=new a2(new og(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class Ar extends Ur{constructor(e,n,r){super(e,n,$l(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new me(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Mu(t,e,...n){if(t=en(t),f_("collection","path",e),t instanceof Zl){const r=Xe.fromString(e,...n);return Pd(r),new Ar(t,null,r)}{if(!(t instanceof Ut||t instanceof Ar))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Pd(r),new Ar(t.firestore,null,r)}}function yo(t,e,...n){if(t=en(t),arguments.length===1&&(e=ag.newId()),f_("doc","path",e),t instanceof Zl){const r=Xe.fromString(e,...n);return kd(r),new Ut(t,null,new me(r))}{if(!(t instanceof Ut||t instanceof Ar))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return kd(r),new Ut(t.firestore,t instanceof Ar?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new jg(this,"async_queue_retry"),this.fu=()=>{const r=zc();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new wr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!oi(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw nr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=I0.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&ye()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function Md(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fs extends Zl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Bd,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bd(e),this._firestoreClient=void 0,await e}}}function XA(t,e){const n=typeof t=="object"?t:Xm(),r=typeof t=="string"?t:"(default)",s=Gm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Hm("firestore");i&&QA(s,...i)}return s}function P0(t){if(t._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZA(t),t._firestoreClient}function ZA(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new b2(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new jA(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(kt.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=/^__.*__$/;class e4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}}class d_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class M0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new M0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return yl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(p_(this.Mu)&&JA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class t4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gl(e)}$u(e,n,r,s=!1){return new M0({Mu:e,methodName:n,Ku:r,path:Rt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tc(t){const e=t._freezeSettings(),n=Gl(t._databaseId);return new t4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m_(t,e,n,r,s,i={}){const o=t.$u(i.merge||i.mergeFields?2:0,e,n,s);V0("Data must be an object, but it was:",o,r);const l=g_(r,o);let c,u;if(i.merge)c=new on(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const d=Ou(e,p,n);if(!o.contains(d))throw new ae(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);x_(h,d)||h.push(d)}c=new on(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new e4(new Zt(l),c,u)}class nc extends ec{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nc}}class O0 extends ec{_toFieldTransform(e){return new Q2(e.path,new oo)}isEqual(e){return e instanceof O0}}function n4(t,e,n,r){const s=t.$u(1,e,n);V0("Data must be an object, but it was:",s,r);const i=[],o=Zt.empty();Nr(r,(c,u)=>{const h=N0(e,c,n);u=en(u);const p=s.Bu(h);if(u instanceof nc)i.push(h);else{const d=Eo(u,p);d!=null&&(i.push(h),o.set(h,d))}});const l=new on(i);return new d_(o,l,s.fieldTransforms)}function r4(t,e,n,r,s,i){const o=t.$u(1,e,n),l=[Ou(e,r,n)],c=[s];if(i.length%2!=0)throw new ae(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)l.push(Ou(e,i[d])),c.push(i[d+1]);const u=[],h=Zt.empty();for(let d=l.length-1;d>=0;--d)if(!x_(u,l[d])){const g=l[d];let w=c[d];w=en(w);const S=o.Bu(g);if(w instanceof nc)u.push(g);else{const b=Eo(w,S);b!=null&&(u.push(g),h.set(g,b))}}const p=new on(u);return new d_(h,p,o.fieldTransforms)}function s4(t,e,n,r=!1){return Eo(n,t.$u(r?4:3,e))}function Eo(t,e){if(__(t=en(t)))return V0("Unsupported field value:",e,t),g_(t,e);if(t instanceof ec)return function(r,s){if(!p_(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Eo(l,s.ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Et.fromDate(r);return{timestampValue:gl(s.serializer,i)}}if(r instanceof Et){const i=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gl(s.serializer,i)}}if(r instanceof F0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:Bg(s.serializer,r._byteString)};if(r instanceof Ut){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:y0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof B0)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.qu("VectorValues must only contain numeric values.");return _0(l.serializer,c)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Xl(r)}`)}(t,e)}function g_(t,e){const n={};return lg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(r,s)=>{const i=Eo(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function __(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof F0||t instanceof ri||t instanceof Ut||t instanceof ec||t instanceof B0)}function V0(t,e,n){if(!__(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Xl(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Ou(t,e,n){if((e=en(e))instanceof Jl)return e._internalPath;if(typeof e=="string")return N0(t,e);throw yl("Field path arguments must be of type string or ",t,!1,void 0,n)}const i4=new RegExp("[~\\*/\\[\\]]");function N0(t,e,n){if(e.search(i4)>=0)throw yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jl(...e.split("."))._internalPath}catch{throw yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ae(q.INVALID_ARGUMENT,l+t+c)}function x_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o4 extends v_{data(){return super.data()}}function L0(t,e){return typeof e=="string"?N0(t,e):e instanceof Jl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}class H0 extends U0{}function y_(t,e,...n){let r=[];e instanceof U0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof q0).length,l=i.filter(c=>c instanceof $0).length;if(o>1||o>0&&l>0)throw new ae(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $0 extends H0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $0(e,n,r)}_apply(e){const n=this._parse(e);return E_(e._query,n),new Ur(e.firestore,e.converter,bu(e._query,n))}_parse(e){const n=tc(e.firestore);return function(i,o,l,c,u,h,p){let d;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ae(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Vd(p,h);const g=[];for(const w of p)g.push(Od(c,i,w));d={arrayValue:{values:g}}}else d=Od(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Vd(p,h),d=s4(l,o,p,h==="in"||h==="not-in");return mt.create(u,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class q0 extends U0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new q0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)E_(o,c),o=bu(o,c)}(e._query,n),new Ur(e.firestore,e.converter,bu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j0 extends H0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(i,o)}(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ai(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function l4(t,e="asc"){const n=e,r=L0("orderBy",t);return j0._create(r,n)}class z0 extends H0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new z0(e,n,r)}_apply(e){return new Ur(e.firestore,e.converter,pl(e._query,this._limit,this._limitType))}}function c4(t){return KA("limit",t),z0._create("limit",t,"F")}function Od(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ae(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_g(e)&&n.indexOf("/")!==-1)throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!me.isDocumentKey(r))throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nd(t,new me(r))}if(n instanceof Ut)return nd(t,n._key);throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xl(n)}.`)}function Vd(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E_(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u4{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ct(o.doubleValue));return new B0(i)}convertGeoPoint(e){return new F0(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);ze(Ug(r));const s=new ro(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||nr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A_ extends v_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _a(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _a extends A_{data(e={}){return super.data(e)}}class h4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _a(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new _a(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Bi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new _a(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Bi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:f4(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function f4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){t=xn(t,Ut);const e=xn(t.firestore,fs);return YA(P0(e),t._key).then(n=>D_(e,t,n))}class T_ extends u4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function b_(t,e,n){t=xn(t,Ut);const r=xn(t.firestore,fs),s=w_(t.converter,e);return Y0(r,[m_(tc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function C_(t,e,n,...r){t=xn(t,Ut);const s=xn(t.firestore,fs),i=tc(s);let o;return o=typeof(e=en(e))=="string"||e instanceof Jl?r4(i,"updateDoc",t._key,e,n,r):n4(i,"updateDoc",t._key,e),Y0(s,[o.toMutation(t._key,_n.exists(!0))])}function p4(t,e){const n=xn(t.firestore,fs),r=yo(t),s=w_(t.converter,e);return Y0(n,[m_(tc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function W0(t,...e){var n,r,s;t=en(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Md(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Md(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Ut)u=xn(t.firestore,fs),h=$l(t._key.path),c={next:p=>{e[o]&&e[o](D_(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=xn(t,Ur);u=xn(p.firestore,fs),h=p._query;const d=new T_(u);c={next:g=>{e[o]&&e[o](new h4(u,d,p,g))},error:e[o+1],complete:e[o+2]},a4(t._query)}return function(d,g,w,S){const b=new c_(S),k=new e_(g,b,w);return d.asyncQueue.enqueueAndForget(async()=>Zg(await Bu(d),k)),()=>{b.eu(),d.asyncQueue.enqueueAndForget(async()=>Jg(await Bu(d),k))}}(P0(u),h,l,c)}function Y0(t,e){return function(r,s){const i=new wr;return r.asyncQueue.enqueueAndForget(async()=>MA(await WA(r),s,i)),i.promise}(P0(t),e)}function D_(t,e,n){const r=n.docs.get(e._key),s=new T_(t);return new A_(t,s,e._key,r,new Bi(n.hasPendingWrites,n.fromCache),e.converter)}function js(){return new O0("serverTimestamp")}(function(e,n=!0){(function(s){si=s})(Km),Ji(new Qs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new fs(new l2(r.getProvider("auth-internal")),new f2(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Er(Qf,"4.7.5",e),Er(Qf,"4.7.5","esm2017")})();const m4={apiKey:"AIzaSyCIa_sQ8TnjGO72ra239qSbDn0mi5ptKp4",authDomain:"msgproject-6bb1b.firebaseapp.com",projectId:"msgproject-6bb1b",storageBucket:"msgproject-6bb1b.firebasestorage.app",messagingSenderId:"415306949299",appId:"1:415306949299:web:a51d0732bad68442a0c6c6"},g4=Qm(m4),os=XA(g4);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var I_;function se(){return I_.apply(null,arguments)}function _4(t){I_=t}function yn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function as(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function G0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(He(t,e))return!1;return!0}function Kt(t){return t===void 0}function sr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function wo(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function S_(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function gr(t,e){for(var n in e)He(e,n)&&(t[n]=e[n]);return He(e,"toString")&&(t.toString=e.toString),He(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Vn(t,e,n,r){return Z_(t,e,n,r,!0).utc()}function x4(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function be(t){return t._pf==null&&(t._pf=x4()),t._pf}var Vu;Array.prototype.some?Vu=Array.prototype.some:Vu=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function K0(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=be(t),n=Vu.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function rc(t){var e=Vn(NaN);return t!=null?gr(be(e),t):be(e).userInvalidated=!0,e}var Nd=se.momentProperties=[],Yc=!1;function Q0(t,e){var n,r,s,i=Nd.length;if(Kt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Kt(e._i)||(t._i=e._i),Kt(e._f)||(t._f=e._f),Kt(e._l)||(t._l=e._l),Kt(e._strict)||(t._strict=e._strict),Kt(e._tzm)||(t._tzm=e._tzm),Kt(e._isUTC)||(t._isUTC=e._isUTC),Kt(e._offset)||(t._offset=e._offset),Kt(e._pf)||(t._pf=be(e)),Kt(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=Nd[n],s=e[r],Kt(s)||(t[r]=s);return t}function Ao(t){Q0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Yc===!1&&(Yc=!0,se.updateOffset(this),Yc=!1)}function En(t){return t instanceof Ao||t!=null&&t._isAMomentObject!=null}function R_(t){se.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function fn(t,e){var n=!0;return gr(function(){if(se.deprecationHandler!=null&&se.deprecationHandler(null,t),n){var r=[],s,i,o,l=arguments.length;for(i=0;i<l;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])He(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}R_(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Ld={};function k_(t,e){se.deprecationHandler!=null&&se.deprecationHandler(t,e),Ld[t]||(R_(e),Ld[t]=!0)}se.suppressDeprecationWarnings=!1;se.deprecationHandler=null;function Nn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function v4(t){var e,n;for(n in t)He(t,n)&&(e=t[n],Nn(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Nu(t,e){var n=gr({},t),r;for(r in e)He(e,r)&&(as(t[r])&&as(e[r])?(n[r]={},gr(n[r],t[r]),gr(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)He(t,r)&&!He(e,r)&&as(t[r])&&(n[r]=gr({},n[r]));return n}function X0(t){t!=null&&this.set(t)}var Lu;Object.keys?Lu=Object.keys:Lu=function(t){var e,n=[];for(e in t)He(t,e)&&n.push(e);return n};var y4={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function E4(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Nn(r)?r.call(e,n):r}function On(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Z0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ta=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gc={},zs={};function pe(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(zs[t]=s),e&&(zs[e[0]]=function(){return On(s.apply(this,arguments),e[1],e[2])}),n&&(zs[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function w4(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function A4(t){var e=t.match(Z0),n,r;for(n=0,r=e.length;n<r;n++)zs[e[n]]?e[n]=zs[e[n]]:e[n]=w4(e[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=Nn(e[o])?e[o].call(s,t):e[o];return i}}function xa(t,e){return t.isValid()?(e=P_(e,t.localeData()),Gc[e]=Gc[e]||A4(e),Gc[e](t)):t.localeData().invalidDate()}function P_(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(ta.lastIndex=0;n>=0&&ta.test(t);)t=t.replace(ta,r),ta.lastIndex=0,n-=1;return t}var T4={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function b4(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Z0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var C4="Invalid date";function D4(){return this._invalidDate}var I4="%d",S4=/\d{1,2}/;function R4(t){return this._ordinal.replace("%d",t)}var k4={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function P4(t,e,n,r){var s=this._relativeTime[n];return Nn(s)?s(t,e,n,r):s.replace(/%d/i,t)}function F4(t,e){var n=this._relativeTime[t>0?"future":"past"];return Nn(n)?n(e):n.replace(/%s/i,e)}var Ud={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dn(t){return typeof t=="string"?Ud[t]||Ud[t.toLowerCase()]:void 0}function J0(t){var e={},n,r;for(r in t)He(t,r)&&(n=dn(r),n&&(e[n]=t[r]));return e}var B4={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function M4(t){var e=[],n;for(n in t)He(t,n)&&e.push({unit:n,priority:B4[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var F_=/\d/,ln=/\d\d/,B_=/\d{3}/,eh=/\d{4}/,sc=/[+-]?\d{6}/,et=/\d\d?/,M_=/\d\d\d\d?/,O_=/\d\d\d\d\d\d?/,ic=/\d{1,3}/,th=/\d{1,4}/,oc=/[+-]?\d{1,6}/,ci=/\d+/,ac=/[+-]?\d+/,O4=/Z|[+-]\d\d:?\d\d/gi,lc=/Z|[+-]\d\d(?::?\d\d)?/gi,V4=/[+-]?\d+(\.\d{1,3})?/,To=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ui=/^[1-9]\d?/,nh=/^([1-9]\d|\d)/,El;El={};function le(t,e,n){El[t]=Nn(e)?e:function(r,s){return r&&n?n:e}}function N4(t,e){return He(El,t)?El[t](e._strict,e._locale):new RegExp(L4(t))}function L4(t){return Zn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function Zn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function cn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Pe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=cn(e)),n}var Uu={};function We(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),sr(e)&&(r=function(i,o){o[e]=Pe(i)}),s=t.length,n=0;n<s;n++)Uu[t[n]]=r}function bo(t,e){We(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function U4(t,e,n){e!=null&&He(Uu,t)&&Uu[t](e,n._a,n,t)}function cc(t){return t%4===0&&t%100!==0||t%400===0}var Ht=0,Qn=1,In=2,yt=3,mn=4,Xn=5,ns=6,H4=7,$4=8;pe("Y",0,0,function(){var t=this.year();return t<=9999?On(t,4):"+"+t});pe(0,["YY",2],0,function(){return this.year()%100});pe(0,["YYYY",4],0,"year");pe(0,["YYYYY",5],0,"year");pe(0,["YYYYYY",6,!0],0,"year");le("Y",ac);le("YY",et,ln);le("YYYY",th,eh);le("YYYYY",oc,sc);le("YYYYYY",oc,sc);We(["YYYYY","YYYYYY"],Ht);We("YYYY",function(t,e){e[Ht]=t.length===2?se.parseTwoDigitYear(t):Pe(t)});We("YY",function(t,e){e[Ht]=se.parseTwoDigitYear(t)});We("Y",function(t,e){e[Ht]=parseInt(t,10)});function Wi(t){return cc(t)?366:365}se.parseTwoDigitYear=function(t){return Pe(t)+(Pe(t)>68?1900:2e3)};var V_=hi("FullYear",!0);function q4(){return cc(this.year())}function hi(t,e){return function(n){return n!=null?(N_(this,t,n),se.updateOffset(this,e),this):co(this,t)}}function co(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function N_(t,e,n){var r,s,i,o,l;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,o=t.month(),l=t.date(),l=l===29&&o===1&&!cc(i)?28:l,s?r.setUTCFullYear(i,o,l):r.setFullYear(i,o,l)}}function j4(t){return t=dn(t),Nn(this[t])?this[t]():this}function z4(t,e){if(typeof t=="object"){t=J0(t);var n=M4(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=dn(t),Nn(this[t]))return this[t](e);return this}function W4(t,e){return(t%e+e)%e}var lt;Array.prototype.indexOf?lt=Array.prototype.indexOf:lt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function rh(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=W4(e,12);return t+=(e-n)/12,n===1?cc(t)?29:28:31-n%7%2}pe("M",["MM",2],"Mo",function(){return this.month()+1});pe("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});pe("MMMM",0,0,function(t){return this.localeData().months(this,t)});le("M",et,ui);le("MM",et,ln);le("MMM",function(t,e){return e.monthsShortRegex(t)});le("MMMM",function(t,e){return e.monthsRegex(t)});We(["M","MM"],function(t,e){e[Qn]=Pe(t)-1});We(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Qn]=s:be(n).invalidMonth=t});var Y4="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),L_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),U_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,G4=To,K4=To;function Q4(t,e){return t?yn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||U_).test(e)?"format":"standalone"][t.month()]:yn(this._months)?this._months:this._months.standalone}function X4(t,e){return t?yn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[U_.test(e)?"format":"standalone"][t.month()]:yn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Z4(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Vn([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=lt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=lt.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=lt.call(this._shortMonthsParse,o),s!==-1?s:(s=lt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=lt.call(this._longMonthsParse,o),s!==-1?s:(s=lt.call(this._shortMonthsParse,o),s!==-1?s:null))}function J4(t,e,n){var r,s,i;if(this._monthsParseExact)return Z4.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Vn([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function H_(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Pe(e);else if(e=t.localeData().monthsParse(e),!sr(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,rh(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function $_(t){return t!=null?(H_(this,t),se.updateOffset(this,!0),this):co(this,"Month")}function eT(){return rh(this.year(),this.month())}function tT(t){return this._monthsParseExact?(He(this,"_monthsRegex")||q_.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(He(this,"_monthsShortRegex")||(this._monthsShortRegex=G4),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function nT(t){return this._monthsParseExact?(He(this,"_monthsRegex")||q_.call(this),t?this._monthsStrictRegex:this._monthsRegex):(He(this,"_monthsRegex")||(this._monthsRegex=K4),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function q_(){function t(c,u){return u.length-c.length}var e=[],n=[],r=[],s,i,o,l;for(s=0;s<12;s++)i=Vn([2e3,s]),o=Zn(this.monthsShort(i,"")),l=Zn(this.months(i,"")),e.push(o),n.push(l),r.push(l),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function rT(t,e,n,r,s,i,o){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,r,s,i,o),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,r,s,i,o),l}function uo(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function wl(t,e,n){var r=7+e-n,s=(7+uo(t,0,r).getUTCDay()-e)%7;return-s+r-1}function j_(t,e,n,r,s){var i=(7+n-r)%7,o=wl(t,r,s),l=1+7*(e-1)+i+o,c,u;return l<=0?(c=t-1,u=Wi(c)+l):l>Wi(t)?(c=t+1,u=l-Wi(t)):(c=t,u=l),{year:c,dayOfYear:u}}function ho(t,e,n){var r=wl(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=t.year()-1,i=s+Jn(o,e,n)):s>Jn(t.year(),e,n)?(i=s-Jn(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function Jn(t,e,n){var r=wl(t,e,n),s=wl(t+1,e,n);return(Wi(t)-r+s)/7}pe("w",["ww",2],"wo","week");pe("W",["WW",2],"Wo","isoWeek");le("w",et,ui);le("ww",et,ln);le("W",et,ui);le("WW",et,ln);bo(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Pe(t)});function sT(t){return ho(t,this._week.dow,this._week.doy).week}var iT={dow:0,doy:6};function oT(){return this._week.dow}function aT(){return this._week.doy}function lT(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function cT(t){var e=ho(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}pe("d",0,"do","day");pe("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});pe("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});pe("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});pe("e",0,0,"weekday");pe("E",0,0,"isoWeekday");le("d",et);le("e",et);le("E",et);le("dd",function(t,e){return e.weekdaysMinRegex(t)});le("ddd",function(t,e){return e.weekdaysShortRegex(t)});le("dddd",function(t,e){return e.weekdaysRegex(t)});bo(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:be(n).invalidWeekday=t});bo(["d","e","E"],function(t,e,n,r){e[r]=Pe(t)});function uT(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function hT(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function sh(t,e){return t.slice(e,7).concat(t.slice(0,e))}var fT="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),z_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dT="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pT=To,mT=To,gT=To;function _T(t,e){var n=yn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?sh(n,this._week.dow):t?n[t.day()]:n}function xT(t){return t===!0?sh(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function vT(t){return t===!0?sh(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function yT(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Vn([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=lt.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=lt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=lt.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=lt.call(this._weekdaysParse,o),s!==-1||(s=lt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=lt.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=lt.call(this._shortWeekdaysParse,o),s!==-1||(s=lt.call(this._weekdaysParse,o),s!==-1)?s:(s=lt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=lt.call(this._minWeekdaysParse,o),s!==-1||(s=lt.call(this._weekdaysParse,o),s!==-1)?s:(s=lt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function ET(t,e,n){var r,s,i;if(this._weekdaysParseExact)return yT.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Vn([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function wT(t){if(!this.isValid())return t!=null?this:NaN;var e=co(this,"Day");return t!=null?(t=uT(t,this.localeData()),this.add(t-e,"d")):e}function AT(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function TT(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=hT(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function bT(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||ih.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(He(this,"_weekdaysRegex")||(this._weekdaysRegex=pT),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function CT(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||ih.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(He(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=mT),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function DT(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||ih.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(He(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=gT),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ih(){function t(h,p){return p.length-h.length}var e=[],n=[],r=[],s=[],i,o,l,c,u;for(i=0;i<7;i++)o=Vn([2e3,1]).day(i),l=Zn(this.weekdaysMin(o,"")),c=Zn(this.weekdaysShort(o,"")),u=Zn(this.weekdays(o,"")),e.push(l),n.push(c),r.push(u),s.push(l),s.push(c),s.push(u);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function oh(){return this.hours()%12||12}function IT(){return this.hours()||24}pe("H",["HH",2],0,"hour");pe("h",["hh",2],0,oh);pe("k",["kk",2],0,IT);pe("hmm",0,0,function(){return""+oh.apply(this)+On(this.minutes(),2)});pe("hmmss",0,0,function(){return""+oh.apply(this)+On(this.minutes(),2)+On(this.seconds(),2)});pe("Hmm",0,0,function(){return""+this.hours()+On(this.minutes(),2)});pe("Hmmss",0,0,function(){return""+this.hours()+On(this.minutes(),2)+On(this.seconds(),2)});function W_(t,e){pe(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}W_("a",!0);W_("A",!1);function Y_(t,e){return e._meridiemParse}le("a",Y_);le("A",Y_);le("H",et,nh);le("h",et,ui);le("k",et,ui);le("HH",et,ln);le("hh",et,ln);le("kk",et,ln);le("hmm",M_);le("hmmss",O_);le("Hmm",M_);le("Hmmss",O_);We(["H","HH"],yt);We(["k","kk"],function(t,e,n){var r=Pe(t);e[yt]=r===24?0:r});We(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});We(["h","hh"],function(t,e,n){e[yt]=Pe(t),be(n).bigHour=!0});We("hmm",function(t,e,n){var r=t.length-2;e[yt]=Pe(t.substr(0,r)),e[mn]=Pe(t.substr(r)),be(n).bigHour=!0});We("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[yt]=Pe(t.substr(0,r)),e[mn]=Pe(t.substr(r,2)),e[Xn]=Pe(t.substr(s)),be(n).bigHour=!0});We("Hmm",function(t,e,n){var r=t.length-2;e[yt]=Pe(t.substr(0,r)),e[mn]=Pe(t.substr(r))});We("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[yt]=Pe(t.substr(0,r)),e[mn]=Pe(t.substr(r,2)),e[Xn]=Pe(t.substr(s))});function ST(t){return(t+"").toLowerCase().charAt(0)==="p"}var RT=/[ap]\.?m?\.?/i,kT=hi("Hours",!0);function PT(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var G_={calendar:y4,longDateFormat:T4,invalidDate:C4,ordinal:I4,dayOfMonthOrdinalParse:S4,relativeTime:k4,months:Y4,monthsShort:L_,week:iT,weekdays:fT,weekdaysMin:dT,weekdaysShort:z_,meridiemParse:RT},nt={},Di={},fo;function FT(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Hd(t){return t&&t.toLowerCase().replace("_","-")}function BT(t){for(var e=0,n,r,s,i;e<t.length;){for(i=Hd(t[e]).split("-"),n=i.length,r=Hd(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=uc(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&FT(i,r)>=n-1)break;n--}e++}return fo}function MT(t){return!!(t&&t.match("^[^/\\\\]*$"))}function uc(t){var e=null,n;if(nt[t]===void 0&&typeof rl<"u"&&rl&&rl.exports&&MT(t))try{e=fo._abbr,n=require,n("./locale/"+t),Tr(e)}catch{nt[t]=null}return nt[t]}function Tr(t,e){var n;return t&&(Kt(e)?n=or(t):n=ah(t,e),n?fo=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),fo._abbr}function ah(t,e){if(e!==null){var n,r=G_;if(e.abbr=t,nt[t]!=null)k_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nt[t]._config;else if(e.parentLocale!=null)if(nt[e.parentLocale]!=null)r=nt[e.parentLocale]._config;else if(n=uc(e.parentLocale),n!=null)r=n._config;else return Di[e.parentLocale]||(Di[e.parentLocale]=[]),Di[e.parentLocale].push({name:t,config:e}),null;return nt[t]=new X0(Nu(r,e)),Di[t]&&Di[t].forEach(function(s){ah(s.name,s.config)}),Tr(t),nt[t]}else return delete nt[t],null}function OT(t,e){if(e!=null){var n,r,s=G_;nt[t]!=null&&nt[t].parentLocale!=null?nt[t].set(Nu(nt[t]._config,e)):(r=uc(t),r!=null&&(s=r._config),e=Nu(s,e),r==null&&(e.abbr=t),n=new X0(e),n.parentLocale=nt[t],nt[t]=n),Tr(t)}else nt[t]!=null&&(nt[t].parentLocale!=null?(nt[t]=nt[t].parentLocale,t===Tr()&&Tr(t)):nt[t]!=null&&delete nt[t]);return nt[t]}function or(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fo;if(!yn(t)){if(e=uc(t),e)return e;t=[t]}return BT(t)}function VT(){return Lu(nt)}function lh(t){var e,n=t._a;return n&&be(t).overflow===-2&&(e=n[Qn]<0||n[Qn]>11?Qn:n[In]<1||n[In]>rh(n[Ht],n[Qn])?In:n[yt]<0||n[yt]>24||n[yt]===24&&(n[mn]!==0||n[Xn]!==0||n[ns]!==0)?yt:n[mn]<0||n[mn]>59?mn:n[Xn]<0||n[Xn]>59?Xn:n[ns]<0||n[ns]>999?ns:-1,be(t)._overflowDayOfYear&&(e<Ht||e>In)&&(e=In),be(t)._overflowWeeks&&e===-1&&(e=H4),be(t)._overflowWeekday&&e===-1&&(e=$4),be(t).overflow=e),t}var NT=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LT=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,UT=/Z|[+-]\d\d(?::?\d\d)?/,na=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],HT=/^\/?Date\((-?\d+)/i,$T=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qT={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K_(t){var e,n,r=t._i,s=NT.exec(r)||LT.exec(r),i,o,l,c,u=na.length,h=Kc.length;if(s){for(be(t).iso=!0,e=0,n=u;e<n;e++)if(na[e][1].exec(s[1])){o=na[e][0],i=na[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(s[3]){for(e=0,n=h;e<n;e++)if(Kc[e][1].exec(s[3])){l=(s[2]||" ")+Kc[e][0];break}if(l==null){t._isValid=!1;return}}if(!i&&l!=null){t._isValid=!1;return}if(s[4])if(UT.exec(s[4]))c="Z";else{t._isValid=!1;return}t._f=o+(l||"")+(c||""),uh(t)}else t._isValid=!1}function jT(t,e,n,r,s,i){var o=[zT(t),L_.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function zT(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function WT(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function YT(t,e,n){if(t){var r=z_.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return be(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function GT(t,e,n){if(t)return qT[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function Q_(t){var e=$T.exec(WT(t._i)),n;if(e){if(n=jT(e[4],e[3],e[2],e[5],e[6],e[7]),!YT(e[1],n,t))return;t._a=n,t._tzm=GT(e[8],e[9],e[10]),t._d=uo.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),be(t).rfc2822=!0}else t._isValid=!1}function KT(t){var e=HT.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(K_(t),t._isValid===!1)delete t._isValid;else return;if(Q_(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:se.createFromInputFallback(t)}se.createFromInputFallback=fn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ms(t,e,n){return t??e??n}function QT(t){var e=new Date(se.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ch(t){var e,n,r=[],s,i,o;if(!t._d){for(s=QT(t),t._w&&t._a[In]==null&&t._a[Qn]==null&&XT(t),t._dayOfYear!=null&&(o=Ms(t._a[Ht],s[Ht]),(t._dayOfYear>Wi(o)||t._dayOfYear===0)&&(be(t)._overflowDayOfYear=!0),n=uo(o,0,t._dayOfYear),t._a[Qn]=n.getUTCMonth(),t._a[In]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[yt]===24&&t._a[mn]===0&&t._a[Xn]===0&&t._a[ns]===0&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?uo:rT).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(be(t).weekdayMismatch=!0)}}function XT(t){var e,n,r,s,i,o,l,c,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=Ms(e.GG,t._a[Ht],ho(Ze(),1,4).year),r=Ms(e.W,1),s=Ms(e.E,1),(s<1||s>7)&&(c=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,u=ho(Ze(),i,o),n=Ms(e.gg,t._a[Ht],u.year),r=Ms(e.w,u.week),e.d!=null?(s=e.d,(s<0||s>6)&&(c=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(c=!0)):s=i),r<1||r>Jn(n,i,o)?be(t)._overflowWeeks=!0:c!=null?be(t)._overflowWeekday=!0:(l=j_(n,r,s,i,o),t._a[Ht]=l.year,t._dayOfYear=l.dayOfYear)}se.ISO_8601=function(){};se.RFC_2822=function(){};function uh(t){if(t._f===se.ISO_8601){K_(t);return}if(t._f===se.RFC_2822){Q_(t);return}t._a=[],be(t).empty=!0;var e=""+t._i,n,r,s,i,o,l=e.length,c=0,u,h;for(s=P_(t._f,t._locale).match(Z0)||[],h=s.length,n=0;n<h;n++)i=s[n],r=(e.match(N4(i,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&be(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),c+=r.length),zs[i]?(r?be(t).empty=!1:be(t).unusedTokens.push(i),U4(i,r,t)):t._strict&&!r&&be(t).unusedTokens.push(i);be(t).charsLeftOver=l-c,e.length>0&&be(t).unusedInput.push(e),t._a[yt]<=12&&be(t).bigHour===!0&&t._a[yt]>0&&(be(t).bigHour=void 0),be(t).parsedDateParts=t._a.slice(0),be(t).meridiem=t._meridiem,t._a[yt]=ZT(t._locale,t._a[yt],t._meridiem),u=be(t).era,u!==null&&(t._a[Ht]=t._locale.erasConvertYear(u,t._a[Ht])),ch(t),lh(t)}function ZT(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function JT(t){var e,n,r,s,i,o,l=!1,c=t._f.length;if(c===0){be(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<c;s++)i=0,o=!1,e=Q0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],uh(e),K0(e)&&(o=!0),i+=be(e).charsLeftOver,i+=be(e).unusedTokens.length*10,be(e).score=i,l?i<r&&(r=i,n=e):(r==null||i<r||o)&&(r=i,n=e,o&&(l=!0));gr(t,n||e)}function eb(t){if(!t._d){var e=J0(t._i),n=e.day===void 0?e.date:e.day;t._a=S_([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),ch(t)}}function tb(t){var e=new Ao(lh(X_(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function X_(t){var e=t._i,n=t._f;return t._locale=t._locale||or(t._l),e===null||n===void 0&&e===""?rc({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),En(e)?new Ao(lh(e)):(wo(e)?t._d=e:yn(n)?JT(t):n?uh(t):nb(t),K0(t)||(t._d=null),t))}function nb(t){var e=t._i;Kt(e)?t._d=new Date(se.now()):wo(e)?t._d=new Date(e.valueOf()):typeof e=="string"?KT(t):yn(e)?(t._a=S_(e.slice(0),function(n){return parseInt(n,10)}),ch(t)):as(e)?eb(t):sr(e)?t._d=new Date(e):se.createFromInputFallback(t)}function Z_(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(as(t)&&G0(t)||yn(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,tb(i)}function Ze(t,e,n,r){return Z_(t,e,n,r,!1)}var rb=fn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ze.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:rc()}),sb=fn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ze.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:rc()});function J_(t,e){var n,r;if(e.length===1&&yn(e[0])&&(e=e[0]),!e.length)return Ze();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function ib(){var t=[].slice.call(arguments,0);return J_("isBefore",t)}function ob(){var t=[].slice.call(arguments,0);return J_("isAfter",t)}var ab=function(){return Date.now?Date.now():+new Date},Ii=["year","quarter","month","week","day","hour","minute","second","millisecond"];function lb(t){var e,n=!1,r,s=Ii.length;for(e in t)if(He(t,e)&&!(lt.call(Ii,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[Ii[r]]){if(n)return!1;parseFloat(t[Ii[r]])!==Pe(t[Ii[r]])&&(n=!0)}return!0}function cb(){return this._isValid}function ub(){return wn(NaN)}function hc(t){var e=J0(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=lb(e),this._milliseconds=+h+u*1e3+c*6e4+l*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=or(),this._bubble()}function va(t){return t instanceof hc}function Hu(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function hb(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,o;for(o=0;o<r;o++)Pe(t[o])!==Pe(e[o])&&i++;return i+s}function ex(t,e){pe(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+On(~~(n/60),2)+e+On(~~n%60,2)})}ex("Z",":");ex("ZZ","");le("Z",lc);le("ZZ",lc);We(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=hh(lc,t)});var fb=/([\+\-]|\d\d)/gi;function hh(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(fb)||["-",0,0],i=+(s[1]*60)+Pe(s[2]),i===0?0:s[0]==="+"?i:-i)}function fh(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(En(t)||wo(t)?t.valueOf():Ze(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),se.updateOffset(n,!1),n):Ze(t).local()}function $u(t){return-Math.round(t._d.getTimezoneOffset())}se.updateOffset=function(){};function db(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=hh(lc,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=$u(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?rx(this,wn(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,se.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:$u(this)}function pb(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function mb(t){return this.utcOffset(0,t)}function gb(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($u(this),"m")),this}function _b(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=hh(O4,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function xb(t){return this.isValid()?(t=t?Ze(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function vb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function yb(){if(!Kt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Q0(t,this),t=X_(t),t._a?(e=t._isUTC?Vn(t._a):Ze(t._a),this._isDSTShifted=this.isValid()&&hb(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Eb(){return this.isValid()?!this._isUTC:!1}function wb(){return this.isValid()?this._isUTC:!1}function tx(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ab=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wn(t,e){var n=t,r=null,s,i,o;return va(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:sr(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Ab.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Pe(r[In])*s,h:Pe(r[yt])*s,m:Pe(r[mn])*s,s:Pe(r[Xn])*s,ms:Pe(Hu(r[ns]*1e3))*s}):(r=Tb.exec(t))?(s=r[1]==="-"?-1:1,n={y:Xr(r[2],s),M:Xr(r[3],s),w:Xr(r[4],s),d:Xr(r[5],s),h:Xr(r[6],s),m:Xr(r[7],s),s:Xr(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=bb(Ze(n.from),Ze(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new hc(n),va(t)&&He(t,"_locale")&&(i._locale=t._locale),va(t)&&He(t,"_isValid")&&(i._isValid=t._isValid),i}wn.fn=hc.prototype;wn.invalid=ub;function Xr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function $d(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function bb(t,e){var n;return t.isValid()&&e.isValid()?(e=fh(e,t),t.isBefore(e)?n=$d(t,e):(n=$d(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nx(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(k_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=wn(n,r),rx(this,s,t),this}}function rx(t,e,n,r){var s=e._milliseconds,i=Hu(e._days),o=Hu(e._months);t.isValid()&&(r=r??!0,o&&H_(t,co(t,"Month")+o*n),i&&N_(t,"Date",co(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&se.updateOffset(t,i||o))}var Cb=nx(1,"add"),Db=nx(-1,"subtract");function sx(t){return typeof t=="string"||t instanceof String}function Ib(t){return En(t)||wo(t)||sx(t)||sr(t)||Rb(t)||Sb(t)||t===null||t===void 0}function Sb(t){var e=as(t)&&!G0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||He(t,i);return e&&n}function Rb(t){var e=yn(t),n=!1;return e&&(n=t.filter(function(r){return!sr(r)&&sx(t)}).length===0),e&&n}function kb(t){var e=as(t)&&!G0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||He(t,i);return e&&n}function Pb(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fb(t,e){arguments.length===1&&(arguments[0]?Ib(arguments[0])?(t=arguments[0],e=void 0):kb(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ze(),r=fh(n,this).startOf("day"),s=se.calendarFormat(this,r)||"sameElse",i=e&&(Nn(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,Ze(n)))}function Bb(){return new Ao(this)}function Mb(t,e){var n=En(t)?t:Ze(t);return this.isValid()&&n.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Ob(t,e){var n=En(t)?t:Ze(t);return this.isValid()&&n.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Vb(t,e,n,r){var s=En(t)?t:Ze(t),i=En(e)?e:Ze(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Nb(t,e){var n=En(t)?t:Ze(t),r;return this.isValid()&&n.isValid()?(e=dn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Lb(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ub(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Hb(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=fh(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=dn(e),e){case"year":i=ya(this,r)/12;break;case"month":i=ya(this,r);break;case"quarter":i=ya(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:cn(i)}function ya(t,e){if(t.date()<e.date())return-ya(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}se.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";se.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $b(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qb(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?xa(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Nn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xa(n,"Z")):xa(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jb(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function zb(t){t||(t=this.isUtc()?se.defaultFormatUtc:se.defaultFormat);var e=xa(this,t);return this.localeData().postformat(e)}function Wb(t,e){return this.isValid()&&(En(t)&&t.isValid()||Ze(t).isValid())?wn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Yb(t){return this.from(Ze(),t)}function Gb(t,e){return this.isValid()&&(En(t)&&t.isValid()||Ze(t).isValid())?wn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Kb(t){return this.to(Ze(),t)}function ix(t){var e;return t===void 0?this._locale._abbr:(e=or(t),e!=null&&(this._locale=e),this)}var ox=fn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function ax(){return this._locale}var Al=1e3,Ws=60*Al,Tl=60*Ws,lx=(365*400+97)*24*Tl;function Ys(t,e){return(t%e+e)%e}function cx(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-lx:new Date(t,e,n).valueOf()}function ux(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-lx:Date.UTC(t,e,n)}function Qb(t){var e,n;if(t=dn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ux:cx,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ys(e+(this._isUTC?0:this.utcOffset()*Ws),Tl);break;case"minute":e=this._d.valueOf(),e-=Ys(e,Ws);break;case"second":e=this._d.valueOf(),e-=Ys(e,Al);break}return this._d.setTime(e),se.updateOffset(this,!0),this}function Xb(t){var e,n;if(t=dn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ux:cx,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Tl-Ys(e+(this._isUTC?0:this.utcOffset()*Ws),Tl)-1;break;case"minute":e=this._d.valueOf(),e+=Ws-Ys(e,Ws)-1;break;case"second":e=this._d.valueOf(),e+=Al-Ys(e,Al)-1;break}return this._d.setTime(e),se.updateOffset(this,!0),this}function Zb(){return this._d.valueOf()-(this._offset||0)*6e4}function Jb(){return Math.floor(this.valueOf()/1e3)}function eC(){return new Date(this.valueOf())}function tC(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function nC(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function rC(){return this.isValid()?this.toISOString():null}function sC(){return K0(this)}function iC(){return gr({},be(this))}function oC(){return be(this).overflow}function aC(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}pe("N",0,0,"eraAbbr");pe("NN",0,0,"eraAbbr");pe("NNN",0,0,"eraAbbr");pe("NNNN",0,0,"eraName");pe("NNNNN",0,0,"eraNarrow");pe("y",["y",1],"yo","eraYear");pe("y",["yy",2],0,"eraYear");pe("y",["yyy",3],0,"eraYear");pe("y",["yyyy",4],0,"eraYear");le("N",dh);le("NN",dh);le("NNN",dh);le("NNNN",xC);le("NNNNN",vC);We(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?be(n).era=s:be(n).invalidEra=t});le("y",ci);le("yy",ci);le("yyy",ci);le("yyyy",ci);le("yo",yC);We(["y","yy","yyy","yyyy"],Ht);We(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ht]=n._locale.eraYearOrdinalParse(t,s):e[Ht]=parseInt(t,10)});function lC(t,e){var n,r,s,i=this._eras||or("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=se(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=se(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function cC(t,e,n){var r,s,i=this.eras(),o,l,c;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),l=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return i[r];break;case"NNNN":if(o===t)return i[r];break;case"NNNNN":if(c===t)return i[r];break}else if([o,l,c].indexOf(t)>=0)return i[r]}function uC(t,e){var n=t.since<=t.until?1:-1;return e===void 0?se(t.since).year():se(t.since).year()+(e-t.offset)*n}function hC(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function fC(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function dC(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function pC(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-se(s[t].since).year())*n+s[t].offset;return this.year()}function mC(t){return He(this,"_erasNameRegex")||ph.call(this),t?this._erasNameRegex:this._erasRegex}function gC(t){return He(this,"_erasAbbrRegex")||ph.call(this),t?this._erasAbbrRegex:this._erasRegex}function _C(t){return He(this,"_erasNarrowRegex")||ph.call(this),t?this._erasNarrowRegex:this._erasRegex}function dh(t,e){return e.erasAbbrRegex(t)}function xC(t,e){return e.erasNameRegex(t)}function vC(t,e){return e.erasNarrowRegex(t)}function yC(t,e){return e._eraYearOrdinalRegex||ci}function ph(){var t=[],e=[],n=[],r=[],s,i,o,l,c,u=this.eras();for(s=0,i=u.length;s<i;++s)o=Zn(u[s].name),l=Zn(u[s].abbr),c=Zn(u[s].narrow),e.push(o),t.push(l),n.push(c),r.push(o),r.push(l),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}pe(0,["gg",2],0,function(){return this.weekYear()%100});pe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function fc(t,e){pe(0,[t,t.length],0,e)}fc("gggg","weekYear");fc("ggggg","weekYear");fc("GGGG","isoWeekYear");fc("GGGGG","isoWeekYear");le("G",ac);le("g",ac);le("GG",et,ln);le("gg",et,ln);le("GGGG",th,eh);le("gggg",th,eh);le("GGGGG",oc,sc);le("ggggg",oc,sc);bo(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Pe(t)});bo(["gg","GG"],function(t,e,n,r){e[r]=se.parseTwoDigitYear(t)});function EC(t){return hx.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function wC(t){return hx.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function AC(){return Jn(this.year(),1,4)}function TC(){return Jn(this.isoWeekYear(),1,4)}function bC(){var t=this.localeData()._week;return Jn(this.year(),t.dow,t.doy)}function CC(){var t=this.localeData()._week;return Jn(this.weekYear(),t.dow,t.doy)}function hx(t,e,n,r,s){var i;return t==null?ho(this,r,s).year:(i=Jn(t,r,s),e>i&&(e=i),DC.call(this,t,e,n,r,s))}function DC(t,e,n,r,s){var i=j_(t,e,n,r,s),o=uo(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}pe("Q",0,"Qo","quarter");le("Q",F_);We("Q",function(t,e){e[Qn]=(Pe(t)-1)*3});function IC(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}pe("D",["DD",2],"Do","date");le("D",et,ui);le("DD",et,ln);le("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});We(["D","DD"],In);We("Do",function(t,e){e[In]=Pe(t.match(et)[0])});var fx=hi("Date",!0);pe("DDD",["DDDD",3],"DDDo","dayOfYear");le("DDD",ic);le("DDDD",B_);We(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Pe(t)});function SC(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}pe("m",["mm",2],0,"minute");le("m",et,nh);le("mm",et,ln);We(["m","mm"],mn);var RC=hi("Minutes",!1);pe("s",["ss",2],0,"second");le("s",et,nh);le("ss",et,ln);We(["s","ss"],Xn);var kC=hi("Seconds",!1);pe("S",0,0,function(){return~~(this.millisecond()/100)});pe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});pe(0,["SSS",3],0,"millisecond");pe(0,["SSSS",4],0,function(){return this.millisecond()*10});pe(0,["SSSSS",5],0,function(){return this.millisecond()*100});pe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});pe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});pe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});pe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});le("S",ic,F_);le("SS",ic,ln);le("SSS",ic,B_);var _r,dx;for(_r="SSSS";_r.length<=9;_r+="S")le(_r,ci);function PC(t,e){e[ns]=Pe(("0."+t)*1e3)}for(_r="S";_r.length<=9;_r+="S")We(_r,PC);dx=hi("Milliseconds",!1);pe("z",0,0,"zoneAbbr");pe("zz",0,0,"zoneName");function FC(){return this._isUTC?"UTC":""}function BC(){return this._isUTC?"Coordinated Universal Time":""}var Q=Ao.prototype;Q.add=Cb;Q.calendar=Fb;Q.clone=Bb;Q.diff=Hb;Q.endOf=Xb;Q.format=zb;Q.from=Wb;Q.fromNow=Yb;Q.to=Gb;Q.toNow=Kb;Q.get=j4;Q.invalidAt=oC;Q.isAfter=Mb;Q.isBefore=Ob;Q.isBetween=Vb;Q.isSame=Nb;Q.isSameOrAfter=Lb;Q.isSameOrBefore=Ub;Q.isValid=sC;Q.lang=ox;Q.locale=ix;Q.localeData=ax;Q.max=sb;Q.min=rb;Q.parsingFlags=iC;Q.set=z4;Q.startOf=Qb;Q.subtract=Db;Q.toArray=tC;Q.toObject=nC;Q.toDate=eC;Q.toISOString=qb;Q.inspect=jb;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=rC;Q.toString=$b;Q.unix=Jb;Q.valueOf=Zb;Q.creationData=aC;Q.eraName=hC;Q.eraNarrow=fC;Q.eraAbbr=dC;Q.eraYear=pC;Q.year=V_;Q.isLeapYear=q4;Q.weekYear=EC;Q.isoWeekYear=wC;Q.quarter=Q.quarters=IC;Q.month=$_;Q.daysInMonth=eT;Q.week=Q.weeks=lT;Q.isoWeek=Q.isoWeeks=cT;Q.weeksInYear=bC;Q.weeksInWeekYear=CC;Q.isoWeeksInYear=AC;Q.isoWeeksInISOWeekYear=TC;Q.date=fx;Q.day=Q.days=wT;Q.weekday=AT;Q.isoWeekday=TT;Q.dayOfYear=SC;Q.hour=Q.hours=kT;Q.minute=Q.minutes=RC;Q.second=Q.seconds=kC;Q.millisecond=Q.milliseconds=dx;Q.utcOffset=db;Q.utc=mb;Q.local=gb;Q.parseZone=_b;Q.hasAlignedHourOffset=xb;Q.isDST=vb;Q.isLocal=Eb;Q.isUtcOffset=wb;Q.isUtc=tx;Q.isUTC=tx;Q.zoneAbbr=FC;Q.zoneName=BC;Q.dates=fn("dates accessor is deprecated. Use date instead.",fx);Q.months=fn("months accessor is deprecated. Use month instead",$_);Q.years=fn("years accessor is deprecated. Use year instead",V_);Q.zone=fn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pb);Q.isDSTShifted=fn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",yb);function MC(t){return Ze(t*1e3)}function OC(){return Ze.apply(null,arguments).parseZone()}function px(t){return t}var $e=X0.prototype;$e.calendar=E4;$e.longDateFormat=b4;$e.invalidDate=D4;$e.ordinal=R4;$e.preparse=px;$e.postformat=px;$e.relativeTime=P4;$e.pastFuture=F4;$e.set=v4;$e.eras=lC;$e.erasParse=cC;$e.erasConvertYear=uC;$e.erasAbbrRegex=gC;$e.erasNameRegex=mC;$e.erasNarrowRegex=_C;$e.months=Q4;$e.monthsShort=X4;$e.monthsParse=J4;$e.monthsRegex=nT;$e.monthsShortRegex=tT;$e.week=sT;$e.firstDayOfYear=aT;$e.firstDayOfWeek=oT;$e.weekdays=_T;$e.weekdaysMin=vT;$e.weekdaysShort=xT;$e.weekdaysParse=ET;$e.weekdaysRegex=bT;$e.weekdaysShortRegex=CT;$e.weekdaysMinRegex=DT;$e.isPM=ST;$e.meridiem=PT;function bl(t,e,n,r){var s=or(),i=Vn().set(r,e);return s[n](i,t)}function mx(t,e,n){if(sr(t)&&(e=t,t=void 0),t=t||"",e!=null)return bl(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=bl(t,r,n,"month");return s}function mh(t,e,n,r){typeof t=="boolean"?(sr(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,sr(e)&&(n=e,e=void 0),e=e||"");var s=or(),i=t?s._week.dow:0,o,l=[];if(n!=null)return bl(e,(n+i)%7,r,"day");for(o=0;o<7;o++)l[o]=bl(e,(o+i)%7,r,"day");return l}function VC(t,e){return mx(t,e,"months")}function NC(t,e){return mx(t,e,"monthsShort")}function LC(t,e,n){return mh(t,e,n,"weekdays")}function UC(t,e,n){return mh(t,e,n,"weekdaysShort")}function HC(t,e,n){return mh(t,e,n,"weekdaysMin")}Tr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Pe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});se.lang=fn("moment.lang is deprecated. Use moment.locale instead.",Tr);se.langData=fn("moment.langData is deprecated. Use moment.localeData instead.",or);var jn=Math.abs;function $C(){var t=this._data;return this._milliseconds=jn(this._milliseconds),this._days=jn(this._days),this._months=jn(this._months),t.milliseconds=jn(t.milliseconds),t.seconds=jn(t.seconds),t.minutes=jn(t.minutes),t.hours=jn(t.hours),t.months=jn(t.months),t.years=jn(t.years),this}function gx(t,e,n,r){var s=wn(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function qC(t,e){return gx(this,t,e,1)}function jC(t,e){return gx(this,t,e,-1)}function qd(t){return t<0?Math.floor(t):Math.ceil(t)}function zC(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,o,l,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=qd(qu(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=cn(t/1e3),r.seconds=s%60,i=cn(s/60),r.minutes=i%60,o=cn(i/60),r.hours=o%24,e+=cn(o/24),c=cn(_x(e)),n+=c,e-=qd(qu(c)),l=cn(n/12),n%=12,r.days=e,r.months=n,r.years=l,this}function _x(t){return t*4800/146097}function qu(t){return t*146097/4800}function WC(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=dn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+_x(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(qu(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ar(t){return function(){return this.as(t)}}var xx=ar("ms"),YC=ar("s"),GC=ar("m"),KC=ar("h"),QC=ar("d"),XC=ar("w"),ZC=ar("M"),JC=ar("Q"),eD=ar("y"),tD=xx;function nD(){return wn(this)}function rD(t){return t=dn(t),this.isValid()?this[t+"s"]():NaN}function _s(t){return function(){return this.isValid()?this._data[t]:NaN}}var sD=_s("milliseconds"),iD=_s("seconds"),oD=_s("minutes"),aD=_s("hours"),lD=_s("days"),cD=_s("months"),uD=_s("years");function hD(){return cn(this.days()/7)}var Wn=Math.round,Vs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function fD(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function dD(t,e,n,r){var s=wn(t).abs(),i=Wn(s.as("s")),o=Wn(s.as("m")),l=Wn(s.as("h")),c=Wn(s.as("d")),u=Wn(s.as("M")),h=Wn(s.as("w")),p=Wn(s.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(d=d||h<=1&&["w"]||h<n.w&&["ww",h]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||p<=1&&["y"]||["yy",p],d[2]=e,d[3]=+t>0,d[4]=r,fD.apply(null,d)}function pD(t){return t===void 0?Wn:typeof t=="function"?(Wn=t,!0):!1}function mD(t,e){return Vs[t]===void 0?!1:e===void 0?Vs[t]:(Vs[t]=e,t==="s"&&(Vs.ss=e-1),!0)}function gD(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Vs,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Vs,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=dD(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var Qc=Math.abs;function Ds(t){return(t>0)-(t<0)||+t}function dc(){if(!this.isValid())return this.localeData().invalidDate();var t=Qc(this._milliseconds)/1e3,e=Qc(this._days),n=Qc(this._months),r,s,i,o,l=this.asSeconds(),c,u,h,p;return l?(r=cn(t/60),s=cn(r/60),t%=60,r%=60,i=cn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Ds(this._months)!==Ds(l)?"-":"",h=Ds(this._days)!==Ds(l)?"-":"",p=Ds(this._milliseconds)!==Ds(l)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(e?h+e+"D":"")+(s||r||t?"T":"")+(s?p+s+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var Ne=hc.prototype;Ne.isValid=cb;Ne.abs=$C;Ne.add=qC;Ne.subtract=jC;Ne.as=WC;Ne.asMilliseconds=xx;Ne.asSeconds=YC;Ne.asMinutes=GC;Ne.asHours=KC;Ne.asDays=QC;Ne.asWeeks=XC;Ne.asMonths=ZC;Ne.asQuarters=JC;Ne.asYears=eD;Ne.valueOf=tD;Ne._bubble=zC;Ne.clone=nD;Ne.get=rD;Ne.milliseconds=sD;Ne.seconds=iD;Ne.minutes=oD;Ne.hours=aD;Ne.days=lD;Ne.weeks=hD;Ne.months=cD;Ne.years=uD;Ne.humanize=gD;Ne.toISOString=dc;Ne.toString=dc;Ne.toJSON=dc;Ne.locale=ix;Ne.localeData=ax;Ne.toIsoString=fn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dc);Ne.lang=ox;pe("X",0,0,"unix");pe("x",0,0,"valueOf");le("x",ac);le("X",V4);We("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});We("x",function(t,e,n){n._d=new Date(Pe(t))});//! moment.js
se.version="2.30.1";_4(Ze);se.fn=Q;se.min=ib;se.max=ob;se.now=ab;se.utc=Vn;se.unix=MC;se.months=VC;se.isDate=wo;se.locale=Tr;se.invalid=rc;se.duration=wn;se.isMoment=En;se.weekdays=LC;se.parseZone=OC;se.localeData=or;se.isDuration=va;se.monthsShort=NC;se.weekdaysMin=HC;se.defineLocale=ah;se.updateLocale=OT;se.locales=VT;se.weekdaysShort=UC;se.normalizeUnits=dn;se.relativeTimeRounding=pD;se.relativeTimeThreshold=mD;se.calendarFormat=Pb;se.prototype=Q;se.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const _D={class:"flex items-center gap-2 text-sm"},xD={class:"relative flex items-center"},vD={key:0,class:"ml-2"},yD={__name:"LastLoginStatus",props:{otherUserId:{type:String,required:!0}},setup(t){const e=t,n=Re(null),r=Re(!1),s=i=>{if(!i)return"";const o=se(i.seconds*1e3);return se().diff(o,"minutes")<1?"เมื่อสักครู่":o.fromNow()};return Vr(()=>{const i=yo(os,"users",e.otherUserId);W0(i,o=>{var l;if(o.exists()){const c=o.data();n.value=c.lastLogin;const u=new Date;u.setMinutes(u.getMinutes()-5),r.value=((l=c.lastLogin)==null?void 0:l.seconds)*1e3>u.getTime()}})}),(i,o)=>(ge(),ve("div",_D,[L("div",xD,[L("div",{class:kn(["w-2 h-2 rounded-full",r.value?"bg-green-500":"bg-gray-400"])},null,2),n.value?(ge(),ve("span",vD,pt(s(n.value)),1)):Tt("",!0)])]))}},Co=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},ED={class:"flex items-center justify-center h-full w-full"},wD={class:"text-center space-y-6"},AD={class:"flex justify-center gap-6 mt-4"},TD={class:"flex justify-center gap-3 mt-2"},bD={__name:"LoadingAnimation",setup(t){return(e,n)=>(ge(),ve("div",ED,[L("div",wD,[n[1]||(n[1]=Mm('<div class="relative w-48 h-48 mx-auto" data-v-3fd7f8a9><img src="https://firebasestorage.googleapis.com/v0/b/msgproject-6bb1b.firebasestorage.app/o/chat-files%2F1735812327780_bt21-koya.gif?alt=media&amp;token=bd130e0f-c309-4720-a96a-c00f6af82350" alt="BT21 Koya Loading Animation" class="w-full h-full object-contain" data-v-3fd7f8a9></div><div class="flex flex-col items-center gap-2" data-v-3fd7f8a9><div class="text-xl font-bold text-gray-600 animate-pulse tracking-wide" data-v-3fd7f8a9> Loading... </div><div class="text-base text-gray-500" data-v-3fd7f8a9> Nomming eucalyptus leaves... 🌿 </div></div>',2)),L("div",AD,[(ge(),ve(ut,null,Kn(4,r=>L("div",{key:r,class:"w-5 h-5 rounded-full animate-leaf-bounce",style:Cr({backgroundColor:r===1?"#86EFAC":r===2?"#4ADE80":r===3?"#22C55E":"#16A34A",animationDelay:`${(r-1)*.2}s`})},n[0]||(n[0]=[L("div",{class:"w-4 h-3 bg-green-200 rounded-full mx-auto mt-0.5 animate-pulse"},null,-1)]),4)),64))]),L("div",TD,[(ge(),ve(ut,null,Kn(3,r=>L("div",{key:r,class:"text-xl animate-float-up",style:Cr({animationDelay:`${(r-1)*.8}s`})}," ❤️ ",4)),64))])])]))}},CD=Co(bD,[["__scopeId","data-v-3fd7f8a9"]]),gh=t=>{try{const n=new URL(t).pathname.match(/chat-files%2F(.*?)(?:\?|$)/);return n&&n[1]?decodeURIComponent(n[1]):""}catch(e){return console.error("Error parsing URL:",e),""}},vx=t=>{const e=gh(t);return/\.(jpg|jpeg|png|gif|webp|heic|heif)$/i.test(e)},DD=t=>{const e=gh(t);return/\.(mp4|webm|ogg|mov|m4v)$/i.test(e)},ID=t=>{const n=gh(t).split(".").pop().toLowerCase();return{mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"}[n]||`video/${n}`},SD=1920,RD=1080,kD=1080,PD=1920,FD=.8,BD=t=>new Promise((e,n)=>{if(!t.type.startsWith("image/")){e(t);return}const r=new FileReader;r.readAsDataURL(t),r.onload=s=>{const i=new Image;i.src=s.target.result,i.onload=()=>{const o=i.height>i.width,l=o?kD:SD,c=o?PD:RD;let u=i.width,h=i.height;const p=l/u,d=c/h,g=Math.min(p,d,1);u=Math.round(u*g),h=Math.round(h*g);const w=document.createElement("canvas");w.width=u,w.height=h,w.getContext("2d").drawImage(i,0,0,u,h),w.toBlob(b=>{if(!b){n(new Error("Canvas to Blob conversion failed"));return}const k=new File([b],t.name,{type:t.type,lastModified:Date.now()});e(k)},t.type,FD)},i.onerror=()=>{n(new Error("Image loading failed"))}},r.onerror=()=>{n(new Error("File reading failed"))}});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ea={exports:{}};function OD(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wa={exports:{}};const VD={},ND=Object.freeze(Object.defineProperty({__proto__:null,default:VD},Symbol.toStringTag,{value:"Module"})),LD=MD(ND);var UD=wa.exports,jd;function Be(){return jd||(jd=1,function(t,e){(function(n,r){t.exports=r()})(UD,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Xc<"u"&&Xc.crypto&&(i=Xc.crypto),!i&&typeof OD=="function")try{i=LD}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function E(){}return function(C){var T;return E.prototype=C,T=new E,E.prototype=null,T}}(),c={},u=c.lib={},h=u.Base=function(){return{extend:function(E){var C=l(this);return E&&C.mixIn(E),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var C in E)E.hasOwnProperty(C)&&(this[C]=E[C]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=u.WordArray=h.extend({init:function(E,C){E=this.words=E||[],C!=s?this.sigBytes=C:this.sigBytes=E.length*4},toString:function(E){return(E||g).stringify(this)},concat:function(E){var C=this.words,T=E.words,P=this.sigBytes,B=E.sigBytes;if(this.clamp(),P%4)for(var v=0;v<B;v++){var x=T[v>>>2]>>>24-v%4*8&255;C[P+v>>>2]|=x<<24-(P+v)%4*8}else for(var I=0;I<B;I+=4)C[P+I>>>2]=T[I>>>2];return this.sigBytes+=B,this},clamp:function(){var E=this.words,C=this.sigBytes;E[C>>>2]&=4294967295<<32-C%4*8,E.length=r.ceil(C/4)},clone:function(){var E=h.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var C=[],T=0;T<E;T+=4)C.push(o());return new p.init(C,E)}}),d=c.enc={},g=d.Hex={stringify:function(E){for(var C=E.words,T=E.sigBytes,P=[],B=0;B<T;B++){var v=C[B>>>2]>>>24-B%4*8&255;P.push((v>>>4).toString(16)),P.push((v&15).toString(16))}return P.join("")},parse:function(E){for(var C=E.length,T=[],P=0;P<C;P+=2)T[P>>>3]|=parseInt(E.substr(P,2),16)<<24-P%8*4;return new p.init(T,C/2)}},w=d.Latin1={stringify:function(E){for(var C=E.words,T=E.sigBytes,P=[],B=0;B<T;B++){var v=C[B>>>2]>>>24-B%4*8&255;P.push(String.fromCharCode(v))}return P.join("")},parse:function(E){for(var C=E.length,T=[],P=0;P<C;P++)T[P>>>2]|=(E.charCodeAt(P)&255)<<24-P%4*8;return new p.init(T,C)}},S=d.Utf8={stringify:function(E){try{return decodeURIComponent(escape(w.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return w.parse(unescape(encodeURIComponent(E)))}},b=u.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=S.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var C,T=this._data,P=T.words,B=T.sigBytes,v=this.blockSize,x=v*4,I=B/x;E?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var _=I*v,y=r.min(_*4,B);if(_){for(var R=0;R<_;R+=v)this._doProcessBlock(P,R);C=P.splice(0,_),T.sigBytes-=y}return new p.init(C,y)},clone:function(){var E=h.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});u.Hasher=b.extend({cfg:h.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(E){return function(C,T){return new E.init(T).finalize(C)}},_createHmacHelper:function(E){return function(C,T){return new k.HMAC.init(E,T).finalize(C)}}});var k=c.algo={};return c}(Math);return n})}(wa)),wa.exports}var Aa={exports:{}},HD=Aa.exports,zd;function pc(){return zd||(zd=1,function(t,e){(function(n,r){t.exports=r(Be())})(HD,function(n){return function(r){var s=n,i=s.lib,o=i.Base,l=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,h){this.high=u,this.low=h}}),c.WordArray=o.extend({init:function(u,h){u=this.words=u||[],h!=r?this.sigBytes=h:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,h=u.length,p=[],d=0;d<h;d++){var g=u[d];p.push(g.high),p.push(g.low)}return l.create(p,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),h=u.words=this.words.slice(0),p=h.length,d=0;d<p;d++)h[d]=h[d].clone();return u}})}(),n})}(Aa)),Aa.exports}var Ta={exports:{}},$D=Ta.exports,Wd;function qD(){return Wd||(Wd=1,function(t,e){(function(n,r){t.exports=r(Be())})($D,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,i=s.WordArray,o=i.init,l=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,h=[],p=0;p<u;p++)h[p>>>2]|=c[p]<<24-p%4*8;o.call(this,h,u)}else o.apply(this,arguments)};l.prototype=i}}(),n.lib.WordArray})}(Ta)),Ta.exports}var ba={exports:{}},jD=ba.exports,Yd;function zD(){return Yd||(Yd=1,function(t,e){(function(n,r){t.exports=r(Be())})(jD,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,h=c.sigBytes,p=[],d=0;d<h;d+=2){var g=u[d>>>2]>>>16-d%4*8&65535;p.push(String.fromCharCode(g))}return p.join("")},parse:function(c){for(var u=c.length,h=[],p=0;p<u;p++)h[p>>>1]|=c.charCodeAt(p)<<16-p%2*16;return i.create(h,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,h=c.sigBytes,p=[],d=0;d<h;d+=2){var g=l(u[d>>>2]>>>16-d%4*8&65535);p.push(String.fromCharCode(g))}return p.join("")},parse:function(c){for(var u=c.length,h=[],p=0;p<u;p++)h[p>>>1]|=l(c.charCodeAt(p)<<16-p%2*16);return i.create(h,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(ba)),ba.exports}var Ca={exports:{}},WD=Ca.exports,Gd;function xs(){return Gd||(Gd=1,function(t,e){(function(n,r){t.exports=r(Be())})(WD,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,h=c.sigBytes,p=this._map;c.clamp();for(var d=[],g=0;g<h;g+=3)for(var w=u[g>>>2]>>>24-g%4*8&255,S=u[g+1>>>2]>>>24-(g+1)%4*8&255,b=u[g+2>>>2]>>>24-(g+2)%4*8&255,k=w<<16|S<<8|b,E=0;E<4&&g+E*.75<h;E++)d.push(p.charAt(k>>>6*(3-E)&63));var C=p.charAt(64);if(C)for(;d.length%4;)d.push(C);return d.join("")},parse:function(c){var u=c.length,h=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var d=0;d<h.length;d++)p[h.charCodeAt(d)]=d}var g=h.charAt(64);if(g){var w=c.indexOf(g);w!==-1&&(u=w)}return l(c,u,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,h){for(var p=[],d=0,g=0;g<u;g++)if(g%4){var w=h[c.charCodeAt(g-1)]<<g%4*2,S=h[c.charCodeAt(g)]>>>6-g%4*2,b=w|S;p[d>>>2]|=b<<24-d%4*8,d++}return i.create(p,d)}}(),n.enc.Base64})}(Ca)),Ca.exports}var Da={exports:{}},YD=Da.exports,Kd;function GD(){return Kd||(Kd=1,function(t,e){(function(n,r){t.exports=r(Be())})(YD,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var h=c.words,p=c.sigBytes,d=u?this._safe_map:this._map;c.clamp();for(var g=[],w=0;w<p;w+=3)for(var S=h[w>>>2]>>>24-w%4*8&255,b=h[w+1>>>2]>>>24-(w+1)%4*8&255,k=h[w+2>>>2]>>>24-(w+2)%4*8&255,E=S<<16|b<<8|k,C=0;C<4&&w+C*.75<p;C++)g.push(d.charAt(E>>>6*(3-C)&63));var T=d.charAt(64);if(T)for(;g.length%4;)g.push(T);return g.join("")},parse:function(c,u){u===void 0&&(u=!0);var h=c.length,p=u?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var g=0;g<p.length;g++)d[p.charCodeAt(g)]=g}var w=p.charAt(64);if(w){var S=c.indexOf(w);S!==-1&&(h=S)}return l(c,h,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,h){for(var p=[],d=0,g=0;g<u;g++)if(g%4){var w=h[c.charCodeAt(g-1)]<<g%4*2,S=h[c.charCodeAt(g)]>>>6-g%4*2,b=w|S;p[d>>>2]|=b<<24-d%4*8,d++}return i.create(p,d)}}(),n.enc.Base64url})}(Da)),Da.exports}var Ia={exports:{}},KD=Ia.exports,Qd;function Hr(){return Qd||(Qd=1,function(t,e){(function(n,r){t.exports=r(Be())})(KD,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=[];(function(){for(var S=0;S<64;S++)u[S]=r.abs(r.sin(S+1))*4294967296|0})();var h=c.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,b){for(var k=0;k<16;k++){var E=b+k,C=S[E];S[E]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var T=this._hash.words,P=S[b+0],B=S[b+1],v=S[b+2],x=S[b+3],I=S[b+4],_=S[b+5],y=S[b+6],R=S[b+7],A=S[b+8],ne=S[b+9],ie=S[b+10],re=S[b+11],fe=S[b+12],ue=S[b+13],De=S[b+14],Ie=S[b+15],U=T[0],H=T[1],$=T[2],Y=T[3];U=p(U,H,$,Y,P,7,u[0]),Y=p(Y,U,H,$,B,12,u[1]),$=p($,Y,U,H,v,17,u[2]),H=p(H,$,Y,U,x,22,u[3]),U=p(U,H,$,Y,I,7,u[4]),Y=p(Y,U,H,$,_,12,u[5]),$=p($,Y,U,H,y,17,u[6]),H=p(H,$,Y,U,R,22,u[7]),U=p(U,H,$,Y,A,7,u[8]),Y=p(Y,U,H,$,ne,12,u[9]),$=p($,Y,U,H,ie,17,u[10]),H=p(H,$,Y,U,re,22,u[11]),U=p(U,H,$,Y,fe,7,u[12]),Y=p(Y,U,H,$,ue,12,u[13]),$=p($,Y,U,H,De,17,u[14]),H=p(H,$,Y,U,Ie,22,u[15]),U=d(U,H,$,Y,B,5,u[16]),Y=d(Y,U,H,$,y,9,u[17]),$=d($,Y,U,H,re,14,u[18]),H=d(H,$,Y,U,P,20,u[19]),U=d(U,H,$,Y,_,5,u[20]),Y=d(Y,U,H,$,ie,9,u[21]),$=d($,Y,U,H,Ie,14,u[22]),H=d(H,$,Y,U,I,20,u[23]),U=d(U,H,$,Y,ne,5,u[24]),Y=d(Y,U,H,$,De,9,u[25]),$=d($,Y,U,H,x,14,u[26]),H=d(H,$,Y,U,A,20,u[27]),U=d(U,H,$,Y,ue,5,u[28]),Y=d(Y,U,H,$,v,9,u[29]),$=d($,Y,U,H,R,14,u[30]),H=d(H,$,Y,U,fe,20,u[31]),U=g(U,H,$,Y,_,4,u[32]),Y=g(Y,U,H,$,A,11,u[33]),$=g($,Y,U,H,re,16,u[34]),H=g(H,$,Y,U,De,23,u[35]),U=g(U,H,$,Y,B,4,u[36]),Y=g(Y,U,H,$,I,11,u[37]),$=g($,Y,U,H,R,16,u[38]),H=g(H,$,Y,U,ie,23,u[39]),U=g(U,H,$,Y,ue,4,u[40]),Y=g(Y,U,H,$,P,11,u[41]),$=g($,Y,U,H,x,16,u[42]),H=g(H,$,Y,U,y,23,u[43]),U=g(U,H,$,Y,ne,4,u[44]),Y=g(Y,U,H,$,fe,11,u[45]),$=g($,Y,U,H,Ie,16,u[46]),H=g(H,$,Y,U,v,23,u[47]),U=w(U,H,$,Y,P,6,u[48]),Y=w(Y,U,H,$,R,10,u[49]),$=w($,Y,U,H,De,15,u[50]),H=w(H,$,Y,U,_,21,u[51]),U=w(U,H,$,Y,fe,6,u[52]),Y=w(Y,U,H,$,x,10,u[53]),$=w($,Y,U,H,ie,15,u[54]),H=w(H,$,Y,U,B,21,u[55]),U=w(U,H,$,Y,A,6,u[56]),Y=w(Y,U,H,$,Ie,10,u[57]),$=w($,Y,U,H,y,15,u[58]),H=w(H,$,Y,U,ue,21,u[59]),U=w(U,H,$,Y,I,6,u[60]),Y=w(Y,U,H,$,re,10,u[61]),$=w($,Y,U,H,v,15,u[62]),H=w(H,$,Y,U,ne,21,u[63]),T[0]=T[0]+U|0,T[1]=T[1]+H|0,T[2]=T[2]+$|0,T[3]=T[3]+Y|0},_doFinalize:function(){var S=this._data,b=S.words,k=this._nDataBytes*8,E=S.sigBytes*8;b[E>>>5]|=128<<24-E%32;var C=r.floor(k/4294967296),T=k;b[(E+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,b[(E+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,S.sigBytes=(b.length+1)*4,this._process();for(var P=this._hash,B=P.words,v=0;v<4;v++){var x=B[v];B[v]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}return P},clone:function(){var S=l.clone.call(this);return S._hash=this._hash.clone(),S}});function p(S,b,k,E,C,T,P){var B=S+(b&k|~b&E)+C+P;return(B<<T|B>>>32-T)+b}function d(S,b,k,E,C,T,P){var B=S+(b&E|k&~E)+C+P;return(B<<T|B>>>32-T)+b}function g(S,b,k,E,C,T,P){var B=S+(b^k^E)+C+P;return(B<<T|B>>>32-T)+b}function w(S,b,k,E,C,T,P){var B=S+(k^(b|~E))+C+P;return(B<<T|B>>>32-T)+b}s.MD5=l._createHelper(h),s.HmacMD5=l._createHmacHelper(h)}(Math),n.MD5})}(Ia)),Ia.exports}var Sa={exports:{}},QD=Sa.exports,Xd;function Ex(){return Xd||(Xd=1,function(t,e){(function(n,r){t.exports=r(Be())})(QD,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.Hasher,l=r.algo,c=[],u=l.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,p){for(var d=this._hash.words,g=d[0],w=d[1],S=d[2],b=d[3],k=d[4],E=0;E<80;E++){if(E<16)c[E]=h[p+E]|0;else{var C=c[E-3]^c[E-8]^c[E-14]^c[E-16];c[E]=C<<1|C>>>31}var T=(g<<5|g>>>27)+k+c[E];E<20?T+=(w&S|~w&b)+1518500249:E<40?T+=(w^S^b)+1859775393:E<60?T+=(w&S|w&b|S&b)-1894007588:T+=(w^S^b)-899497514,k=b,b=S,S=w<<30|w>>>2,w=g,g=T}d[0]=d[0]+g|0,d[1]=d[1]+w|0,d[2]=d[2]+S|0,d[3]=d[3]+b|0,d[4]=d[4]+k|0},_doFinalize:function(){var h=this._data,p=h.words,d=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=Math.floor(d/4294967296),p[(g+64>>>9<<4)+15]=d,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),n.SHA1})}(Sa)),Sa.exports}var Ra={exports:{}},XD=Ra.exports,Zd;function _h(){return Zd||(Zd=1,function(t,e){(function(n,r){t.exports=r(Be())})(XD,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=[],h=[];(function(){function g(k){for(var E=r.sqrt(k),C=2;C<=E;C++)if(!(k%C))return!1;return!0}function w(k){return(k-(k|0))*4294967296|0}for(var S=2,b=0;b<64;)g(S)&&(b<8&&(u[b]=w(r.pow(S,1/2))),h[b]=w(r.pow(S,1/3)),b++),S++})();var p=[],d=c.SHA256=l.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(g,w){for(var S=this._hash.words,b=S[0],k=S[1],E=S[2],C=S[3],T=S[4],P=S[5],B=S[6],v=S[7],x=0;x<64;x++){if(x<16)p[x]=g[w+x]|0;else{var I=p[x-15],_=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,y=p[x-2],R=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;p[x]=_+p[x-7]+R+p[x-16]}var A=T&P^~T&B,ne=b&k^b&E^k&E,ie=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),re=(T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25),fe=v+re+A+h[x]+p[x],ue=ie+ne;v=B,B=P,P=T,T=C+fe|0,C=E,E=k,k=b,b=fe+ue|0}S[0]=S[0]+b|0,S[1]=S[1]+k|0,S[2]=S[2]+E|0,S[3]=S[3]+C|0,S[4]=S[4]+T|0,S[5]=S[5]+P|0,S[6]=S[6]+B|0,S[7]=S[7]+v|0},_doFinalize:function(){var g=this._data,w=g.words,S=this._nDataBytes*8,b=g.sigBytes*8;return w[b>>>5]|=128<<24-b%32,w[(b+64>>>9<<4)+14]=r.floor(S/4294967296),w[(b+64>>>9<<4)+15]=S,g.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA256=l._createHelper(d),s.HmacSHA256=l._createHmacHelper(d)}(Math),n.SHA256})}(Ra)),Ra.exports}var ka={exports:{}},ZD=ka.exports,Jd;function JD(){return Jd||(Jd=1,function(t,e){(function(n,r,s){t.exports=r(Be(),_h())})(ZD,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.algo,l=o.SHA256,c=o.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=l._createHelper(c),r.HmacSHA224=l._createHmacHelper(c)}(),n.SHA224})}(ka)),ka.exports}var Pa={exports:{}},eI=Pa.exports,ep;function wx(){return ep||(ep=1,function(t,e){(function(n,r,s){t.exports=r(Be(),pc())})(eI,function(n){return function(){var r=n,s=r.lib,i=s.Hasher,o=r.x64,l=o.Word,c=o.WordArray,u=r.algo;function h(){return l.create.apply(l,arguments)}var p=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],d=[];(function(){for(var w=0;w<80;w++)d[w]=h()})();var g=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(w,S){for(var b=this._hash.words,k=b[0],E=b[1],C=b[2],T=b[3],P=b[4],B=b[5],v=b[6],x=b[7],I=k.high,_=k.low,y=E.high,R=E.low,A=C.high,ne=C.low,ie=T.high,re=T.low,fe=P.high,ue=P.low,De=B.high,Ie=B.low,U=v.high,H=v.low,$=x.high,Y=x.low,Le=I,Me=_,tt=y,we=R,An=A,Ct=ne,Ln=ie,F=re,M=fe,V=ue,G=De,z=Ie,K=U,ee=H,Z=$,X=Y,W=0;W<80;W++){var ce,J,he=d[W];if(W<16)J=he.high=w[S+W*2]|0,ce=he.low=w[S+W*2+1]|0;else{var _e=d[W-15],de=_e.high,xe=_e.low,Se=(de>>>1|xe<<31)^(de>>>8|xe<<24)^de>>>7,_t=(xe>>>1|de<<31)^(xe>>>8|de<<24)^(xe>>>7|de<<25),ht=d[W-2],xt=ht.high,ot=ht.low,Tn=(xt>>>19|ot<<13)^(xt<<3|ot>>>29)^xt>>>6,lr=(ot>>>19|xt<<13)^(ot<<3|xt>>>29)^(ot>>>6|xt<<26),ft=d[W-7],Yt=ft.high,vs=ft.low,ys=d[W-16],So=ys.high,di=ys.low;ce=_t+vs,J=Se+Yt+(ce>>>0<_t>>>0?1:0),ce=ce+lr,J=J+Tn+(ce>>>0<lr>>>0?1:0),ce=ce+di,J=J+So+(ce>>>0<di>>>0?1:0),he.high=J,he.low=ce}var qr=M&G^~M&K,Es=V&z^~V&ee,pi=Le&tt^Le&An^tt&An,Un=Me&we^Me&Ct^we&Ct,Ro=(Le>>>28|Me<<4)^(Le<<30|Me>>>2)^(Le<<25|Me>>>7),jr=(Me>>>28|Le<<4)^(Me<<30|Le>>>2)^(Me<<25|Le>>>7),ko=(M>>>14|V<<18)^(M>>>18|V<<14)^(M<<23|V>>>9),zr=(V>>>14|M<<18)^(V>>>18|M<<14)^(V<<23|M>>>9),mi=p[W],Dt=mi.high,gi=mi.low,vt=X+zr,Gt=Z+ko+(vt>>>0<X>>>0?1:0),vt=vt+Es,Gt=Gt+qr+(vt>>>0<Es>>>0?1:0),vt=vt+gi,Gt=Gt+Dt+(vt>>>0<gi>>>0?1:0),vt=vt+ce,Gt=Gt+J+(vt>>>0<ce>>>0?1:0),Po=jr+Un,gc=Ro+pi+(Po>>>0<jr>>>0?1:0);Z=K,X=ee,K=G,ee=z,G=M,z=V,V=F+vt|0,M=Ln+Gt+(V>>>0<F>>>0?1:0)|0,Ln=An,F=Ct,An=tt,Ct=we,tt=Le,we=Me,Me=vt+Po|0,Le=Gt+gc+(Me>>>0<vt>>>0?1:0)|0}_=k.low=_+Me,k.high=I+Le+(_>>>0<Me>>>0?1:0),R=E.low=R+we,E.high=y+tt+(R>>>0<we>>>0?1:0),ne=C.low=ne+Ct,C.high=A+An+(ne>>>0<Ct>>>0?1:0),re=T.low=re+F,T.high=ie+Ln+(re>>>0<F>>>0?1:0),ue=P.low=ue+V,P.high=fe+M+(ue>>>0<V>>>0?1:0),Ie=B.low=Ie+z,B.high=De+G+(Ie>>>0<z>>>0?1:0),H=v.low=H+ee,v.high=U+K+(H>>>0<ee>>>0?1:0),Y=x.low=Y+X,x.high=$+Z+(Y>>>0<X>>>0?1:0)},_doFinalize:function(){var w=this._data,S=w.words,b=this._nDataBytes*8,k=w.sigBytes*8;S[k>>>5]|=128<<24-k%32,S[(k+128>>>10<<5)+30]=Math.floor(b/4294967296),S[(k+128>>>10<<5)+31]=b,w.sigBytes=S.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var w=i.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});r.SHA512=i._createHelper(g),r.HmacSHA512=i._createHmacHelper(g)}(),n.SHA512})}(Pa)),Pa.exports}var Fa={exports:{}},tI=Fa.exports,tp;function nI(){return tp||(tp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),pc(),wx())})(tI,function(n){return function(){var r=n,s=r.x64,i=s.Word,o=s.WordArray,l=r.algo,c=l.SHA512,u=l.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=16,h}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),n.SHA384})}(Fa)),Fa.exports}var Ba={exports:{}},rI=Ba.exports,np;function sI(){return np||(np=1,function(t,e){(function(n,r,s){t.exports=r(Be(),pc())})(rI,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.x64,u=c.Word,h=s.algo,p=[],d=[],g=[];(function(){for(var b=1,k=0,E=0;E<24;E++){p[b+5*k]=(E+1)*(E+2)/2%64;var C=k%5,T=(2*b+3*k)%5;b=C,k=T}for(var b=0;b<5;b++)for(var k=0;k<5;k++)d[b+5*k]=k+(2*b+3*k)%5*5;for(var P=1,B=0;B<24;B++){for(var v=0,x=0,I=0;I<7;I++){if(P&1){var _=(1<<I)-1;_<32?x^=1<<_:v^=1<<_-32}P&128?P=P<<1^113:P<<=1}g[B]=u.create(v,x)}})();var w=[];(function(){for(var b=0;b<25;b++)w[b]=u.create()})();var S=h.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],k=0;k<25;k++)b[k]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,k){for(var E=this._state,C=this.blockSize/2,T=0;T<C;T++){var P=b[k+2*T],B=b[k+2*T+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var v=E[T];v.high^=B,v.low^=P}for(var x=0;x<24;x++){for(var I=0;I<5;I++){for(var _=0,y=0,R=0;R<5;R++){var v=E[I+5*R];_^=v.high,y^=v.low}var A=w[I];A.high=_,A.low=y}for(var I=0;I<5;I++)for(var ne=w[(I+4)%5],ie=w[(I+1)%5],re=ie.high,fe=ie.low,_=ne.high^(re<<1|fe>>>31),y=ne.low^(fe<<1|re>>>31),R=0;R<5;R++){var v=E[I+5*R];v.high^=_,v.low^=y}for(var ue=1;ue<25;ue++){var _,y,v=E[ue],De=v.high,Ie=v.low,U=p[ue];U<32?(_=De<<U|Ie>>>32-U,y=Ie<<U|De>>>32-U):(_=Ie<<U-32|De>>>64-U,y=De<<U-32|Ie>>>64-U);var H=w[d[ue]];H.high=_,H.low=y}var $=w[0],Y=E[0];$.high=Y.high,$.low=Y.low;for(var I=0;I<5;I++)for(var R=0;R<5;R++){var ue=I+5*R,v=E[ue],Le=w[ue],Me=w[(I+1)%5+5*R],tt=w[(I+2)%5+5*R];v.high=Le.high^~Me.high&tt.high,v.low=Le.low^~Me.low&tt.low}var v=E[0],we=g[x];v.high^=we.high,v.low^=we.low}},_doFinalize:function(){var b=this._data,k=b.words;this._nDataBytes*8;var E=b.sigBytes*8,C=this.blockSize*32;k[E>>>5]|=1<<24-E%32,k[(r.ceil((E+1)/C)*C>>>5)-1]|=128,b.sigBytes=k.length*4,this._process();for(var T=this._state,P=this.cfg.outputLength/8,B=P/8,v=[],x=0;x<B;x++){var I=T[x],_=I.high,y=I.low;_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v.push(y),v.push(_)}return new o.init(v,P)},clone:function(){for(var b=l.clone.call(this),k=b._state=this._state.slice(0),E=0;E<25;E++)k[E]=k[E].clone();return b}});s.SHA3=l._createHelper(S),s.HmacSHA3=l._createHmacHelper(S)}(Math),n.SHA3})}(Ba)),Ba.exports}var Ma={exports:{}},iI=Ma.exports,rp;function oI(){return rp||(rp=1,function(t,e){(function(n,r){t.exports=r(Be())})(iI,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=o.create([0,1518500249,1859775393,2400959708,2840853838]),w=o.create([1352829926,1548603684,1836072691,2053994217,0]),S=c.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,v){for(var x=0;x<16;x++){var I=v+x,_=B[I];B[I]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var y=this._hash.words,R=g.words,A=w.words,ne=u.words,ie=h.words,re=p.words,fe=d.words,ue,De,Ie,U,H,$,Y,Le,Me,tt;$=ue=y[0],Y=De=y[1],Le=Ie=y[2],Me=U=y[3],tt=H=y[4];for(var we,x=0;x<80;x+=1)we=ue+B[v+ne[x]]|0,x<16?we+=b(De,Ie,U)+R[0]:x<32?we+=k(De,Ie,U)+R[1]:x<48?we+=E(De,Ie,U)+R[2]:x<64?we+=C(De,Ie,U)+R[3]:we+=T(De,Ie,U)+R[4],we=we|0,we=P(we,re[x]),we=we+H|0,ue=H,H=U,U=P(Ie,10),Ie=De,De=we,we=$+B[v+ie[x]]|0,x<16?we+=T(Y,Le,Me)+A[0]:x<32?we+=C(Y,Le,Me)+A[1]:x<48?we+=E(Y,Le,Me)+A[2]:x<64?we+=k(Y,Le,Me)+A[3]:we+=b(Y,Le,Me)+A[4],we=we|0,we=P(we,fe[x]),we=we+tt|0,$=tt,tt=Me,Me=P(Le,10),Le=Y,Y=we;we=y[1]+Ie+Me|0,y[1]=y[2]+U+tt|0,y[2]=y[3]+H+$|0,y[3]=y[4]+ue+Y|0,y[4]=y[0]+De+Le|0,y[0]=we},_doFinalize:function(){var B=this._data,v=B.words,x=this._nDataBytes*8,I=B.sigBytes*8;v[I>>>5]|=128<<24-I%32,v[(I+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,B.sigBytes=(v.length+1)*4,this._process();for(var _=this._hash,y=_.words,R=0;R<5;R++){var A=y[R];y[R]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return _},clone:function(){var B=l.clone.call(this);return B._hash=this._hash.clone(),B}});function b(B,v,x){return B^v^x}function k(B,v,x){return B&v|~B&x}function E(B,v,x){return(B|~v)^x}function C(B,v,x){return B&x|v&~x}function T(B,v,x){return B^(v|~x)}function P(B,v){return B<<v|B>>>32-v}s.RIPEMD160=l._createHelper(S),s.HmacRIPEMD160=l._createHmacHelper(S)}(),n.RIPEMD160})}(Ma)),Ma.exports}var Oa={exports:{}},aI=Oa.exports,sp;function xh(){return sp||(sp=1,function(t,e){(function(n,r){t.exports=r(Be())})(aI,function(n){(function(){var r=n,s=r.lib,i=s.Base,o=r.enc,l=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,h){u=this._hasher=new u.init,typeof h=="string"&&(h=l.parse(h));var p=u.blockSize,d=p*4;h.sigBytes>d&&(h=u.finalize(h)),h.clamp();for(var g=this._oKey=h.clone(),w=this._iKey=h.clone(),S=g.words,b=w.words,k=0;k<p;k++)S[k]^=1549556828,b[k]^=909522486;g.sigBytes=w.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var h=this._hasher,p=h.finalize(u);h.reset();var d=h.finalize(this._oKey.clone().concat(p));return d}})})()})}(Oa)),Oa.exports}var Va={exports:{}},lI=Va.exports,ip;function cI(){return ip||(ip=1,function(t,e){(function(n,r,s){t.exports=r(Be(),_h(),xh())})(lI,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,l=r.algo,c=l.SHA256,u=l.HMAC,h=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,d){for(var g=this.cfg,w=u.create(g.hasher,p),S=o.create(),b=o.create([1]),k=S.words,E=b.words,C=g.keySize,T=g.iterations;k.length<C;){var P=w.update(d).finalize(b);w.reset();for(var B=P.words,v=B.length,x=P,I=1;I<T;I++){x=w.finalize(x),w.reset();for(var _=x.words,y=0;y<v;y++)B[y]^=_[y]}S.concat(P),E[0]++}return S.sigBytes=C*4,S}});r.PBKDF2=function(p,d,g){return h.create(g).compute(p,d)}}(),n.PBKDF2})}(Va)),Va.exports}var Na={exports:{}},uI=Na.exports,op;function $r(){return op||(op=1,function(t,e){(function(n,r,s){t.exports=r(Be(),Ex(),xh())})(uI,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,l=r.algo,c=l.MD5,u=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,p){for(var d,g=this.cfg,w=g.hasher.create(),S=o.create(),b=S.words,k=g.keySize,E=g.iterations;b.length<k;){d&&w.update(d),d=w.update(h).finalize(p),w.reset();for(var C=1;C<E;C++)d=w.finalize(d),w.reset();S.concat(d)}return S.sigBytes=k*4,S}});r.EvpKDF=function(h,p,d){return u.create(d).compute(h,p)}}(),n.EvpKDF})}(Na)),Na.exports}var La={exports:{}},hI=La.exports,ap;function bt(){return ap||(ap=1,function(t,e){(function(n,r,s){t.exports=r(Be(),$r())})(hI,function(n){n.lib.Cipher||function(r){var s=n,i=s.lib,o=i.Base,l=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var h=u.Base64,p=s.algo,d=p.EvpKDF,g=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(_,y){return this.create(this._ENC_XFORM_MODE,_,y)},createDecryptor:function(_,y){return this.create(this._DEC_XFORM_MODE,_,y)},init:function(_,y,R){this.cfg=this.cfg.extend(R),this._xformMode=_,this._key=y,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(_){return this._append(_),this._process()},finalize:function(_){_&&this._append(_);var y=this._doFinalize();return y},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function _(y){return typeof y=="string"?I:B}return function(y){return{encrypt:function(R,A,ne){return _(A).encrypt(y,R,A,ne)},decrypt:function(R,A,ne){return _(A).decrypt(y,R,A,ne)}}}}()});i.StreamCipher=g.extend({_doFinalize:function(){var _=this._process(!0);return _},blockSize:1});var w=s.mode={},S=i.BlockCipherMode=o.extend({createEncryptor:function(_,y){return this.Encryptor.create(_,y)},createDecryptor:function(_,y){return this.Decryptor.create(_,y)},init:function(_,y){this._cipher=_,this._iv=y}}),b=w.CBC=function(){var _=S.extend();_.Encryptor=_.extend({processBlock:function(R,A){var ne=this._cipher,ie=ne.blockSize;y.call(this,R,A,ie),ne.encryptBlock(R,A),this._prevBlock=R.slice(A,A+ie)}}),_.Decryptor=_.extend({processBlock:function(R,A){var ne=this._cipher,ie=ne.blockSize,re=R.slice(A,A+ie);ne.decryptBlock(R,A),y.call(this,R,A,ie),this._prevBlock=re}});function y(R,A,ne){var ie,re=this._iv;re?(ie=re,this._iv=r):ie=this._prevBlock;for(var fe=0;fe<ne;fe++)R[A+fe]^=ie[fe]}return _}(),k=s.pad={},E=k.Pkcs7={pad:function(_,y){for(var R=y*4,A=R-_.sigBytes%R,ne=A<<24|A<<16|A<<8|A,ie=[],re=0;re<A;re+=4)ie.push(ne);var fe=l.create(ie,A);_.concat(fe)},unpad:function(_){var y=_.words[_.sigBytes-1>>>2]&255;_.sigBytes-=y}};i.BlockCipher=g.extend({cfg:g.cfg.extend({mode:b,padding:E}),reset:function(){var _;g.reset.call(this);var y=this.cfg,R=y.iv,A=y.mode;this._xformMode==this._ENC_XFORM_MODE?_=A.createEncryptor:(_=A.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==_?this._mode.init(this,R&&R.words):(this._mode=_.call(A,this,R&&R.words),this._mode.__creator=_)},_doProcessBlock:function(_,y){this._mode.processBlock(_,y)},_doFinalize:function(){var _,y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(y.pad(this._data,this.blockSize),_=this._process(!0)):(_=this._process(!0),y.unpad(_)),_},blockSize:128/32});var C=i.CipherParams=o.extend({init:function(_){this.mixIn(_)},toString:function(_){return(_||this.formatter).stringify(this)}}),T=s.format={},P=T.OpenSSL={stringify:function(_){var y,R=_.ciphertext,A=_.salt;return A?y=l.create([1398893684,1701076831]).concat(A).concat(R):y=R,y.toString(h)},parse:function(_){var y,R=h.parse(_),A=R.words;return A[0]==1398893684&&A[1]==1701076831&&(y=l.create(A.slice(2,4)),A.splice(0,4),R.sigBytes-=16),C.create({ciphertext:R,salt:y})}},B=i.SerializableCipher=o.extend({cfg:o.extend({format:P}),encrypt:function(_,y,R,A){A=this.cfg.extend(A);var ne=_.createEncryptor(R,A),ie=ne.finalize(y),re=ne.cfg;return C.create({ciphertext:ie,key:R,iv:re.iv,algorithm:_,mode:re.mode,padding:re.padding,blockSize:_.blockSize,formatter:A.format})},decrypt:function(_,y,R,A){A=this.cfg.extend(A),y=this._parse(y,A.format);var ne=_.createDecryptor(R,A).finalize(y.ciphertext);return ne},_parse:function(_,y){return typeof _=="string"?y.parse(_,this):_}}),v=s.kdf={},x=v.OpenSSL={execute:function(_,y,R,A,ne){if(A||(A=l.random(64/8)),ne)var ie=d.create({keySize:y+R,hasher:ne}).compute(_,A);else var ie=d.create({keySize:y+R}).compute(_,A);var re=l.create(ie.words.slice(y),R*4);return ie.sigBytes=y*4,C.create({key:ie,iv:re,salt:A})}},I=i.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:x}),encrypt:function(_,y,R,A){A=this.cfg.extend(A);var ne=A.kdf.execute(R,_.keySize,_.ivSize,A.salt,A.hasher);A.iv=ne.iv;var ie=B.encrypt.call(this,_,y,ne.key,A);return ie.mixIn(ne),ie},decrypt:function(_,y,R,A){A=this.cfg.extend(A),y=this._parse(y,A.format);var ne=A.kdf.execute(R,_.keySize,_.ivSize,y.salt,A.hasher);A.iv=ne.iv;var ie=B.decrypt.call(this,_,y,ne.key,A);return ie}})}()})}(La)),La.exports}var Ua={exports:{}},fI=Ua.exports,lp;function dI(){return lp||(lp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(fI,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize;s.call(this,i,o,c,l),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,l),this._prevBlock=u}});function s(i,o,l,c){var u,h=this._iv;h?(u=h.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var p=0;p<l;p++)i[o+p]^=u[p]}return r}(),n.mode.CFB})}(Ua)),Ua.exports}var Ha={exports:{}},pI=Ha.exports,cp;function mI(){return cp||(cp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(pI,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0);var p=h.slice(0);l.encryptBlock(p,0),h[c-1]=h[c-1]+1|0;for(var d=0;d<c;d++)i[o+d]^=p[d]}});return r.Decryptor=s,r}(),n.mode.CTR})}(Ha)),Ha.exports}var $a={exports:{}},gI=$a.exports,up;function _I(){return up||(up=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(gI,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(l){if((l>>24&255)===255){var c=l>>16&255,u=l>>8&255,h=l&255;c===255?(c=0,u===255?(u=0,h===255?h=0:++h):++u):++c,l=0,l+=c<<16,l+=u<<8,l+=h}else l+=1<<24;return l}function i(l){return(l[0]=s(l[0]))===0&&(l[1]=s(l[1])),l}var o=r.Encryptor=r.extend({processBlock:function(l,c){var u=this._cipher,h=u.blockSize,p=this._iv,d=this._counter;p&&(d=this._counter=p.slice(0),this._iv=void 0),i(d);var g=d.slice(0);u.encryptBlock(g,0);for(var w=0;w<h;w++)l[c+w]^=g[w]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}($a)),$a.exports}var qa={exports:{}},xI=qa.exports,hp;function vI(){return hp||(hp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(xI,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,h=this._keystream;u&&(h=this._keystream=u.slice(0),this._iv=void 0),l.encryptBlock(h,0);for(var p=0;p<c;p++)i[o+p]^=h[p]}});return r.Decryptor=s,r}(),n.mode.OFB})}(qa)),qa.exports}var ja={exports:{}},yI=ja.exports,fp;function EI(){return fp||(fp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(yI,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),n.mode.ECB})}(ja)),ja.exports}var za={exports:{}},wI=za.exports,dp;function AI(){return dp||(dp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(wI,function(n){return n.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,l=o-i%o,c=i+l-1;r.clamp(),r.words[c>>>2]|=l<<24-c%4*8,r.sigBytes+=l},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(za)),za.exports}var Wa={exports:{}},TI=Wa.exports,pp;function bI(){return pp||(pp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(TI,function(n){return n.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(Wa)),Wa.exports}var Ya={exports:{}},CI=Ya.exports,mp;function DI(){return mp||(mp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(CI,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Ya)),Ya.exports}var Ga={exports:{}},II=Ga.exports,gp;function SI(){return gp||(gp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(II,function(n){return n.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(Ga)),Ga.exports}var Ka={exports:{}},RI=Ka.exports,_p;function kI(){return _p||(_p=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(RI,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Ka)),Ka.exports}var Qa={exports:{}},PI=Qa.exports,xp;function FI(){return xp||(xp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),bt())})(PI,function(n){return function(r){var s=n,i=s.lib,o=i.CipherParams,l=s.enc,c=l.Hex,u=s.format;u.Hex={stringify:function(h){return h.ciphertext.toString(c)},parse:function(h){var p=c.parse(h);return o.create({ciphertext:p})}}}(),n.format.Hex})}(Qa)),Qa.exports}var Xa={exports:{}},BI=Xa.exports,vp;function MI(){return vp||(vp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})(BI,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo,l=[],c=[],u=[],h=[],p=[],d=[],g=[],w=[],S=[],b=[];(function(){for(var C=[],T=0;T<256;T++)T<128?C[T]=T<<1:C[T]=T<<1^283;for(var P=0,B=0,T=0;T<256;T++){var v=B^B<<1^B<<2^B<<3^B<<4;v=v>>>8^v&255^99,l[P]=v,c[v]=P;var x=C[P],I=C[x],_=C[I],y=C[v]*257^v*16843008;u[P]=y<<24|y>>>8,h[P]=y<<16|y>>>16,p[P]=y<<8|y>>>24,d[P]=y;var y=_*16843009^I*65537^x*257^P*16843008;g[v]=y<<24|y>>>8,w[v]=y<<16|y>>>16,S[v]=y<<8|y>>>24,b[v]=y,P?(P=x^C[C[C[_^x]]],B^=C[C[B]]):P=B=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],E=o.AES=i.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,P=T.words,B=T.sigBytes/4,v=this._nRounds=B+6,x=(v+1)*4,I=this._keySchedule=[],_=0;_<x;_++)_<B?I[_]=P[_]:(C=I[_-1],_%B?B>6&&_%B==4&&(C=l[C>>>24]<<24|l[C>>>16&255]<<16|l[C>>>8&255]<<8|l[C&255]):(C=C<<8|C>>>24,C=l[C>>>24]<<24|l[C>>>16&255]<<16|l[C>>>8&255]<<8|l[C&255],C^=k[_/B|0]<<24),I[_]=I[_-B]^C);for(var y=this._invKeySchedule=[],R=0;R<x;R++){var _=x-R;if(R%4)var C=I[_];else var C=I[_-4];R<4||_<=4?y[R]=C:y[R]=g[l[C>>>24]]^w[l[C>>>16&255]]^S[l[C>>>8&255]]^b[l[C&255]]}}},encryptBlock:function(C,T){this._doCryptBlock(C,T,this._keySchedule,u,h,p,d,l)},decryptBlock:function(C,T){var P=C[T+1];C[T+1]=C[T+3],C[T+3]=P,this._doCryptBlock(C,T,this._invKeySchedule,g,w,S,b,c);var P=C[T+1];C[T+1]=C[T+3],C[T+3]=P},_doCryptBlock:function(C,T,P,B,v,x,I,_){for(var y=this._nRounds,R=C[T]^P[0],A=C[T+1]^P[1],ne=C[T+2]^P[2],ie=C[T+3]^P[3],re=4,fe=1;fe<y;fe++){var ue=B[R>>>24]^v[A>>>16&255]^x[ne>>>8&255]^I[ie&255]^P[re++],De=B[A>>>24]^v[ne>>>16&255]^x[ie>>>8&255]^I[R&255]^P[re++],Ie=B[ne>>>24]^v[ie>>>16&255]^x[R>>>8&255]^I[A&255]^P[re++],U=B[ie>>>24]^v[R>>>16&255]^x[A>>>8&255]^I[ne&255]^P[re++];R=ue,A=De,ne=Ie,ie=U}var ue=(_[R>>>24]<<24|_[A>>>16&255]<<16|_[ne>>>8&255]<<8|_[ie&255])^P[re++],De=(_[A>>>24]<<24|_[ne>>>16&255]<<16|_[ie>>>8&255]<<8|_[R&255])^P[re++],Ie=(_[ne>>>24]<<24|_[ie>>>16&255]<<16|_[R>>>8&255]<<8|_[A&255])^P[re++],U=(_[ie>>>24]<<24|_[R>>>16&255]<<16|_[A>>>8&255]<<8|_[ne&255])^P[re++];C[T]=ue,C[T+1]=De,C[T+2]=Ie,C[T+3]=U},keySize:256/32});r.AES=i._createHelper(E)}(),n.AES})}(Xa)),Xa.exports}var Za={exports:{}},OI=Za.exports,yp;function VI(){return yp||(yp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})(OI,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.BlockCipher,l=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=l.DES=o.extend({_doReset:function(){for(var k=this._key,E=k.words,C=[],T=0;T<56;T++){var P=c[T]-1;C[T]=E[P>>>5]>>>31-P%32&1}for(var B=this._subKeys=[],v=0;v<16;v++){for(var x=B[v]=[],I=h[v],T=0;T<24;T++)x[T/6|0]|=C[(u[T]-1+I)%28]<<31-T%6,x[4+(T/6|0)]|=C[28+(u[T+24]-1+I)%28]<<31-T%6;x[0]=x[0]<<1|x[0]>>>31;for(var T=1;T<7;T++)x[T]=x[T]>>>(T-1)*4+3;x[7]=x[7]<<5|x[7]>>>27}for(var _=this._invSubKeys=[],T=0;T<16;T++)_[T]=B[15-T]},encryptBlock:function(k,E){this._doCryptBlock(k,E,this._subKeys)},decryptBlock:function(k,E){this._doCryptBlock(k,E,this._invSubKeys)},_doCryptBlock:function(k,E,C){this._lBlock=k[E],this._rBlock=k[E+1],w.call(this,4,252645135),w.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),w.call(this,1,1431655765);for(var T=0;T<16;T++){for(var P=C[T],B=this._lBlock,v=this._rBlock,x=0,I=0;I<8;I++)x|=p[I][((v^P[I])&d[I])>>>0];this._lBlock=v,this._rBlock=B^x}var _=this._lBlock;this._lBlock=this._rBlock,this._rBlock=_,w.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),k[E]=this._lBlock,k[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(k,E){var C=(this._lBlock>>>k^this._rBlock)&E;this._rBlock^=C,this._lBlock^=C<<k}function S(k,E){var C=(this._rBlock>>>k^this._lBlock)&E;this._lBlock^=C,this._rBlock^=C<<k}r.DES=o._createHelper(g);var b=l.TripleDES=o.extend({_doReset:function(){var k=this._key,E=k.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=E.slice(0,2),T=E.length<4?E.slice(0,2):E.slice(2,4),P=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=g.createEncryptor(i.create(C)),this._des2=g.createEncryptor(i.create(T)),this._des3=g.createEncryptor(i.create(P))},encryptBlock:function(k,E){this._des1.encryptBlock(k,E),this._des2.decryptBlock(k,E),this._des3.encryptBlock(k,E)},decryptBlock:function(k,E){this._des3.decryptBlock(k,E),this._des2.encryptBlock(k,E),this._des1.decryptBlock(k,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(b)}(),n.TripleDES})}(Za)),Za.exports}var Ja={exports:{}},NI=Ja.exports,Ep;function LI(){return Ep||(Ep=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})(NI,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=o.RC4=i.extend({_doReset:function(){for(var h=this._key,p=h.words,d=h.sigBytes,g=this._S=[],w=0;w<256;w++)g[w]=w;for(var w=0,S=0;w<256;w++){var b=w%d,k=p[b>>>2]>>>24-b%4*8&255;S=(S+g[w]+k)%256;var E=g[w];g[w]=g[S],g[S]=E}this._i=this._j=0},_doProcessBlock:function(h,p){h[p]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var h=this._S,p=this._i,d=this._j,g=0,w=0;w<4;w++){p=(p+1)%256,d=(d+h[p])%256;var S=h[p];h[p]=h[d],h[d]=S,g|=h[(h[p]+h[d])%256]<<24-w*8}return this._i=p,this._j=d,g}r.RC4=i._createHelper(l);var u=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),n.RC4})}(Ja)),Ja.exports}var el={exports:{}},UI=el.exports,wp;function HI(){return wp||(wp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})(UI,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=[],c=[],u=[],h=o.Rabbit=i.extend({_doReset:function(){for(var d=this._key.words,g=this.cfg.iv,w=0;w<4;w++)d[w]=(d[w]<<8|d[w]>>>24)&16711935|(d[w]<<24|d[w]>>>8)&4278255360;var S=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],b=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var w=0;w<4;w++)p.call(this);for(var w=0;w<8;w++)b[w]^=S[w+4&7];if(g){var k=g.words,E=k[0],C=k[1],T=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,P=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,B=T>>>16|P&4294901760,v=P<<16|T&65535;b[0]^=T,b[1]^=B,b[2]^=P,b[3]^=v,b[4]^=T,b[5]^=B,b[6]^=P,b[7]^=v;for(var w=0;w<4;w++)p.call(this)}},_doProcessBlock:function(d,g){var w=this._X;p.call(this),l[0]=w[0]^w[5]>>>16^w[3]<<16,l[1]=w[2]^w[7]>>>16^w[5]<<16,l[2]=w[4]^w[1]>>>16^w[7]<<16,l[3]=w[6]^w[3]>>>16^w[1]<<16;for(var S=0;S<4;S++)l[S]=(l[S]<<8|l[S]>>>24)&16711935|(l[S]<<24|l[S]>>>8)&4278255360,d[g+S]^=l[S]},blockSize:128/32,ivSize:64/32});function p(){for(var d=this._X,g=this._C,w=0;w<8;w++)c[w]=g[w];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var w=0;w<8;w++){var S=d[w]+g[w],b=S&65535,k=S>>>16,E=((b*b>>>17)+b*k>>>15)+k*k,C=((S&4294901760)*S|0)+((S&65535)*S|0);u[w]=E^C}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(h)}(),n.Rabbit})}(el)),el.exports}var tl={exports:{}},$I=tl.exports,Ap;function qI(){return Ap||(Ap=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})($I,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=[],c=[],u=[],h=o.RabbitLegacy=i.extend({_doReset:function(){var d=this._key.words,g=this.cfg.iv,w=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],S=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var b=0;b<4;b++)p.call(this);for(var b=0;b<8;b++)S[b]^=w[b+4&7];if(g){var k=g.words,E=k[0],C=k[1],T=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,P=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,B=T>>>16|P&4294901760,v=P<<16|T&65535;S[0]^=T,S[1]^=B,S[2]^=P,S[3]^=v,S[4]^=T,S[5]^=B,S[6]^=P,S[7]^=v;for(var b=0;b<4;b++)p.call(this)}},_doProcessBlock:function(d,g){var w=this._X;p.call(this),l[0]=w[0]^w[5]>>>16^w[3]<<16,l[1]=w[2]^w[7]>>>16^w[5]<<16,l[2]=w[4]^w[1]>>>16^w[7]<<16,l[3]=w[6]^w[3]>>>16^w[1]<<16;for(var S=0;S<4;S++)l[S]=(l[S]<<8|l[S]>>>24)&16711935|(l[S]<<24|l[S]>>>8)&4278255360,d[g+S]^=l[S]},blockSize:128/32,ivSize:64/32});function p(){for(var d=this._X,g=this._C,w=0;w<8;w++)c[w]=g[w];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var w=0;w<8;w++){var S=d[w]+g[w],b=S&65535,k=S>>>16,E=((b*b>>>17)+b*k>>>15)+k*k,C=((S&4294901760)*S|0)+((S&65535)*S|0);u[w]=E^C}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(h)}(),n.RabbitLegacy})}(tl)),tl.exports}var nl={exports:{}},jI=nl.exports,Tp;function zI(){return Tp||(Tp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),xs(),Hr(),$r(),bt())})(jI,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo;const l=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function p(b,k){let E=k>>24&255,C=k>>16&255,T=k>>8&255,P=k&255,B=b.sbox[0][E]+b.sbox[1][C];return B=B^b.sbox[2][T],B=B+b.sbox[3][P],B}function d(b,k,E){let C=k,T=E,P;for(let B=0;B<l;++B)C=C^b.pbox[B],T=p(b,C)^T,P=C,C=T,T=P;return P=C,C=T,T=P,T=T^b.pbox[l],C=C^b.pbox[l+1],{left:C,right:T}}function g(b,k,E){let C=k,T=E,P;for(let B=l+1;B>1;--B)C=C^b.pbox[B],T=p(b,C)^T,P=C,C=T,T=P;return P=C,C=T,T=P,T=T^b.pbox[1],C=C^b.pbox[0],{left:C,right:T}}function w(b,k,E){for(let v=0;v<4;v++){b.sbox[v]=[];for(let x=0;x<256;x++)b.sbox[v][x]=u[v][x]}let C=0;for(let v=0;v<l+2;v++)b.pbox[v]=c[v]^k[C],C++,C>=E&&(C=0);let T=0,P=0,B=0;for(let v=0;v<l+2;v+=2)B=d(b,T,P),T=B.left,P=B.right,b.pbox[v]=T,b.pbox[v+1]=P;for(let v=0;v<4;v++)for(let x=0;x<256;x+=2)B=d(b,T,P),T=B.left,P=B.right,b.sbox[v][x]=T,b.sbox[v][x+1]=P;return!0}var S=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,k=b.words,E=b.sigBytes/4;w(h,k,E)}},encryptBlock:function(b,k){var E=d(h,b[k],b[k+1]);b[k]=E.left,b[k+1]=E.right},decryptBlock:function(b,k){var E=g(h,b[k],b[k+1]);b[k]=E.left,b[k+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(S)}(),n.Blowfish})}(nl)),nl.exports}var WI=Ea.exports,bp;function YI(){return bp||(bp=1,function(t,e){(function(n,r,s){t.exports=r(Be(),pc(),qD(),zD(),xs(),GD(),Hr(),Ex(),_h(),JD(),wx(),nI(),sI(),oI(),xh(),cI(),$r(),bt(),dI(),mI(),_I(),vI(),EI(),AI(),bI(),DI(),SI(),kI(),FI(),MI(),VI(),LI(),HI(),qI(),zI())})(WI,function(n){return n})}(Ea)),Ea.exports}var GI=YI();const ju=yx(GI),Cp=(t,e)=>{if(!e||e.length!==4)throw new Error("Invalid PIN: must be 4 digits");return ju.AES.encrypt(t,e).toString()},Dp=(t,e)=>{if(!e||e.length!==4)throw new Error("Invalid PIN: must be 4 digits");try{const r=ju.AES.decrypt(t,e).toString(ju.enc.Utf8);if(!r)throw new Error("Incorrect PIN");return r}catch(n){throw console.error("Decryption failed:",n),new Error("Decryption failed: incorrect PIN or invalid message")}},KI=t=>{const e=/(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/g,n=t.split(e),r=t.match(e)||[];let s=[];return n.forEach((i,o)=>{r.includes(i)?s.push({type:"link",content:i,url:i}):i&&s.push({type:"text",content:i})}),s},Ax=t=>t?new Date(t.seconds*1e3).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit",hour12:!1}):"",QI=t=>t.read_date?`อ่านแล้ว ${Ax(t.read_date)}`:"",XI={class:"flex items-center justify-center my-4"},ZI={class:"bg-base-200 rounded-full px-4 py-1 text-xs text-base-content/70"},JI={key:0,class:"chat-header text-xs sm:text-sm"},eS={class:"text-xs opacity-50"},tS=["onClick","onKeyup"],nS={key:0,class:"flex items-center gap-2"},rS={key:1,class:"flex items-center gap-2"},sS=["href"],iS={key:1},oS={key:0,class:"mt-2 space-y-2"},aS={key:0,class:"relative"},lS={key:0,class:"w-32 h-32 rounded-lg animate-pulse bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},cS=["src","alt","onLoad","onClick"],uS={key:1,class:"relative"},hS={controls:"",class:"w-full max-w-sm rounded-lg",preload:"metadata"},fS=["src","type"],dS={key:2},pS=["href"],mS={key:1,class:"chat-footer opacity-50 text-xs"},gS={key:1,class:"chat chat-start"},_S={__name:"ChatMessages",props:{messages:{type:Array,required:!0},currentUserId:{type:String,required:!0},pin:{type:String,required:!0},isInitialLoading:{type:Boolean,default:!1}},emits:["select-image"],setup(t,{emit:e}){const n=t,r=Re(null),s=Re({}),i=Re(new Set),o=Re({}),l=Re(new Set),c=Dr(()=>Object.values(o.value).some(k=>k===!0));ss(()=>n.messages,(k,E)=>{(!E||k.length>E.length)&&au(()=>{S()})},{deep:!0}),ss(c,k=>{k&&au(()=>{S()})});const u=k=>{const E=new Date(k),C=new Date,T=new Date(C);if(T.setDate(T.getDate()-1),E.toDateString()===C.toDateString())return"วันนี้";if(E.toDateString()===T.toDateString())return"เมื่อวาน";{const P={year:"numeric",month:"long",day:"numeric"};return E.toLocaleDateString("th-TH",P)}},h=Dr(()=>{if(!n.messages.length)return[];const k=[];let E=null,C=null;return n.messages.forEach(T=>{var v;const P=new Date(((v=T.send_date)==null?void 0:v.seconds)*1e3||Date.now()),B=P.toDateString();B!==E&&(E=B,C={date:P,messages:[]},k.push(C)),C.messages.push(T)}),k}),p=k=>{s.value[k]=!1},d=k=>{try{const C=new URL(k).pathname,T=C.substring(C.lastIndexOf("/")+1);return decodeURIComponent(T)}catch(E){return console.error("Error extracting filename:",E),""}},g=async k=>{var T;if(l.value.has(k))return;const E=n.messages.find(P=>P.id===k),C=E==null?void 0:E.send_user;if(!E){console.error("Message not found");return}if(!(E.isDecrypted&&i.value.has(k)))try{if(l.value.add(k),!n.pin||n.pin.length!==4)throw new Error("Invalid PIN");const P=Dp(E.message,n.pin);if(!P)throw new Error("Decryption failed - null or empty result");E.decryptedText=P.trim()===" "?"":P,E.isDecrypted=!0,i.value.add(k);const B=C!==n.currentUserId,v=E.read_date===null;B&&v&&await w(k),(T=E.attached_documents)!=null&&T.length&&(E.attached_documents=await Promise.all(E.attached_documents.map(async(x,I)=>{try{const _=Dp(x,n.pin),y=`${k}-${I}`;return s.value[y]=!0,{id:y,decryptedUrl:_,filename:d(_)}}catch(_){return console.error("Error decrypting attachment:",_),{id:`${k}-${I}`,decryptedUrl:null,filename:"Decryption failed",error:_.message}}})))}catch(P){console.error("Decryption error:",P),E.decryptError=!0,E.isDecrypted=!1,i.value.delete(k),setTimeout(()=>{E.decryptError=!1},1e3)}finally{l.value.delete(k)}},w=async k=>{try{const E=yo(os,"messages",k);await C_(E,{read_date:js()})}catch(E){console.error("Error marking message as read:",E)}},S=()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)},b=(k,E,C)=>{var v,x;if(C===0)return!0;const T=E[C-1];if(T.send_user!==k.send_user)return!0;const P=((v=k.send_date)==null?void 0:v.seconds)*1e3||Date.now(),B=((x=T.send_date)==null?void 0:x.seconds)*1e3||Date.now();return P-B>18e4};return Vr(()=>{S();const k=y_(Mu(os,"typing_status")),E=W0(k,C=>{C.docChanges().forEach(T=>{var B;const P=T.doc.id;if(P!==n.currentUserId)if(T.type==="removed")delete o.value[P];else{const v=T.doc.data(),x=Math.floor(Date.now()/1e3),I=((B=v.timestamp)==null?void 0:B.seconds)||0,_=x-I>60;o.value[P]=_?!1:v.isTyping}})});Ml(()=>{E()})}),(k,E)=>(ge(),ve("div",{class:"flex-1 overflow-y-auto p-2 sm:p-4",style:{"max-height":"calc(100vh - 200px)"},ref_key:"messageContainer",ref:r},[t.isInitialLoading?(ge(),Gs(CD,{key:0})):Tt("",!0),(ge(!0),ve(ut,null,Kn(h.value,(C,T)=>(ge(),ve(ut,{key:T},[L("div",XI,[L("div",ZI,pt(u(C.date)),1)]),(ge(!0),ve(ut,null,Kn(C.messages,P=>{var B;return ge(),ve("div",{key:P.id,class:kn(["chat",{"chat-end":P.send_user===t.currentUserId,"chat-start":P.send_user!==t.currentUserId}])},[E[6]||(E[6]=L("div",{class:"chat-image avatar hidden sm:block"},[L("div",{class:"w-8 sm:w-10 rounded-full"},[L("img",{alt:"avatar",src:"https://storage.googleapis.com/giraffepark-bdb1d.appspot.com/loginBG_wqv.png"})])],-1)),b(P,C.messages,C.messages.indexOf(P))?(ge(),ve("div",JI,[ca(pt(P.send_user===t.currentUserId?"Me":"You")+" ",1),L("time",eS,pt(Zr(Ax)(P.send_date)),1)])):Tt("",!0),L("div",{class:kn(["chat-bubble text-sm sm:text-base whitespace-pre-wrap cursor-pointer select-none text-left",[{"chat-bubble-primary":P.send_user===t.currentUserId},{"shake-animation":P.decryptError},{"opacity-50":!P.isDecrypted&&P.decryptError},{"cursor-not-allowed":l.value.has(P.id)}]]),onClick:v=>g(P.id),tabindex:"0",onKeyup:Hi(v=>g(P.id),["enter"])},[l.value.has(P.id)?(ge(),ve("div",nS,E[1]||(E[1]=[L("span",{class:"loading loading-spinner loading-xs"},null,-1),L("span",null,"Decrypting...",-1)]))):Tt("",!0),P.isDecrypted?(ge(),ve(ut,{key:2},[(ge(!0),ve(ut,null,Kn(Zr(KI)(P.decryptedText),(v,x)=>(ge(),ve(ut,{key:x},[v.type==="link"?(ge(),ve("a",{key:0,href:v.url,target:"_blank",rel:"noopener noreferrer",class:"text-info hover:underline",onClick:E[0]||(E[0]=ha(()=>{},["stop"]))},"Link",8,sS)):(ge(),ve("span",iS,pt(v.content),1))],64))),128)),(B=P.attached_documents)!=null&&B.length?(ge(),ve("div",oS,[(ge(!0),ve(ut,null,Kn(P.attached_documents,(v,x)=>(ge(),ve("div",{key:v.id,class:"attachment-container"},[Zr(vx)(v.decryptedUrl)?(ge(),ve("div",aS,[s.value[v.id]?(ge(),ve("div",lS,E[3]||(E[3]=[L("svg",{class:"w-10 h-10 text-gray-300 dark:text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[L("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),L("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):Tt("",!0),L("img",{src:v.decryptedUrl,alt:v.filename||"Attached image",class:kn(["w-32 h-32 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",{hidden:s.value[v.id]}]),onLoad:I=>p(v.id),onClick:I=>k.$emit("select-image",P.attached_documents.map(_=>_.decryptedUrl),x)},null,42,cS)])):Zr(DD)(v.decryptedUrl)?(ge(),ve("div",uS,[L("video",hS,[L("source",{src:v.decryptedUrl,type:Zr(ID)(v.decryptedUrl)},null,8,fS),E[4]||(E[4]=ca(" Your browser does not support the video tag. "))])])):(ge(),ve("div",dS,[L("a",{href:v.decryptedUrl,target:"_blank",class:"link link-primary flex items-center gap-1"},[E[5]||(E[5]=L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),ca(" "+pt(v.filename||`Attachment ${x+1}`),1)],8,pS)]))]))),128))])):Tt("",!0)],64)):(ge(),ve("div",rS,E[2]||(E[2]=[L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),L("span",null,"Click to decrypt",-1)])))],42,tS),P.send_user==t.currentUserId?(ge(),ve("div",mS,pt(Zr(QI)(P)),1)):Tt("",!0)],2)}),128))],64))),128)),c.value?(ge(),ve("div",gS,E[7]||(E[7]=[Mm('<div class="chat-bubble bg-base-200 min-h-0 p-2" data-v-f1e99510><div class="flex gap-1 items-center" data-v-f1e99510><div class="w-2 h-2 rounded-full bg-current animate-bounce" data-v-f1e99510></div><div class="w-2 h-2 rounded-full bg-current animate-bounce" style="animation-delay:0.2s;" data-v-f1e99510></div><div class="w-2 h-2 rounded-full bg-current animate-bounce" style="animation-delay:0.4s;" data-v-f1e99510></div></div></div>',1)]))):Tt("",!0)],512))}},xS=Co(_S,[["__scopeId","data-v-f1e99510"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebasestorage.googleapis.com",bx="storageBucket",vS=2*60*1e3,yS=10*60*1e3,ES=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends ps{constructor(e,n,r=0){super(Zc(e),`Firebase Storage: ${n} (${Zc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Zc(t){return"storage/"+t}function vh(){const t="An unknown error occurred, please check the error payload for server response.";return new it(Je.UNKNOWN,t)}function wS(t){return new it(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function AS(t){return new it(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TS(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it(Je.UNAUTHENTICATED,t)}function bS(){return new it(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CS(t){return new it(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Cx(){return new it(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dx(){return new it(Je.CANCELED,"User canceled the upload/download.")}function DS(t){return new it(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function IS(t){return new it(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SS(){return new it(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bx+"' property when initializing the app?")}function Ix(){return new it(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RS(){return new it(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function kS(){return new it(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PS(t){return new it(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zu(t){return new it(Je.INVALID_ARGUMENT,t)}function Sx(){return new it(Je.APP_DELETED,"The Firebase app was deleted.")}function FS(t){return new it(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yi(t,e){return new it(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Si(t){throw new it(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=an.makeFromUrl(e,n)}catch{return new an(e,"")}if(r.path==="")return r;throw IS(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${p}/${h}/b/${s}/o${d}`,"i"),w={bucket:1,path:3},S=n===Tx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",k=new RegExp(`^https?://${S}/${s}/${b}`,"i"),C=[{regex:l,indices:c,postModify:i},{regex:g,indices:w,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<C.length;T++){const P=C[T],B=P.regex.exec(e);if(B){const v=B[P.indices.bucket];let x=B[P.indices.path];x||(x=""),r=new an(v,x),P.postModify(r);break}}if(r==null)throw DS(e);return r}}class BS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...b){u||(u=!0,e.apply(null,b))}function p(b){s=setTimeout(()=>{s=null,t(g,c())},b)}function d(){i&&clearTimeout(i)}function g(b,...k){if(u){d();return}if(b){d(),h.call(null,b,...k);return}if(c()||o){d(),h.call(null,b,...k);return}r<64&&(r*=2);let C;l===1?(l=2,C=0):C=(r+Math.random())*1e3,p(C)}let w=!1;function S(b){w||(w=!0,d(),!u&&(s!==null?(b||(l=2),clearTimeout(s),p(0)):b||(l=1)))}return p(0),i=setTimeout(()=>{o=!0,S(!0)},n),S}function OS(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){return t!==void 0}function NS(t){return typeof t=="function"}function LS(t){return typeof t=="object"&&!Array.isArray(t)}function mc(t){return typeof t=="string"||t instanceof String}function Ip(t){return yh()&&t instanceof Blob}function yh(){return typeof Blob<"u"}function Sp(t,e,n,r){if(r<e)throw zu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Rx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ls||(ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,s,i,o,l,c,u,h,p,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ra(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===ls.NO_ERROR,c=i.getStatus();if(!l||kx(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ls.ABORT;r(!1,new ra(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new ra(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());VS(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=vh();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?Sx():Dx();o(c)}else{const c=Cx();o(c)}};this.canceled_?n(!1,new ra(!1,null,!0)):this.backoffId_=MS(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ra{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HS(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $S(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qS(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jS(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zS(t,e,n,r,s,i,o=!0){const l=Rx(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return qS(u,e),HS(u,n),$S(u,i),jS(u,r),new US(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YS(...t){const e=WS();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yh())return new Blob(t);throw new it(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GS(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){if(typeof atob>"u")throw PS("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jc{constructor(e,n){this.data=e,this.contentType=n||null}}function QS(t,e){switch(t){case Sn.RAW:return new Jc(Px(e));case Sn.BASE64:case Sn.BASE64URL:return new Jc(Fx(t,e));case Sn.DATA_URL:return new Jc(ZS(e),JS(e))}throw vh()}function Px(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XS(t){let e;try{e=decodeURIComponent(t)}catch{throw Yi(Sn.DATA_URL,"Malformed data URL.")}return Px(e)}function Fx(t,e){switch(t){case Sn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Yi(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Yi(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KS(e)}catch(s){throw s.message.includes("polyfill")?s:Yi(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Bx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yi(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZS(t){const e=new Bx(t);return e.base64?Fx(Sn.BASE64,e.rest):XS(e.rest)}function JS(t){return new Bx(t).contentType}function eR(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){let r=0,s="";Ip(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ip(this.data_)){const r=this.data_,s=GS(r,e,n);return s===null?null:new pr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new pr(r,!0)}}static getBlob(...e){if(yh()){const n=e.map(r=>r instanceof pr?r.data_:r);return new pr(YS.apply(null,n))}else{const n=e.map(o=>mc(o)?QS(Sn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new pr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t){let e;try{e=JSON.parse(t)}catch{return null}return LS(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nR(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ox(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){return e}class $t{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||rR}}let sa=null;function sR(t){return!mc(t)||t.length<2?t:Ox(t)}function Vx(){if(sa)return sa;const t=[];t.push(new $t("bucket")),t.push(new $t("generation")),t.push(new $t("metageneration")),t.push(new $t("name","fullPath",!0));function e(i,o){return sR(o)}const n=new $t("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new $t("size");return s.xform=r,t.push(s),t.push(new $t("timeCreated")),t.push(new $t("updated")),t.push(new $t("md5Hash",null,!0)),t.push(new $t("cacheControl",null,!0)),t.push(new $t("contentDisposition",null,!0)),t.push(new $t("contentEncoding",null,!0)),t.push(new $t("contentLanguage",null,!0)),t.push(new $t("contentType",null,!0)),t.push(new $t("metadata","customMetadata",!0)),sa=t,sa}function iR(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new an(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function oR(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return iR(r,t),r}function Nx(t,e,n){const r=Mx(e);return r===null?null:oR(t,r,n)}function aR(t,e,n,r){const s=Mx(e);if(s===null||!mc(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,p=t.fullPath,d="/b/"+o(h)+"/o/"+o(p),g=Do(d,n,r),w=Rx({alt:"media",token:u});return g+w})[0]}function Lx(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class fi{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){if(!t)throw vh()}function Eh(t,e){function n(r,s){const i=Nx(t,s,e);return er(i!==null),i}return n}function lR(t,e){function n(r,s){const i=Nx(t,s,e);return er(i!==null),aR(i,s,t.host,t._protocol)}return n}function Io(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=bS():s=TS():n.getStatus()===402?s=AS(t.bucket):n.getStatus()===403?s=CS(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Ux(t){const e=Io(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=wS(t.path)),i.serverResponse=s.serverResponse,i}return n}function cR(t,e,n){const r=e.fullServerUrl(),s=Do(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new fi(s,i,Eh(t,n),o);return l.errorHandler=Ux(e),l}function uR(t,e,n){const r=e.fullServerUrl(),s=Do(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new fi(s,i,lR(t,n),o);return l.errorHandler=Ux(e),l}function hR(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Hx(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hR(null,e)),r}function fR(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let C="";for(let T=0;T<2;T++)C=C+Math.random().toString().slice(2);return C}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=Hx(e,r,s),h=Lx(u,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+c+"--",g=pr.getBlob(p,r,d);if(g===null)throw Ix();const w={name:u.fullPath},S=Do(i,t.host,t._protocol),b="POST",k=t.maxUploadRetryTime,E=new fi(S,b,Eh(t,n),k);return E.urlParams=w,E.headers=o,E.body=g.uploadData(),E.errorHandler=Io(e),E}class Cl{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function wh(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{er(!1)}return er(!!n&&(e||["active"]).indexOf(n)!==-1),n}function dR(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=Hx(e,r,s),l={name:o.fullPath},c=Do(i,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=Lx(o,n),d=t.maxUploadRetryTime;function g(S){wh(S);let b;try{b=S.getResponseHeader("X-Goog-Upload-URL")}catch{er(!1)}return er(mc(b)),b}const w=new fi(c,u,g,d);return w.urlParams=l,w.headers=h,w.body=p,w.errorHandler=Io(e),w}function pR(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const h=wh(u,["active","final"]);let p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{er(!1)}p||er(!1);const d=Number(p);return er(!isNaN(d)),new Cl(d,r.size(),h==="final")}const o="POST",l=t.maxUploadRetryTime,c=new fi(n,o,i,l);return c.headers=s,c.errorHandler=Io(e),c}const Rp=256*1024;function mR(t,e,n,r,s,i,o,l){const c=new Cl(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw RS();const u=c.total-c.current;let h=u;s>0&&(h=Math.min(h,s));const p=c.current,d=p+h;let g="";h===0?g="finalize":u===h?g="upload, finalize":g="upload";const w={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},S=r.slice(p,d);if(S===null)throw Ix();function b(T,P){const B=wh(T,["active","final"]),v=c.current+h,x=r.size();let I;return B==="final"?I=Eh(e,i)(T,P):I=null,new Cl(v,x,B==="final",I)}const k="POST",E=e.maxUploadRetryTime,C=new fi(n,k,b,E);return C.headers=w,C.body=S.uploadData(),C.progressCallback=l||null,C.errorHandler=Io(t),C}const Xt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eu(t){switch(t){case"running":case"pausing":case"canceling":return Xt.RUNNING;case"paused":return Xt.PAUSED;case"success":return Xt.SUCCESS;case"canceled":return Xt.CANCELED;case"error":return Xt.ERROR;default:return Xt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r){if(NS(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class _R{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Si("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Si("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Si("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Si("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Si("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xR extends _R{initXhr(){this.xhr_.responseType="text"}}function Os(){return new xR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Vx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(kx(s.status,[]))if(i)s=Cx();else{this.sleepTime=Math.max(this.sleepTime*2,ES),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=dR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=pR(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Os,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Rp*this._chunkMultiplier,n=new Cl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=mR(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Os,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Rp*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=cR(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Dx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=eu(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new gR(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(eu(this._state)){case Xt.SUCCESS:Is(this._resolve.bind(null,this.snapshot))();break;case Xt.CANCELED:case Xt.ERROR:const n=this._reject;Is(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(eu(this._state)){case Xt.RUNNING:case Xt.PAUSED:e.next&&Is(e.next.bind(e,this.snapshot))();break;case Xt.SUCCESS:e.complete&&Is(e.complete.bind(e))();break;case Xt.CANCELED:case Xt.ERROR:e.error&&Is(e.error.bind(e,this._error))();break;default:e.error&&Is(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this._service=e,n instanceof an?this._location=n:this._location=an.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ds(e,n)}get root(){const e=new an(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ox(this._location.path)}get storage(){return this._service}get parent(){const e=tR(this._location.path);if(e===null)return null;const n=new an(this._location.bucket,e);return new ds(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FS(e)}}function yR(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new vR(t,new pr(e),n)}function ER(t){t._throwIfRoot("getDownloadURL");const e=uR(t.storage,t._location,Vx());return t.storage.makeRequestWithTokens(e,Os).then(n=>{if(n===null)throw kS();return n})}function wR(t,e){const n=nR(t._location.path,e),r=new an(t._location.bucket,n);return new ds(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){return/^[A-Za-z]+:\/\//.test(t)}function TR(t,e){return new ds(t,e)}function $x(t,e){if(t instanceof Ah){const n=t;if(n._bucket==null)throw SS();const r=new ds(n,n._bucket);return e!=null?$x(r,e):r}else return e!==void 0?wR(t,e):t}function bR(t,e){if(e&&AR(e)){if(t instanceof Ah)return TR(t,e);throw zu("To use ref(service, url), the first argument must be a Storage instance.")}else return $x(t,e)}function kp(t,e){const n=e==null?void 0:e[bx];return n==null?null:an.makeFromBucketSpec(n,t)}function CR(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:qm(s,t.app.options.projectId))}class Ah{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Tx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vS,this._maxUploadRetryTime=yS,this._requests=new Set,s!=null?this._bucket=an.makeFromBucketSpec(s,this._host):this._bucket=kp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=an.makeFromBucketSpec(this._url,e):this._bucket=kp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ds(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new BS(Sx());{const o=zS(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Pp="@firebase/storage",Fp="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="storage";function DR(t,e,n){return t=en(t),yR(t,e,n)}function IR(t){return t=en(t),ER(t)}function SR(t,e){return t=en(t),bR(t,e)}function RR(t=Xm(),e){t=en(t);const r=Gm(t,qx).getImmediate({identifier:e}),s=Hm("storage");return s&&kR(r,...s),r}function kR(t,e,n,r={}){CR(t,e,n,r)}function PR(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ah(n,r,s,e,Km)}function FR(){Ji(new Qs(qx,PR,"PUBLIC").setMultipleInstances(!0)),Er(Pp,Fp,""),Er(Pp,Fp,"esm2017")}FR();const BR={key:0,class:"modal-overlay"},MR={class:"fixed inset-0 z-50 flex items-center justify-center p-4"},OR={class:"bg-white rounded-lg max-w-md w-full p-6 space-y-4"},VR={key:0,class:"space-y-2"},NR={class:"flex justify-between text-sm text-gray-600"},LR={class:"w-full bg-gray-200 rounded-full h-2"},UR={class:"text-sm text-gray-600 text-right"},HR={class:"max-h-48 overflow-y-auto space-y-4"},$R={class:"flex justify-between items-start"},qR={class:"text-sm text-gray-600"},jR={class:"font-medium"},zR={class:"text-xs"},WR={class:"text-xs text-gray-500"},YR={class:"w-full bg-gray-200 rounded-full h-1.5"},GR={key:1,class:"bg-red-50 border border-red-200 rounded-md p-3"},KR={class:"text-sm text-red-600"},QR={__name:"UploadModal",props:{isOpen:{type:Boolean,required:!0},files:{type:Array,required:!0},fileProgress:{type:Object,required:!0},fileStatus:{type:Object,required:!0},error:{type:String,default:null}},setup(t){const e=t,n=Dr(()=>{if(!e.files.length)return 0;const i=Object.values(e.fileProgress).reduce((o,l)=>o+l,0);return Math.round(i/e.files.length)}),r=Dr(()=>Object.values(e.fileStatus).filter(i=>i==="completed").length),s=i=>{if(i===0)return"0 Bytes";const o=1024,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(i)/Math.log(o));return parseFloat((i/Math.pow(o,c)).toFixed(1))+" "+l[c]};return(i,o)=>t.isOpen?(ge(),ve("div",BR,[o[2]||(o[2]=L("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-40"},null,-1)),L("div",MR,[L("div",OR,[o[1]||(o[1]=L("div",{class:"flex items-center justify-between"},[L("h2",{class:"text-lg font-semibold"},"กำลังอัพโหลดไฟล์")],-1)),t.files.length>1?(ge(),ve("div",VR,[L("div",NR,[o[0]||(o[0]=L("span",null,"ความคืบหน้ารวม",-1)),L("span",null,pt(r.value)+"/"+pt(t.files.length)+" ไฟล์",1)]),L("div",LR,[L("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Cr({width:`${n.value}%`})},null,4)]),L("div",UR,pt(n.value)+"% ",1)])):Tt("",!0),L("div",HR,[(ge(!0),ve(ut,null,Kn(t.files,(l,c)=>(ge(),ve("div",{key:l.name+c,class:"space-y-2"},[L("div",$R,[L("div",qR,[L("div",jR,pt(l.name),1),L("div",zR,pt(s(l.size)),1)]),L("div",WR,pt(t.fileProgress[c])+"% ",1)]),L("div",YR,[L("div",{class:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:Cr({width:`${t.fileProgress[c]}%`})},null,4)])]))),128))]),t.error?(ge(),ve("div",GR,[L("p",KR,pt(t.error),1)])):Tt("",!0)])])])):Tt("",!0)}},XR=Co(QR,[["__scopeId","data-v-e9584886"]]),ZR={class:"fixed inset-0 z-50 flex items-center justify-center p-4"},JR={class:"bg-black/50 fixed top-0 left-0 right-0 z-20 p-4 flex justify-between items-center"},e6={class:"text-sm text-white"},t6={class:"min-w-full h-full flex items-center justify-center"},n6=["src"],r6=["src","onLoad"],s6={class:"min-w-full h-full flex items-center justify-center"},i6=["src"],Bp=50,o6={__name:"ImageViewerModal",props:{images:{type:Array,required:!0},initialIndex:{type:Number,default:0}},emits:["close"],setup(t,{emit:e}){const n=t,r=Re(n.initialIndex),s=Re((n.initialIndex+1)*100),i=Re(!1),o=Re(null),l=Re(null),c=Re({}),u=Re({}),h=Re(null),p=Re(null),d=Dr(()=>r.value+1),g=()=>{i.value&&(i.value=!1)},w=()=>{i.value||(r.value===n.images.length-1?(h.value.style.transition="none",r.value=0,s.value=100,h.value.offsetHeight,h.value.style.transition="transform 0.3s ease-in-out"):(i.value=!0,r.value++,s.value+=100))},S=()=>{i.value||(r.value===0?(h.value.style.transition="none",r.value=n.images.length-1,s.value=n.images.length*100,h.value.offsetHeight,h.value.style.transition="transform 0.3s ease-in-out"):(i.value=!0,r.value--,s.value-=100))},b=T=>{o.value=T.changedTouches[0].screenX},k=T=>{l.value=T.changedTouches[0].screenX},E=()=>{if(!o.value||!l.value)return;const T=o.value-l.value,P=T>Bp,B=T<-Bp;P&&w(),B&&S(),o.value=null,l.value=null},C=(T,P)=>{const B=T.target;u.value[P]=B.naturalHeight>B.naturalWidth};return Vr(()=>(document.body.style.overflow="hidden",h.value&&h.value.addEventListener("transitionend",g),()=>{document.body.style.overflow="auto",h.value&&h.value.removeEventListener("transitionend",g)})),ss(r,T=>{(T<-1||T>n.images.length)&&(r.value=T<-1?n.images.length-1:0,s.value=(r.value+1)*100)}),(T,P)=>(ge(),ve("div",ZR,[L("div",{class:"fixed inset-0 bg-black/75 backdrop-blur-sm",onClick:P[0]||(P[0]=B=>T.$emit("close"))}),L("div",{class:"relative z-10 max-w-7xl w-full bg-base-100 rounded-lg overflow-hidden shadow-xl",onTouchstart:b,onTouchmove:k,onTouchend:E},[L("div",JR,[L("span",e6,pt(d.value)+" / "+pt(t.images.length),1),L("button",{onClick:P[1]||(P[1]=B=>T.$emit("close")),class:"btn btn-circle btn-sm bg-black/50 border-0 text-white hover:bg-black/70"},P[2]||(P[2]=[L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t.images.length>1?(ge(),ve("button",{key:0,class:"fixed left-4 top-1/2 -translate-y-1/2 btn btn-circle hidden sm:flex z-20 bg-black/50 border-0 text-white hover:bg-black/70",onClick:S},P[3]||(P[3]=[L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):Tt("",!0),t.images.length>1?(ge(),ve("button",{key:1,class:"fixed right-4 top-1/2 -translate-y-1/2 btn btn-circle hidden sm:flex z-20 bg-black/50 border-0 text-white hover:bg-black/70",onClick:w},P[4]||(P[4]=[L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):Tt("",!0),L("div",{class:"relative overflow-hidden h-[calc(100vh-2rem)]",ref_key:"containerRef",ref:p},[L("div",{class:"flex h-full transition-transform duration-300 ease-in-out",style:Cr({transform:`translateX(-${s.value}%)`}),ref_key:"sliderRef",ref:h},[L("div",t6,[L("img",{src:t.images[t.images.length-1],class:kn(["max-w-full max-h-full object-contain",u.value[t.images.length-1]?"h-full":"w-full"])},null,10,n6)]),(ge(!0),ve(ut,null,Kn(t.images,(B,v)=>(ge(),ve("div",{key:v,class:"min-w-full h-full flex items-center justify-center"},[L("img",{src:B,ref_for:!0,ref:x=>{x&&(c.value[v]=x)},class:kn(["max-w-full max-h-full object-contain",u.value[v]?"h-full":"w-full"]),onLoad:x=>C(x,v)},null,42,r6)]))),128)),L("div",s6,[L("img",{src:t.images[0],class:kn(["max-w-full max-h-full object-contain",u.value[0]?"h-full":"w-full"])},null,10,i6)])],4)],512)],32)]))}},a6=Co(o6,[["__scopeId","data-v-2f0e016b"]]),l6={class:"flex-1 w-full max-w-[100%] sm:max-w-[640px] lg:max-w-[768px] xl:max-w-[1024px] mx-auto p-2 sm:p-4 overflow-hidden"},c6={class:"h-full rounded-lg shadow-xl flex flex-col"},u6={class:"p-2 sm:p-4 border-t"},h6={key:0,class:"mb-3"},f6={class:"flex flex-wrap gap-2"},d6={class:"truncate max-w-[200px]"},p6=["onClick"],m6={class:"flex gap-2"},g6=["onKeydown"],_6={class:"flex flex-col gap-2"},x6={class:"btn btn-neutral btn-sm sm:btn-md"},v6=["disabled"],y6={__name:"ChatContainer",props:{currentUserId:{type:String,required:!0},pin:{type:String,required:!0}},setup(t){const e=Re(!1),n=Re([]),r=Re({}),s=Re({}),i=Re(null),o=Re([]),l=Re(0),c=t,u=Re([]),h=Re({text:"",files:[]}),p=RR(),d=Re(0),g=Re(!1),w=Re(!0),S=Dr(()=>h.value.text.trim()!==""||h.value.files.length>0);ss(S,async _=>{await b(_)});const b=async _=>{if(c.currentUserId)try{await b_(yo(os,"typing_status",c.currentUserId),{isTyping:_,timestamp:js()})}catch(y){console.error("Error updating typing status:",y)}},k=_=>{h.value.text=_.target.value},E=()=>{const _=new URLSearchParams(window.location.search),y=parseInt(_.get("ql"));return!isNaN(y)&&y>0?y:8},C=()=>{o.value=[],l.value=0},T=async(_,y)=>{if(!c.pin||c.pin.length!==4)throw new Error("กรุณาระบุ PIN ให้ถูกต้อง");return r.value[y]=0,s.value[y]="uploading",new Promise((R,A)=>{const ne=SR(p,`chat-files/${Date.now()}_${_.name}`);DR(ne,_).on("state_changed",re=>{const fe=Math.round(re.bytesTransferred/re.totalBytes*100);r.value[y]=fe},re=>{console.error("Upload error:",re),s.value[y]="error",A(re)},async()=>{try{const re=await IR(ne),fe=Cp(re,c.pin);s.value[y]="completed",Object.values(s.value).every(De=>De==="completed")&&(e.value=!1),R(fe)}catch(re){s.value[y]="error",A(re)}})})},P=async _=>{try{const y=Array.from(_.target.files);if(y.length===0)return;e.value=!0,n.value=y,i.value=null;const R=await Promise.all(y.map(async ie=>ie.type.startsWith("image/")?await BD(ie):ie));R.forEach((ie,re)=>{r.value[re]=0,s.value[re]="waiting"});const A=R.map((ie,re)=>T(ie,re)),ne=await Promise.all(A);h.value.files=[...h.value.files,...R.map((ie,re)=>({file:ie,name:ie.name,url:ne[re]}))]}catch(y){console.error("Error handling files:",y),i.value="เกิดข้อผิดพลาดในการอัพโหลดไฟล์"}},B=_=>{h.value.files=h.value.files.filter((y,R)=>R!==_)},v=async()=>{if(S.value){if(!c.pin||c.pin.length!==4){alert("Please enter a valid 4-digit PIN");return}try{g.value=!0;const _=h.value.text||" ",y=h.value.files.map(R=>R.url);await p4(Mu(os,"messages"),{send_user:c.currentUserId,message:Cp(_,c.pin),send_date:js(),read_date:null,attached_documents:y}),h.value={text:"",files:[]},await b(!1)}catch(_){console.error("Error sending message:",_),alert("Error sending message. Please check your PIN and try again.")}finally{g.value=!1,d.value=0}}},x=(_,y)=>{const R=_.filter(ne=>vx(ne)),A=R.indexOf(_[y]);R.length>0&&A!==-1&&(o.value=R,l.value=A)};let I;return Vr(()=>{const _=E(),y=y_(Mu(os,"messages"),l4("send_date","desc"),c4(_));I=W0(y,R=>{w.value=!1,u.value=R.docs.map(A=>{const ne=A.data();return{id:A.id,...ne,isDecrypted:!1,decryptedText:"",decryptError:!1}}).reverse()})}),Ml(async()=>{I&&I(),await b(!1)}),(_,y)=>(ge(),ve("div",l6,[o.value.length>0?(ge(),Gs(a6,{key:0,images:o.value,"initial-index":l.value,onClose:C},null,8,["images","initial-index"])):Tt("",!0),L("div",c6,[Jt(xS,{messages:u.value,"current-user-id":t.currentUserId,pin:t.pin,"is-initial-loading":w.value,onSelectImage:x},null,8,["messages","current-user-id","pin","is-initial-loading"]),L("div",u6,[h.value.files.length?(ge(),ve("div",h6,[L("div",f6,[(ge(!0),ve(ut,null,Kn(h.value.files,(R,A)=>(ge(),ve("div",{key:A,class:"badge badge-neutral gap-2"},[L("span",d6,pt(R.name),1),L("button",{onClick:ne=>B(A),class:"btn btn-ghost btn-xs btn-circle"}," ✕ ",8,p6)]))),128))])])):Tt("",!0),L("div",m6,[i0(L("textarea",{"onUpdate:modelValue":y[0]||(y[0]=R=>h.value.text=R),onInput:k,placeholder:"Type a message...",class:"textarea textarea-bordered textarea-sm sm:textarea-md flex-1 min-h-[40px] sm:min-h-[45px] max-h-[120px] resize-y",rows:"1",onKeydown:[y[1]||(y[1]=Hi(ha(R=>h.value.text+=`
`,["exact","prevent"]),["enter"])),Hi(ha(v,["ctrl","exact"]),["enter"]),Hi(ha(v,["meta","exact"]),["enter"])]},null,40,g6),[[c0,h.value.text]]),L("div",_6,[L("label",x6,[y[2]||(y[2]=L("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),L("input",{type:"file",accept:"image/*,video/*",multiple:"",onChange:P,class:"hidden"},null,32)]),L("button",{class:"btn btn-primary btn-sm sm:btn-md",onClick:v,disabled:!t.pin||t.pin.length!==4},y[3]||(y[3]=[L("span",{class:"hidden sm:inline"},"ส่ง",-1),L("span",{class:"sm:hidden"},"➤",-1)]),8,v6)])])])]),e.value?(ge(),Gs(XR,{key:1,"is-open":e.value,files:n.value,"file-progress":r.value,"file-status":s.value,error:i.value},null,8,["is-open","files","file-progress","file-status","error"])):Tt("",!0)]))}};function E6(t){let e;const n=async()=>{if(t)try{const i=yo(os,"users",t);(await d4(i)).exists()?await C_(i,{lastLogin:js()}):await b_(i,{lastLogin:js(),createdAt:js()})}catch(i){console.error("Error updating online status:",i)}},r=()=>{n(),e=setInterval(n,6e4),window.addEventListener("focus",n),window.addEventListener("online",n)},s=()=>{e&&clearInterval(e),window.removeEventListener("focus",n),window.removeEventListener("online",n)};return Vr(()=>{r()}),Bl(()=>{s()}),{updateOnlineStatus:n,startOnlineUpdates:r,stopOnlineUpdates:s}}const w6={class:"fixed inset-0 flex flex-col bg-base-100"},A6={class:"navbar bg-gradient-to-r from-base-100 to-base-200 shadow-lg rounded-box px-2 sm:px-4 lg:px-6 border-b border-base-300"},T6={class:"flex-1 flex items-center gap-4"},b6={class:"flex items-center gap-4"},C6={class:"flex-none flex items-center gap-3"},D6={class:"relative group"},I6=["src"],S6={__name:"SimpleChat",props:{currentUserId:{type:String,required:!0},partnerUserId:{type:String,required:!0}},setup(t){E6(t.currentUserId);const n=Re("1234"),r=Re(null),s=i=>{const o=i.target.value;/^\d*$/.test(o)&&o.length<=4&&(n.value=o)};return(i,o)=>(ge(),ve("div",w6,[L("header",A6,[L("div",T6,[o[4]||(o[4]=L("div",{class:"flex flex-col items-start gap-0"},[L("span",{class:"text-lg sm:text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent leading-tight"}," Jubx "),L("span",{class:"text-[10px] text-base-content/50 -mt-1"},"v3.0.7d")],-1)),o[5]||(o[5]=L("div",{class:"h-6 w-px bg-base-300"},null,-1)),L("div",b6,[Jt(yD,{"other-user-id":t.partnerUserId},null,8,["other-user-id"]),Jt(Py)])]),L("div",C6,[o[7]||(o[7]=L("span",{class:"text-xs text-base-content/70 hidden sm:inline"},"Security PIN:",-1)),L("div",D6,[i0(L("input",{type:"text",class:"input input-bordered input-sm w-24 sm:w-28 pr-8 text-center font-mono tracking-[0.2em] transition-all duration-200 ease-in-out hover:shadow-md focus:shadow-md focus:scale-[1.02] placeholder-base-content/30","onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onInput:s,onFocus:o[1]||(o[1]=l=>l.target.select()),maxlength:"4",pattern:"\\d*",placeholder:"• • • •"},null,544),[[c0,n.value]]),o[6]||(o[6]=L("div",{class:"absolute inset-y-0 right-2 flex items-center pointer-events-none"},[L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"w-4 h-4 text-base-content/50 transition-colors group-hover:text-primary"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])])]),Jt(y6,{"current-user-id":t.currentUserId,pin:n.value,onSelectImage:o[2]||(o[2]=l=>r.value=l)},null,8,["current-user-id","pin"]),r.value?(ge(),ve("div",{key:0,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:o[3]||(o[3]=l=>r.value=null)},[L("img",{src:r.value,class:"max-w-[90%] max-h-[90vh] object-contain"},null,8,I6)])):Tt("",!0)]))}};var R6=Hr();const k6=yx(R6),P6={class:"min-h-screen flex items-center justify-center bg-gradient-to-b from-base-200 to-base-300 p-4"},F6={class:"card w-full max-w-sm bg-base-100 shadow-2xl"},B6={class:"card-body items-center text-center pt-4"},M6={class:"form-control w-full"},O6={class:"relative"},V6={key:0,class:"text-error text-sm mt-3 flex items-center justify-center gap-2 animate-shake"},N6={class:"card-actions mt-6 w-full"},L6=["disabled"],U6={__name:"Login",emits:["login"],setup(t,{emit:e}){const n=e,r=Re(""),s=Re(""),i={a4c48e64ed907534b9bcca1a53be9d74:{userId:"user1",partnerId:"user2"},"40c24943ae50c537151eaa63b399df43":{userId:"user2",partnerId:"user1"}},o=()=>{if(!r.value){s.value="Please enter passcode";return}const l=k6(r.value).toString(),c=i[l];c?n("login",c.userId,c.partnerId):(s.value="Invalid passcode",r.value="")};return(l,c)=>(ge(),ve("div",P6,[L("div",F6,[c[6]||(c[6]=L("div",{class:"relative -mt-8 mx-auto"},[L("div",{class:"w-16 h-16 rounded-xl bg-primary flex items-center justify-center shadow-lg mt-8"},[L("span",{class:"text-3xl font-bold text-primary-content"},"J")])],-1)),L("div",B6,[c[4]||(c[4]=L("h2",{class:"card-title text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2"}," Welcome ",-1)),c[5]||(c[5]=L("p",{class:"text-base-content/70 text-sm mb-6"}," Enter your passcode to continue ",-1)),L("div",M6,[L("div",O6,[i0(L("input",{type:"password","onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),placeholder:"Enter passcode",class:"input input-bordered w-full pr-10 font-mono tracking-widest text-center transition-all duration-200 ease-in-out hover:shadow-md focus:shadow-md focus:scale-[1.02]",onKeyup:Hi(o,["enter"])},null,544),[[c0,r.value]]),c[1]||(c[1]=L("div",{class:"absolute inset-y-0 right-3 flex items-center pointer-events-none"},[L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"w-5 h-5 text-base-content/50"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))]),s.value?(ge(),ve("div",V6,[c[2]||(c[2]=L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"w-4 h-4"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),L("span",null,pt(s.value),1)])):Tt("",!0)]),L("div",N6,[L("button",{class:"btn btn-primary w-full shadow-lg hover:shadow-xl transition-shadow duration-200 normal-case text-lg",onClick:o,disabled:!r.value},c[3]||(c[3]=[L("span",{class:"mr-2"},"Login",-1),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",class:"w-5 h-5"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)]),8,L6)])])])]))}},H6=Co(U6,[["__scopeId","data-v-509005d5"]]),$6={class:"app"},q6=10*60*1e3,j6={__name:"App",setup(t){const e=Re(null),n=Re(null),r=Re(!1);let s;const i=(u,h)=>{e.value=u,n.value=h,localStorage.setItem("sessionStartTime",Date.now().toString()),localStorage.setItem("userId",u),localStorage.setItem("partnerId",h),r.value=!0},o=()=>{const u=localStorage.getItem("sessionStartTime"),h=localStorage.getItem("userId"),p=localStorage.getItem("partnerId");if(!u||!h||!p){l();return}if(Date.now()-parseInt(u)>q6){l();return}e.value=h,n.value=p,r.value=!0},l=()=>{localStorage.removeItem("sessionStartTime"),localStorage.removeItem("userId"),localStorage.removeItem("partnerId"),e.value=null,n.value=null,r.value=!1},c=()=>{s=setInterval(()=>{o()},60*1e3)};return Vr(()=>{o(),c()}),Bl(()=>{s&&clearInterval(s)}),(u,h)=>(ge(),ve("div",$6,[r.value?(ge(),Gs(S6,{key:0,"current-user-id":e.value,"partner-user-id":n.value},null,8,["current-user-id","partner-user-id"])):(ge(),Gs(H6,{key:1,onLogin:i}))]))}};Iy(j6).mount("#app")});export default z6();
